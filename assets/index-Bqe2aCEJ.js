function ev(r,t){for(var s=0;s<t.length;s++){const a=t[s];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in r)){const u=Object.getOwnPropertyDescriptor(a,o);u&&Object.defineProperty(r,o,u.get?u:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function s(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=s(o);fetch(o.href,u)}})();function dp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ju={exports:{}},qi={},Nu={exports:{}},Ue={};var Qf;function tv(){if(Qf)return Ue;Qf=1;var r=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=g&&j[g]||j["@@iterator"],typeof j=="function"?j:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,C={};function T(j,z,Y){this.props=j,this.context=z,this.refs=C,this.updater=Y||_}T.prototype.isReactComponent={},T.prototype.setState=function(j,z){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,z,"setState")},T.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function L(){}L.prototype=T.prototype;function M(j,z,Y){this.props=j,this.context=z,this.refs=C,this.updater=Y||_}var U=M.prototype=new L;U.constructor=M,x(U,T.prototype),U.isPureReactComponent=!0;var K=Array.isArray,te=Object.prototype.hasOwnProperty,Z={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function k(j,z,Y){var re,oe={},me=null,Le=null;if(z!=null)for(re in z.ref!==void 0&&(Le=z.ref),z.key!==void 0&&(me=""+z.key),z)te.call(z,re)&&!V.hasOwnProperty(re)&&(oe[re]=z[re]);var he=arguments.length-2;if(he===1)oe.children=Y;else if(1<he){for(var De=Array(he),de=0;de<he;de++)De[de]=arguments[de+2];oe.children=De}if(j&&j.defaultProps)for(re in he=j.defaultProps,he)oe[re]===void 0&&(oe[re]=he[re]);return{$$typeof:r,type:j,key:me,ref:Le,props:oe,_owner:Z.current}}function ne(j,z){return{$$typeof:r,type:j.type,key:z,ref:j.ref,props:j.props,_owner:j._owner}}function we(j){return typeof j=="object"&&j!==null&&j.$$typeof===r}function Me(j){var z={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Y){return z[Y]})}var Te=/\/+/g;function Ie(j,z){return typeof j=="object"&&j!==null&&j.key!=null?Me(""+j.key):z.toString(36)}function Ne(j,z,Y,re,oe){var me=typeof j;(me==="undefined"||me==="boolean")&&(j=null);var Le=!1;if(j===null)Le=!0;else switch(me){case"string":case"number":Le=!0;break;case"object":switch(j.$$typeof){case r:case t:Le=!0}}if(Le)return Le=j,oe=oe(Le),j=re===""?"."+Ie(Le,0):re,K(oe)?(Y="",j!=null&&(Y=j.replace(Te,"$&/")+"/"),Ne(oe,z,Y,"",function(de){return de})):oe!=null&&(we(oe)&&(oe=ne(oe,Y+(!oe.key||Le&&Le.key===oe.key?"":(""+oe.key).replace(Te,"$&/")+"/")+j)),z.push(oe)),1;if(Le=0,re=re===""?".":re+":",K(j))for(var he=0;he<j.length;he++){me=j[he];var De=re+Ie(me,he);Le+=Ne(me,z,Y,De,oe)}else if(De=w(j),typeof De=="function")for(j=De.call(j),he=0;!(me=j.next()).done;)me=me.value,De=re+Ie(me,he++),Le+=Ne(me,z,Y,De,oe);else if(me==="object")throw z=String(j),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return Le}function Ee(j,z,Y){if(j==null)return j;var re=[],oe=0;return Ne(j,re,"","",function(me){return z.call(Y,me,oe++)}),re}function ue(j){if(j._status===-1){var z=j._result;z=z(),z.then(function(Y){(j._status===0||j._status===-1)&&(j._status=1,j._result=Y)},function(Y){(j._status===0||j._status===-1)&&(j._status=2,j._result=Y)}),j._status===-1&&(j._status=0,j._result=z)}if(j._status===1)return j._result.default;throw j._result}var ve={current:null},W={transition:null},J={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:W,ReactCurrentOwner:Z};function G(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:Ee,forEach:function(j,z,Y){Ee(j,function(){z.apply(this,arguments)},Y)},count:function(j){var z=0;return Ee(j,function(){z++}),z},toArray:function(j){return Ee(j,function(z){return z})||[]},only:function(j){if(!we(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ue.Component=T,Ue.Fragment=s,Ue.Profiler=o,Ue.PureComponent=M,Ue.StrictMode=a,Ue.Suspense=p,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,Ue.act=G,Ue.cloneElement=function(j,z,Y){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var re=x({},j.props),oe=j.key,me=j.ref,Le=j._owner;if(z!=null){if(z.ref!==void 0&&(me=z.ref,Le=Z.current),z.key!==void 0&&(oe=""+z.key),j.type&&j.type.defaultProps)var he=j.type.defaultProps;for(De in z)te.call(z,De)&&!V.hasOwnProperty(De)&&(re[De]=z[De]===void 0&&he!==void 0?he[De]:z[De])}var De=arguments.length-2;if(De===1)re.children=Y;else if(1<De){he=Array(De);for(var de=0;de<De;de++)he[de]=arguments[de+2];re.children=he}return{$$typeof:r,type:j.type,key:oe,ref:me,props:re,_owner:Le}},Ue.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:u,_context:j},j.Consumer=j},Ue.createElement=k,Ue.createFactory=function(j){var z=k.bind(null,j);return z.type=j,z},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(j){return{$$typeof:f,render:j}},Ue.isValidElement=we,Ue.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:ue}},Ue.memo=function(j,z){return{$$typeof:m,type:j,compare:z===void 0?null:z}},Ue.startTransition=function(j){var z=W.transition;W.transition={};try{j()}finally{W.transition=z}},Ue.unstable_act=G,Ue.useCallback=function(j,z){return ve.current.useCallback(j,z)},Ue.useContext=function(j){return ve.current.useContext(j)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(j){return ve.current.useDeferredValue(j)},Ue.useEffect=function(j,z){return ve.current.useEffect(j,z)},Ue.useId=function(){return ve.current.useId()},Ue.useImperativeHandle=function(j,z,Y){return ve.current.useImperativeHandle(j,z,Y)},Ue.useInsertionEffect=function(j,z){return ve.current.useInsertionEffect(j,z)},Ue.useLayoutEffect=function(j,z){return ve.current.useLayoutEffect(j,z)},Ue.useMemo=function(j,z){return ve.current.useMemo(j,z)},Ue.useReducer=function(j,z,Y){return ve.current.useReducer(j,z,Y)},Ue.useRef=function(j){return ve.current.useRef(j)},Ue.useState=function(j){return ve.current.useState(j)},Ue.useSyncExternalStore=function(j,z,Y){return ve.current.useSyncExternalStore(j,z,Y)},Ue.useTransition=function(){return ve.current.useTransition()},Ue.version="18.3.1",Ue}var Xf;function cc(){return Xf||(Xf=1,Nu.exports=tv()),Nu.exports}var Zf;function rv(){if(Zf)return qi;Zf=1;var r=cc(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,m){var y,g={},w=null,_=null;m!==void 0&&(w=""+m),p.key!==void 0&&(w=""+p.key),p.ref!==void 0&&(_=p.ref);for(y in p)a.call(p,y)&&!u.hasOwnProperty(y)&&(g[y]=p[y]);if(f&&f.defaultProps)for(y in p=f.defaultProps,p)g[y]===void 0&&(g[y]=p[y]);return{$$typeof:t,type:f,key:w,ref:_,props:g,_owner:o.current}}return qi.Fragment=s,qi.jsx=c,qi.jsxs=c,qi}var eh;function nv(){return eh||(eh=1,ju.exports=rv()),ju.exports}var R=nv(),O=cc();const ee=dp(O),sv=ev({__proto__:null,default:ee},[O]);var xo={},Au={exports:{}},er={},Lu={exports:{}},Iu={};var th;function iv(){return th||(th=1,(function(r){function t(W,J){var G=W.length;W.push(J);e:for(;0<G;){var j=G-1>>>1,z=W[j];if(0<o(z,J))W[j]=J,W[G]=z,G=j;else break e}}function s(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var J=W[0],G=W.pop();if(G!==J){W[0]=G;e:for(var j=0,z=W.length,Y=z>>>1;j<Y;){var re=2*(j+1)-1,oe=W[re],me=re+1,Le=W[me];if(0>o(oe,G))me<z&&0>o(Le,oe)?(W[j]=Le,W[me]=G,j=me):(W[j]=oe,W[re]=G,j=re);else if(me<z&&0>o(Le,G))W[j]=Le,W[me]=G,j=me;else break e}}return J}function o(W,J){var G=W.sortIndex-J.sortIndex;return G!==0?G:W.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();r.unstable_now=function(){return c.now()-f}}var p=[],m=[],y=1,g=null,w=3,_=!1,x=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(W){for(var J=s(m);J!==null;){if(J.callback===null)a(m);else if(J.startTime<=W)a(m),J.sortIndex=J.expirationTime,t(p,J);else break;J=s(m)}}function K(W){if(C=!1,U(W),!x)if(s(p)!==null)x=!0,ue(te);else{var J=s(m);J!==null&&ve(K,J.startTime-W)}}function te(W,J){x=!1,C&&(C=!1,L(k),k=-1),_=!0;var G=w;try{for(U(J),g=s(p);g!==null&&(!(g.expirationTime>J)||W&&!Me());){var j=g.callback;if(typeof j=="function"){g.callback=null,w=g.priorityLevel;var z=j(g.expirationTime<=J);J=r.unstable_now(),typeof z=="function"?g.callback=z:g===s(p)&&a(p),U(J)}else a(p);g=s(p)}if(g!==null)var Y=!0;else{var re=s(m);re!==null&&ve(K,re.startTime-J),Y=!1}return Y}finally{g=null,w=G,_=!1}}var Z=!1,V=null,k=-1,ne=5,we=-1;function Me(){return!(r.unstable_now()-we<ne)}function Te(){if(V!==null){var W=r.unstable_now();we=W;var J=!0;try{J=V(!0,W)}finally{J?Ie():(Z=!1,V=null)}}else Z=!1}var Ie;if(typeof M=="function")Ie=function(){M(Te)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,Ee=Ne.port2;Ne.port1.onmessage=Te,Ie=function(){Ee.postMessage(null)}}else Ie=function(){T(Te,0)};function ue(W){V=W,Z||(Z=!0,Ie())}function ve(W,J){k=T(function(){W(r.unstable_now())},J)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_continueExecution=function(){x||_||(x=!0,ue(te))},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_getFirstCallbackNode=function(){return s(p)},r.unstable_next=function(W){switch(w){case 1:case 2:case 3:var J=3;break;default:J=w}var G=w;w=J;try{return W()}finally{w=G}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(W,J){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var G=w;w=W;try{return J()}finally{w=G}},r.unstable_scheduleCallback=function(W,J,G){var j=r.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?j+G:j):G=j,W){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=G+z,W={id:y++,callback:J,priorityLevel:W,startTime:G,expirationTime:z,sortIndex:-1},G>j?(W.sortIndex=G,t(m,W),s(p)===null&&W===s(m)&&(C?(L(k),k=-1):C=!0,ve(K,G-j))):(W.sortIndex=z,t(p,W),x||_||(x=!0,ue(te))),W},r.unstable_shouldYield=Me,r.unstable_wrapCallback=function(W){var J=w;return function(){var G=w;w=J;try{return W.apply(this,arguments)}finally{w=G}}}})(Iu)),Iu}var rh;function av(){return rh||(rh=1,Lu.exports=iv()),Lu.exports}var nh;function ov(){if(nh)return er;nh=1;var r=cc(),t=av();function s(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function u(e,n){c(e,n),c(e+"Capture",n)}function c(e,n){for(o[e]=n,e=0;e<n.length;e++)a.add(n[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},g={};function w(e){return p.call(g,e)?!0:p.call(y,e)?!1:m.test(e)?g[e]=!0:(y[e]=!0,!1)}function _(e,n,i,l){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function x(e,n,i,l){if(n===null||typeof n>"u"||_(e,n,i,l))return!0;if(l)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function C(e,n,i,l,d,h,v){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=d,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=h,this.removeEmptyString=v}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new C(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];T[n]=new C(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new C(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new C(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new C(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new C(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new C(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new C(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new C(e,5,!1,e.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function M(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(L,M);T[n]=new C(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(L,M);T[n]=new C(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(L,M);T[n]=new C(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new C(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new C(e,1,!1,e.toLowerCase(),null,!0,!0)});function U(e,n,i,l){var d=T.hasOwnProperty(n)?T[n]:null;(d!==null?d.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(x(n,i,d,l)&&(i=null),l||d===null?w(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):d.mustUseProperty?e[d.propertyName]=i===null?d.type===3?!1:"":i:(n=d.attributeName,l=d.attributeNamespace,i===null?e.removeAttribute(n):(d=d.type,i=d===3||d===4&&i===!0?"":""+i,l?e.setAttributeNS(l,n,i):e.setAttribute(n,i))))}var K=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),Z=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),we=Symbol.for("react.provider"),Me=Symbol.for("react.context"),Te=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),Ee=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),W=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var G=Object.assign,j;function z(e){if(j===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);j=n&&n[1]||""}return`
`+j+e}var Y=!1;function re(e,n){if(!e||Y)return"";Y=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch($){var l=$}Reflect.construct(e,[],n)}else{try{n.call()}catch($){l=$}e.call(n.prototype)}else{try{throw Error()}catch($){l=$}e()}}catch($){if($&&l&&typeof $.stack=="string"){for(var d=$.stack.split(`
`),h=l.stack.split(`
`),v=d.length-1,b=h.length-1;1<=v&&0<=b&&d[v]!==h[b];)b--;for(;1<=v&&0<=b;v--,b--)if(d[v]!==h[b]){if(v!==1||b!==1)do if(v--,b--,0>b||d[v]!==h[b]){var E=`
`+d[v].replace(" at new "," at ");return e.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",e.displayName)),E}while(1<=v&&0<=b);break}}}finally{Y=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?z(e):""}function oe(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=re(e.type,!1),e;case 11:return e=re(e.type.render,!1),e;case 1:return e=re(e.type,!0),e;default:return""}}function me(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case V:return"Fragment";case Z:return"Portal";case ne:return"Profiler";case k:return"StrictMode";case Ie:return"Suspense";case Ne:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Me:return(e.displayName||"Context")+".Consumer";case we:return(e._context.displayName||"Context")+".Provider";case Te:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ee:return n=e.displayName||null,n!==null?n:me(e.type)||"Memo";case ue:n=e._payload,e=e._init;try{return me(e(n))}catch{}}return null}function Le(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(n);case 8:return n===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function he(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function De(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function de(e){var n=De(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,h=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(v){l=""+v,h.call(this,v)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function qe(e){e._valueTracker||(e._valueTracker=de(e))}function Ge(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),l="";return e&&(l=De(e)?e.checked?"true":"false":e.value),e=l,e!==i?(n.setValue(e),!0):!1}function it(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qt(e,n){var i=n.checked;return G({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Yn(e,n){var i=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;i=he(n.value!=null?n.value:i),e._wrapperState={initialChecked:l,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Qn(e,n){n=n.checked,n!=null&&U(e,"checked",n,!1)}function Pt(e,n){Qn(e,n);var i=he(n.value),l=n.type;if(i!=null)l==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Ft(e,n.type,i):n.hasOwnProperty("defaultValue")&&Ft(e,n.type,he(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Xn(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Ft(e,n,i){(n!=="number"||it(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Mr=Array.isArray;function zr(e,n,i,l){if(e=e.options,n){n={};for(var d=0;d<i.length;d++)n["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=n.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&l&&(e[i].defaultSelected=!0)}else{for(i=""+he(i),n=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function yt(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(s(91));return G({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kr(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(s(92));if(Mr(i)){if(1<i.length)throw Error(s(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:he(i)}}function xs(e,n){var i=he(n.value),l=he(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),l!=null&&(e.defaultValue=""+l)}function hr(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function rr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wn(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?rr(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rr,It=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,l,d){MSApp.execUnsafeLocalFunction(function(){return e(n,i,l,d)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Rr=Rr||document.createElement("div"),Rr.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Rr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function lt(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Cr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fr=["Webkit","ms","Moz","O"];Object.keys(Cr).forEach(function(e){Fr.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Cr[n]=Cr[e]})});function _n(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||Cr.hasOwnProperty(e)&&Cr[e]?(""+n).trim():n+"px"}function Ss(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var l=i.indexOf("--")===0,d=_n(i,n[i],l);i==="float"&&(i="cssFloat"),l?e.setProperty(i,d):e[i]=d}}var Kt=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qr(e,n){if(n){if(Kt[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(s(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(s(61))}if(n.style!=null&&typeof n.style!="object")throw Error(s(62))}}function bn(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Br=null;function Gt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xn=null,nr=null,pr=null;function Xr(e){if(e=ji(e)){if(typeof xn!="function")throw Error(s(280));var n=e.stateNode;n&&(n=Da(n),xn(e.stateNode,e.type,n))}}function je(e){nr?pr?pr.push(e):pr=[e]:nr=e}function nt(){if(nr){var e=nr,n=pr;if(pr=nr=null,Xr(e),n)for(e=0;e<n.length;e++)Xr(n[e])}}function dt(e,n){return e(n)}function wt(){}var sr=!1;function Ze(e,n,i){if(sr)return e(n,i);sr=!0;try{return dt(e,n,i)}finally{sr=!1,(nr!==null||pr!==null)&&(wt(),nt())}}function ft(e,n){var i=e.stateNode;if(i===null)return null;var l=Da(i);if(l===null)return null;i=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,n,typeof i));return i}var Hr=!1;if(f)try{var _t={};Object.defineProperty(_t,"passive",{get:function(){Hr=!0}}),window.addEventListener("test",_t,_t),window.removeEventListener("test",_t,_t)}catch{Hr=!1}function S(e,n,i,l,d,h,v,b,E){var $=Array.prototype.slice.call(arguments,3);try{n.apply(i,$)}catch(H){this.onError(H)}}var N=!1,I=null,B=!1,Q=null,ye={onError:function(e){N=!0,I=e}};function ae(e,n,i,l,d,h,v,b,E){N=!1,I=null,S.apply(ye,arguments)}function be(e,n,i,l,d,h,v,b,E){if(ae.apply(this,arguments),N){if(N){var $=I;N=!1,I=null}else throw Error(s(198));B||(B=!0,Q=$)}}function ie(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function xe(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Se(e){if(ie(e)!==e)throw Error(s(188))}function _e(e){var n=e.alternate;if(!n){if(n=ie(e),n===null)throw Error(s(188));return n!==e?null:e}for(var i=e,l=n;;){var d=i.return;if(d===null)break;var h=d.alternate;if(h===null){if(l=d.return,l!==null){i=l;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===i)return Se(d),e;if(h===l)return Se(d),n;h=h.sibling}throw Error(s(188))}if(i.return!==l.return)i=d,l=h;else{for(var v=!1,b=d.child;b;){if(b===i){v=!0,i=d,l=h;break}if(b===l){v=!0,l=d,i=h;break}b=b.sibling}if(!v){for(b=h.child;b;){if(b===i){v=!0,i=h,l=d;break}if(b===l){v=!0,l=h,i=d;break}b=b.sibling}if(!v)throw Error(s(189))}}if(i.alternate!==l)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:n}function He(e){return e=_e(e),e!==null?ze(e):null}function ze(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=ze(e);if(n!==null)return n;e=e.sibling}return null}var Ye=t.unstable_scheduleCallback,ht=t.unstable_cancelCallback,Ot=t.unstable_shouldYield,Ve=t.unstable_requestPaint,Fe=t.unstable_now,Zr=t.unstable_getCurrentPriorityLevel,en=t.unstable_ImmediatePriority,Tr=t.unstable_UserBlockingPriority,Bt=t.unstable_NormalPriority,hi=t.unstable_LowPriority,Sn=t.unstable_IdlePriority,mr=null,Ht=null;function Es(e){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(mr,e,void 0,(e.current.flags&128)===128)}catch{}}var Ae=Math.clz32?Math.clz32:tn,kt=Math.log,En=Math.LN2;function tn(e){return e>>>=0,e===0?32:31-(kt(e)/En|0)|0}var Je=64,rn=4194304;function kn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ks(e,n){var i=e.pendingLanes;if(i===0)return 0;var l=0,d=e.suspendedLanes,h=e.pingedLanes,v=i&268435455;if(v!==0){var b=v&~d;b!==0?l=kn(b):(h&=v,h!==0&&(l=kn(h)))}else v=i&~d,v!==0?l=kn(v):h!==0&&(l=kn(h));if(l===0)return 0;if(n!==0&&n!==l&&(n&d)===0&&(d=l&-l,h=n&-n,d>=h||d===16&&(h&4194240)!==0))return n;if((l&4)!==0&&(l|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)i=31-Ae(n),d=1<<i,l|=e[i],n&=~d;return l}function wm(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _m(e,n){for(var i=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes;0<h;){var v=31-Ae(h),b=1<<v,E=d[v];E===-1?((b&i)===0||(b&l)!==0)&&(d[v]=wm(b,n)):E<=n&&(e.expiredLanes|=b),h&=~b}}function Xo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Cc(){var e=Je;return Je<<=1,(Je&4194240)===0&&(Je=64),e}function Zo(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function pi(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Ae(n),e[n]=i}function bm(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<i;){var d=31-Ae(i),h=1<<d;n[d]=0,l[d]=-1,e[d]=-1,i&=~h}}function el(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var l=31-Ae(i),d=1<<l;d&n|e[l]&n&&(e[l]|=n),i&=~d}}var Ke=0;function Tc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Pc,tl,Oc,jc,Nc,rl=!1,ba=[],Rn=null,Cn=null,Tn=null,mi=new Map,gi=new Map,Pn=[],xm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ac(e,n){switch(e){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":mi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":gi.delete(n.pointerId)}}function vi(e,n,i,l,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:i,eventSystemFlags:l,nativeEvent:h,targetContainers:[d]},n!==null&&(n=ji(n),n!==null&&tl(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function Sm(e,n,i,l,d){switch(n){case"focusin":return Rn=vi(Rn,e,n,i,l,d),!0;case"dragenter":return Cn=vi(Cn,e,n,i,l,d),!0;case"mouseover":return Tn=vi(Tn,e,n,i,l,d),!0;case"pointerover":var h=d.pointerId;return mi.set(h,vi(mi.get(h)||null,e,n,i,l,d)),!0;case"gotpointercapture":return h=d.pointerId,gi.set(h,vi(gi.get(h)||null,e,n,i,l,d)),!0}return!1}function Lc(e){var n=Zn(e.target);if(n!==null){var i=ie(n);if(i!==null){if(n=i.tag,n===13){if(n=xe(i),n!==null){e.blockedOn=n,Nc(e.priority,function(){Oc(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xa(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=sl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);Br=l,i.target.dispatchEvent(l),Br=null}else return n=ji(i),n!==null&&tl(n),e.blockedOn=i,!1;n.shift()}return!0}function Ic(e,n,i){xa(e)&&i.delete(n)}function Em(){rl=!1,Rn!==null&&xa(Rn)&&(Rn=null),Cn!==null&&xa(Cn)&&(Cn=null),Tn!==null&&xa(Tn)&&(Tn=null),mi.forEach(Ic),gi.forEach(Ic)}function yi(e,n){e.blockedOn===n&&(e.blockedOn=null,rl||(rl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Em)))}function wi(e){function n(d){return yi(d,e)}if(0<ba.length){yi(ba[0],e);for(var i=1;i<ba.length;i++){var l=ba[i];l.blockedOn===e&&(l.blockedOn=null)}}for(Rn!==null&&yi(Rn,e),Cn!==null&&yi(Cn,e),Tn!==null&&yi(Tn,e),mi.forEach(n),gi.forEach(n),i=0;i<Pn.length;i++)l=Pn[i],l.blockedOn===e&&(l.blockedOn=null);for(;0<Pn.length&&(i=Pn[0],i.blockedOn===null);)Lc(i),i.blockedOn===null&&Pn.shift()}var Rs=K.ReactCurrentBatchConfig,Sa=!0;function km(e,n,i,l){var d=Ke,h=Rs.transition;Rs.transition=null;try{Ke=1,nl(e,n,i,l)}finally{Ke=d,Rs.transition=h}}function Rm(e,n,i,l){var d=Ke,h=Rs.transition;Rs.transition=null;try{Ke=4,nl(e,n,i,l)}finally{Ke=d,Rs.transition=h}}function nl(e,n,i,l){if(Sa){var d=sl(e,n,i,l);if(d===null)bl(e,n,l,Ea,i),Ac(e,l);else if(Sm(d,e,n,i,l))l.stopPropagation();else if(Ac(e,l),n&4&&-1<xm.indexOf(e)){for(;d!==null;){var h=ji(d);if(h!==null&&Pc(h),h=sl(e,n,i,l),h===null&&bl(e,n,l,Ea,i),h===d)break;d=h}d!==null&&l.stopPropagation()}else bl(e,n,l,null,i)}}var Ea=null;function sl(e,n,i,l){if(Ea=null,e=Gt(l),e=Zn(e),e!==null)if(n=ie(e),n===null)e=null;else if(i=n.tag,i===13){if(e=xe(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Ea=e,null}function Dc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zr()){case en:return 1;case Tr:return 4;case Bt:case hi:return 16;case Sn:return 536870912;default:return 16}default:return 16}}var On=null,il=null,ka=null;function $c(){if(ka)return ka;var e,n=il,i=n.length,l,d="value"in On?On.value:On.textContent,h=d.length;for(e=0;e<i&&n[e]===d[e];e++);var v=i-e;for(l=1;l<=v&&n[i-l]===d[h-l];l++);return ka=d.slice(e,1<l?1-l:void 0)}function Ra(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ca(){return!0}function Uc(){return!1}function ir(e){function n(i,l,d,h,v){this._reactName=i,this._targetInst=d,this.type=l,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(i=e[b],this[b]=i?i(h):h[b]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ca:Uc,this.isPropagationStopped=Uc,this}return G(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ca)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ca)},persist:function(){},isPersistent:Ca}),n}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},al=ir(Cs),_i=G({},Cs,{view:0,detail:0}),Cm=ir(_i),ol,ll,bi,Ta=G({},_i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bi&&(bi&&e.type==="mousemove"?(ol=e.screenX-bi.screenX,ll=e.screenY-bi.screenY):ll=ol=0,bi=e),ol)},movementY:function(e){return"movementY"in e?e.movementY:ll}}),Mc=ir(Ta),Tm=G({},Ta,{dataTransfer:0}),Pm=ir(Tm),Om=G({},_i,{relatedTarget:0}),ul=ir(Om),jm=G({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),Nm=ir(jm),Am=G({},Cs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Lm=ir(Am),Im=G({},Cs,{data:0}),zc=ir(Im),Dm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$m={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Um={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mm(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Um[e])?!!n[e]:!1}function cl(){return Mm}var zm=G({},_i,{key:function(e){if(e.key){var n=Dm[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ra(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$m[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cl,charCode:function(e){return e.type==="keypress"?Ra(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ra(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fm=ir(zm),Bm=G({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fc=ir(Bm),Hm=G({},_i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cl}),Wm=ir(Hm),Vm=G({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),qm=ir(Vm),Km=G({},Ta,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gm=ir(Km),Jm=[9,13,27,32],dl=f&&"CompositionEvent"in window,xi=null;f&&"documentMode"in document&&(xi=document.documentMode);var Ym=f&&"TextEvent"in window&&!xi,Bc=f&&(!dl||xi&&8<xi&&11>=xi),Hc=" ",Wc=!1;function Vc(e,n){switch(e){case"keyup":return Jm.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ts=!1;function Qm(e,n){switch(e){case"compositionend":return qc(n);case"keypress":return n.which!==32?null:(Wc=!0,Hc);case"textInput":return e=n.data,e===Hc&&Wc?null:e;default:return null}}function Xm(e,n){if(Ts)return e==="compositionend"||!dl&&Vc(e,n)?(e=$c(),ka=il=On=null,Ts=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Bc&&n.locale!=="ko"?null:n.data;default:return null}}var Zm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Zm[e.type]:n==="textarea"}function Gc(e,n,i,l){je(l),n=Aa(n,"onChange"),0<n.length&&(i=new al("onChange","change",null,i,l),e.push({event:i,listeners:n}))}var Si=null,Ei=null;function eg(e){fd(e,0)}function Pa(e){var n=As(e);if(Ge(n))return e}function tg(e,n){if(e==="change")return n}var Jc=!1;if(f){var fl;if(f){var hl="oninput"in document;if(!hl){var Yc=document.createElement("div");Yc.setAttribute("oninput","return;"),hl=typeof Yc.oninput=="function"}fl=hl}else fl=!1;Jc=fl&&(!document.documentMode||9<document.documentMode)}function Qc(){Si&&(Si.detachEvent("onpropertychange",Xc),Ei=Si=null)}function Xc(e){if(e.propertyName==="value"&&Pa(Ei)){var n=[];Gc(n,Ei,e,Gt(e)),Ze(eg,n)}}function rg(e,n,i){e==="focusin"?(Qc(),Si=n,Ei=i,Si.attachEvent("onpropertychange",Xc)):e==="focusout"&&Qc()}function ng(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pa(Ei)}function sg(e,n){if(e==="click")return Pa(n)}function ig(e,n){if(e==="input"||e==="change")return Pa(n)}function ag(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Pr=typeof Object.is=="function"?Object.is:ag;function ki(e,n){if(Pr(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),l=Object.keys(n);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var d=i[l];if(!p.call(n,d)||!Pr(e[d],n[d]))return!1}return!0}function Zc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ed(e,n){var i=Zc(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=n&&l>=n)return{node:i,offset:n-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Zc(i)}}function td(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?td(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function rd(){for(var e=window,n=it();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=it(e.document)}return n}function pl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function og(e){var n=rd(),i=e.focusedElem,l=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&td(i.ownerDocument.documentElement,i)){if(l!==null&&pl(i)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var d=i.textContent.length,h=Math.min(l.start,d);l=l.end===void 0?h:Math.min(l.end,d),!e.extend&&h>l&&(d=l,l=h,h=d),d=ed(i,h);var v=ed(i,l);d&&v&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==v.node||e.focusOffset!==v.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),e.removeAllRanges(),h>l?(e.addRange(n),e.extend(v.node,v.offset)):(n.setEnd(v.node,v.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lg=f&&"documentMode"in document&&11>=document.documentMode,Ps=null,ml=null,Ri=null,gl=!1;function nd(e,n,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;gl||Ps==null||Ps!==it(l)||(l=Ps,"selectionStart"in l&&pl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ri&&ki(Ri,l)||(Ri=l,l=Aa(ml,"onSelect"),0<l.length&&(n=new al("onSelect","select",null,n,i),e.push({event:n,listeners:l}),n.target=Ps)))}function Oa(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Os={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionend:Oa("Transition","TransitionEnd")},vl={},sd={};f&&(sd=document.createElement("div").style,"AnimationEvent"in window||(delete Os.animationend.animation,delete Os.animationiteration.animation,delete Os.animationstart.animation),"TransitionEvent"in window||delete Os.transitionend.transition);function ja(e){if(vl[e])return vl[e];if(!Os[e])return e;var n=Os[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in sd)return vl[e]=n[i];return e}var id=ja("animationend"),ad=ja("animationiteration"),od=ja("animationstart"),ld=ja("transitionend"),ud=new Map,cd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jn(e,n){ud.set(e,n),u(n,[e])}for(var yl=0;yl<cd.length;yl++){var wl=cd[yl],ug=wl.toLowerCase(),cg=wl[0].toUpperCase()+wl.slice(1);jn(ug,"on"+cg)}jn(id,"onAnimationEnd"),jn(ad,"onAnimationIteration"),jn(od,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(ld,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ci="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ci));function dd(e,n,i){var l=e.type||"unknown-event";e.currentTarget=i,be(l,n,void 0,e),e.currentTarget=null}function fd(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],d=l.event;l=l.listeners;e:{var h=void 0;if(n)for(var v=l.length-1;0<=v;v--){var b=l[v],E=b.instance,$=b.currentTarget;if(b=b.listener,E!==h&&d.isPropagationStopped())break e;dd(d,b,$),h=E}else for(v=0;v<l.length;v++){if(b=l[v],E=b.instance,$=b.currentTarget,b=b.listener,E!==h&&d.isPropagationStopped())break e;dd(d,b,$),h=E}}}if(B)throw e=Q,B=!1,Q=null,e}function et(e,n){var i=n[Cl];i===void 0&&(i=n[Cl]=new Set);var l=e+"__bubble";i.has(l)||(hd(n,e,2,!1),i.add(l))}function _l(e,n,i){var l=0;n&&(l|=4),hd(i,e,l,n)}var Na="_reactListening"+Math.random().toString(36).slice(2);function Ti(e){if(!e[Na]){e[Na]=!0,a.forEach(function(i){i!=="selectionchange"&&(dg.has(i)||_l(i,!1,e),_l(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Na]||(n[Na]=!0,_l("selectionchange",!1,n))}}function hd(e,n,i,l){switch(Dc(n)){case 1:var d=km;break;case 4:d=Rm;break;default:d=nl}i=d.bind(null,n,i,e),d=void 0,!Hr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(n,i,{capture:!0,passive:d}):e.addEventListener(n,i,!0):d!==void 0?e.addEventListener(n,i,{passive:d}):e.addEventListener(n,i,!1)}function bl(e,n,i,l,d){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===d||b.nodeType===8&&b.parentNode===d)break;if(v===4)for(v=l.return;v!==null;){var E=v.tag;if((E===3||E===4)&&(E=v.stateNode.containerInfo,E===d||E.nodeType===8&&E.parentNode===d))return;v=v.return}for(;b!==null;){if(v=Zn(b),v===null)return;if(E=v.tag,E===5||E===6){l=h=v;continue e}b=b.parentNode}}l=l.return}Ze(function(){var $=h,H=Gt(i),q=[];e:{var F=ud.get(e);if(F!==void 0){var se=al,ce=e;switch(e){case"keypress":if(Ra(i)===0)break e;case"keydown":case"keyup":se=Fm;break;case"focusin":ce="focus",se=ul;break;case"focusout":ce="blur",se=ul;break;case"beforeblur":case"afterblur":se=ul;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Pm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=Wm;break;case id:case ad:case od:se=Nm;break;case ld:se=qm;break;case"scroll":se=Cm;break;case"wheel":se=Gm;break;case"copy":case"cut":case"paste":se=Lm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Fc}var fe=(n&4)!==0,pt=!fe&&e==="scroll",A=fe?F!==null?F+"Capture":null:F;fe=[];for(var P=$,D;P!==null;){D=P;var X=D.stateNode;if(D.tag===5&&X!==null&&(D=X,A!==null&&(X=ft(P,A),X!=null&&fe.push(Pi(P,X,D)))),pt)break;P=P.return}0<fe.length&&(F=new se(F,ce,null,i,H),q.push({event:F,listeners:fe}))}}if((n&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",se=e==="mouseout"||e==="pointerout",F&&i!==Br&&(ce=i.relatedTarget||i.fromElement)&&(Zn(ce)||ce[nn]))break e;if((se||F)&&(F=H.window===H?H:(F=H.ownerDocument)?F.defaultView||F.parentWindow:window,se?(ce=i.relatedTarget||i.toElement,se=$,ce=ce?Zn(ce):null,ce!==null&&(pt=ie(ce),ce!==pt||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(se=null,ce=$),se!==ce)){if(fe=Mc,X="onMouseLeave",A="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(fe=Fc,X="onPointerLeave",A="onPointerEnter",P="pointer"),pt=se==null?F:As(se),D=ce==null?F:As(ce),F=new fe(X,P+"leave",se,i,H),F.target=pt,F.relatedTarget=D,X=null,Zn(H)===$&&(fe=new fe(A,P+"enter",ce,i,H),fe.target=D,fe.relatedTarget=pt,X=fe),pt=X,se&&ce)t:{for(fe=se,A=ce,P=0,D=fe;D;D=js(D))P++;for(D=0,X=A;X;X=js(X))D++;for(;0<P-D;)fe=js(fe),P--;for(;0<D-P;)A=js(A),D--;for(;P--;){if(fe===A||A!==null&&fe===A.alternate)break t;fe=js(fe),A=js(A)}fe=null}else fe=null;se!==null&&pd(q,F,se,fe,!1),ce!==null&&pt!==null&&pd(q,pt,ce,fe,!0)}}e:{if(F=$?As($):window,se=F.nodeName&&F.nodeName.toLowerCase(),se==="select"||se==="input"&&F.type==="file")var pe=tg;else if(Kc(F))if(Jc)pe=ig;else{pe=ng;var ke=rg}else(se=F.nodeName)&&se.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(pe=sg);if(pe&&(pe=pe(e,$))){Gc(q,pe,i,H);break e}ke&&ke(e,F,$),e==="focusout"&&(ke=F._wrapperState)&&ke.controlled&&F.type==="number"&&Ft(F,"number",F.value)}switch(ke=$?As($):window,e){case"focusin":(Kc(ke)||ke.contentEditable==="true")&&(Ps=ke,ml=$,Ri=null);break;case"focusout":Ri=ml=Ps=null;break;case"mousedown":gl=!0;break;case"contextmenu":case"mouseup":case"dragend":gl=!1,nd(q,i,H);break;case"selectionchange":if(lg)break;case"keydown":case"keyup":nd(q,i,H)}var Re;if(dl)e:{switch(e){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ts?Vc(e,i)&&(Oe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Oe="onCompositionStart");Oe&&(Bc&&i.locale!=="ko"&&(Ts||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ts&&(Re=$c()):(On=H,il="value"in On?On.value:On.textContent,Ts=!0)),ke=Aa($,Oe),0<ke.length&&(Oe=new zc(Oe,e,null,i,H),q.push({event:Oe,listeners:ke}),Re?Oe.data=Re:(Re=qc(i),Re!==null&&(Oe.data=Re)))),(Re=Ym?Qm(e,i):Xm(e,i))&&($=Aa($,"onBeforeInput"),0<$.length&&(H=new zc("onBeforeInput","beforeinput",null,i,H),q.push({event:H,listeners:$}),H.data=Re))}fd(q,n)})}function Pi(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Aa(e,n){for(var i=n+"Capture",l=[];e!==null;){var d=e,h=d.stateNode;d.tag===5&&h!==null&&(d=h,h=ft(e,i),h!=null&&l.unshift(Pi(e,h,d)),h=ft(e,n),h!=null&&l.push(Pi(e,h,d))),e=e.return}return l}function js(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pd(e,n,i,l,d){for(var h=n._reactName,v=[];i!==null&&i!==l;){var b=i,E=b.alternate,$=b.stateNode;if(E!==null&&E===l)break;b.tag===5&&$!==null&&(b=$,d?(E=ft(i,h),E!=null&&v.unshift(Pi(i,E,b))):d||(E=ft(i,h),E!=null&&v.push(Pi(i,E,b)))),i=i.return}v.length!==0&&e.push({event:n,listeners:v})}var fg=/\r\n?/g,hg=/\u0000|\uFFFD/g;function md(e){return(typeof e=="string"?e:""+e).replace(fg,`
`).replace(hg,"")}function La(e,n,i){if(n=md(n),md(e)!==n&&i)throw Error(s(425))}function Ia(){}var xl=null,Sl=null;function El(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var kl=typeof setTimeout=="function"?setTimeout:void 0,pg=typeof clearTimeout=="function"?clearTimeout:void 0,gd=typeof Promise=="function"?Promise:void 0,mg=typeof queueMicrotask=="function"?queueMicrotask:typeof gd<"u"?function(e){return gd.resolve(null).then(e).catch(gg)}:kl;function gg(e){setTimeout(function(){throw e})}function Rl(e,n){var i=n,l=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(l===0){e.removeChild(d),wi(n);return}l--}else i!=="$"&&i!=="$?"&&i!=="$!"||l++;i=d}while(i);wi(n)}function Nn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function vd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var Ns=Math.random().toString(36).slice(2),Wr="__reactFiber$"+Ns,Oi="__reactProps$"+Ns,nn="__reactContainer$"+Ns,Cl="__reactEvents$"+Ns,vg="__reactListeners$"+Ns,yg="__reactHandles$"+Ns;function Zn(e){var n=e[Wr];if(n)return n;for(var i=e.parentNode;i;){if(n=i[nn]||i[Wr]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=vd(e);e!==null;){if(i=e[Wr])return i;e=vd(e)}return n}e=i,i=e.parentNode}return null}function ji(e){return e=e[Wr]||e[nn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function As(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Da(e){return e[Oi]||null}var Tl=[],Ls=-1;function An(e){return{current:e}}function tt(e){0>Ls||(e.current=Tl[Ls],Tl[Ls]=null,Ls--)}function Qe(e,n){Ls++,Tl[Ls]=e.current,e.current=n}var Ln={},Dt=An(Ln),Jt=An(!1),es=Ln;function Is(e,n){var i=e.type.contextTypes;if(!i)return Ln;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var d={},h;for(h in i)d[h]=n[h];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=d),d}function Yt(e){return e=e.childContextTypes,e!=null}function $a(){tt(Jt),tt(Dt)}function yd(e,n,i){if(Dt.current!==Ln)throw Error(s(168));Qe(Dt,n),Qe(Jt,i)}function wd(e,n,i){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return i;l=l.getChildContext();for(var d in l)if(!(d in n))throw Error(s(108,Le(e)||"Unknown",d));return G({},i,l)}function Ua(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ln,es=Dt.current,Qe(Dt,e),Qe(Jt,Jt.current),!0}function _d(e,n,i){var l=e.stateNode;if(!l)throw Error(s(169));i?(e=wd(e,n,es),l.__reactInternalMemoizedMergedChildContext=e,tt(Jt),tt(Dt),Qe(Dt,e)):tt(Jt),Qe(Jt,i)}var sn=null,Ma=!1,Pl=!1;function bd(e){sn===null?sn=[e]:sn.push(e)}function wg(e){Ma=!0,bd(e)}function In(){if(!Pl&&sn!==null){Pl=!0;var e=0,n=Ke;try{var i=sn;for(Ke=1;e<i.length;e++){var l=i[e];do l=l(!0);while(l!==null)}sn=null,Ma=!1}catch(d){throw sn!==null&&(sn=sn.slice(e+1)),Ye(en,In),d}finally{Ke=n,Pl=!1}}return null}var Ds=[],$s=0,za=null,Fa=0,gr=[],vr=0,ts=null,an=1,on="";function rs(e,n){Ds[$s++]=Fa,Ds[$s++]=za,za=e,Fa=n}function xd(e,n,i){gr[vr++]=an,gr[vr++]=on,gr[vr++]=ts,ts=e;var l=an;e=on;var d=32-Ae(l)-1;l&=~(1<<d),i+=1;var h=32-Ae(n)+d;if(30<h){var v=d-d%5;h=(l&(1<<v)-1).toString(32),l>>=v,d-=v,an=1<<32-Ae(n)+d|i<<d|l,on=h+e}else an=1<<h|i<<d|l,on=e}function Ol(e){e.return!==null&&(rs(e,1),xd(e,1,0))}function jl(e){for(;e===za;)za=Ds[--$s],Ds[$s]=null,Fa=Ds[--$s],Ds[$s]=null;for(;e===ts;)ts=gr[--vr],gr[vr]=null,on=gr[--vr],gr[vr]=null,an=gr[--vr],gr[vr]=null}var ar=null,or=null,st=!1,Or=null;function Sd(e,n){var i=br(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function Ed(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,ar=e,or=Nn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,ar=e,or=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=ts!==null?{id:an,overflow:on}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=br(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,ar=e,or=null,!0):!1;default:return!1}}function Nl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Al(e){if(st){var n=or;if(n){var i=n;if(!Ed(e,n)){if(Nl(e))throw Error(s(418));n=Nn(i.nextSibling);var l=ar;n&&Ed(e,n)?Sd(l,i):(e.flags=e.flags&-4097|2,st=!1,ar=e)}}else{if(Nl(e))throw Error(s(418));e.flags=e.flags&-4097|2,st=!1,ar=e}}}function kd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ar=e}function Ba(e){if(e!==ar)return!1;if(!st)return kd(e),st=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!El(e.type,e.memoizedProps)),n&&(n=or)){if(Nl(e))throw Rd(),Error(s(418));for(;n;)Sd(e,n),n=Nn(n.nextSibling)}if(kd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){or=Nn(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}or=null}}else or=ar?Nn(e.stateNode.nextSibling):null;return!0}function Rd(){for(var e=or;e;)e=Nn(e.nextSibling)}function Us(){or=ar=null,st=!1}function Ll(e){Or===null?Or=[e]:Or.push(e)}var _g=K.ReactCurrentBatchConfig;function Ni(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(s(309));var l=i.stateNode}if(!l)throw Error(s(147,e));var d=l,h=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===h?n.ref:(n=function(v){var b=d.refs;v===null?delete b[h]:b[h]=v},n._stringRef=h,n)}if(typeof e!="string")throw Error(s(284));if(!i._owner)throw Error(s(290,e))}return e}function Ha(e,n){throw e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Cd(e){var n=e._init;return n(e._payload)}function Td(e){function n(A,P){if(e){var D=A.deletions;D===null?(A.deletions=[P],A.flags|=16):D.push(P)}}function i(A,P){if(!e)return null;for(;P!==null;)n(A,P),P=P.sibling;return null}function l(A,P){for(A=new Map;P!==null;)P.key!==null?A.set(P.key,P):A.set(P.index,P),P=P.sibling;return A}function d(A,P){return A=Hn(A,P),A.index=0,A.sibling=null,A}function h(A,P,D){return A.index=D,e?(D=A.alternate,D!==null?(D=D.index,D<P?(A.flags|=2,P):D):(A.flags|=2,P)):(A.flags|=1048576,P)}function v(A){return e&&A.alternate===null&&(A.flags|=2),A}function b(A,P,D,X){return P===null||P.tag!==6?(P=ku(D,A.mode,X),P.return=A,P):(P=d(P,D),P.return=A,P)}function E(A,P,D,X){var pe=D.type;return pe===V?H(A,P,D.props.children,X,D.key):P!==null&&(P.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ue&&Cd(pe)===P.type)?(X=d(P,D.props),X.ref=Ni(A,P,D),X.return=A,X):(X=po(D.type,D.key,D.props,null,A.mode,X),X.ref=Ni(A,P,D),X.return=A,X)}function $(A,P,D,X){return P===null||P.tag!==4||P.stateNode.containerInfo!==D.containerInfo||P.stateNode.implementation!==D.implementation?(P=Ru(D,A.mode,X),P.return=A,P):(P=d(P,D.children||[]),P.return=A,P)}function H(A,P,D,X,pe){return P===null||P.tag!==7?(P=cs(D,A.mode,X,pe),P.return=A,P):(P=d(P,D),P.return=A,P)}function q(A,P,D){if(typeof P=="string"&&P!==""||typeof P=="number")return P=ku(""+P,A.mode,D),P.return=A,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case te:return D=po(P.type,P.key,P.props,null,A.mode,D),D.ref=Ni(A,null,P),D.return=A,D;case Z:return P=Ru(P,A.mode,D),P.return=A,P;case ue:var X=P._init;return q(A,X(P._payload),D)}if(Mr(P)||J(P))return P=cs(P,A.mode,D,null),P.return=A,P;Ha(A,P)}return null}function F(A,P,D,X){var pe=P!==null?P.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return pe!==null?null:b(A,P,""+D,X);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case te:return D.key===pe?E(A,P,D,X):null;case Z:return D.key===pe?$(A,P,D,X):null;case ue:return pe=D._init,F(A,P,pe(D._payload),X)}if(Mr(D)||J(D))return pe!==null?null:H(A,P,D,X,null);Ha(A,D)}return null}function se(A,P,D,X,pe){if(typeof X=="string"&&X!==""||typeof X=="number")return A=A.get(D)||null,b(P,A,""+X,pe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case te:return A=A.get(X.key===null?D:X.key)||null,E(P,A,X,pe);case Z:return A=A.get(X.key===null?D:X.key)||null,$(P,A,X,pe);case ue:var ke=X._init;return se(A,P,D,ke(X._payload),pe)}if(Mr(X)||J(X))return A=A.get(D)||null,H(P,A,X,pe,null);Ha(P,X)}return null}function ce(A,P,D,X){for(var pe=null,ke=null,Re=P,Oe=P=0,Tt=null;Re!==null&&Oe<D.length;Oe++){Re.index>Oe?(Tt=Re,Re=null):Tt=Re.sibling;var We=F(A,Re,D[Oe],X);if(We===null){Re===null&&(Re=Tt);break}e&&Re&&We.alternate===null&&n(A,Re),P=h(We,P,Oe),ke===null?pe=We:ke.sibling=We,ke=We,Re=Tt}if(Oe===D.length)return i(A,Re),st&&rs(A,Oe),pe;if(Re===null){for(;Oe<D.length;Oe++)Re=q(A,D[Oe],X),Re!==null&&(P=h(Re,P,Oe),ke===null?pe=Re:ke.sibling=Re,ke=Re);return st&&rs(A,Oe),pe}for(Re=l(A,Re);Oe<D.length;Oe++)Tt=se(Re,A,Oe,D[Oe],X),Tt!==null&&(e&&Tt.alternate!==null&&Re.delete(Tt.key===null?Oe:Tt.key),P=h(Tt,P,Oe),ke===null?pe=Tt:ke.sibling=Tt,ke=Tt);return e&&Re.forEach(function(Wn){return n(A,Wn)}),st&&rs(A,Oe),pe}function fe(A,P,D,X){var pe=J(D);if(typeof pe!="function")throw Error(s(150));if(D=pe.call(D),D==null)throw Error(s(151));for(var ke=pe=null,Re=P,Oe=P=0,Tt=null,We=D.next();Re!==null&&!We.done;Oe++,We=D.next()){Re.index>Oe?(Tt=Re,Re=null):Tt=Re.sibling;var Wn=F(A,Re,We.value,X);if(Wn===null){Re===null&&(Re=Tt);break}e&&Re&&Wn.alternate===null&&n(A,Re),P=h(Wn,P,Oe),ke===null?pe=Wn:ke.sibling=Wn,ke=Wn,Re=Tt}if(We.done)return i(A,Re),st&&rs(A,Oe),pe;if(Re===null){for(;!We.done;Oe++,We=D.next())We=q(A,We.value,X),We!==null&&(P=h(We,P,Oe),ke===null?pe=We:ke.sibling=We,ke=We);return st&&rs(A,Oe),pe}for(Re=l(A,Re);!We.done;Oe++,We=D.next())We=se(Re,A,Oe,We.value,X),We!==null&&(e&&We.alternate!==null&&Re.delete(We.key===null?Oe:We.key),P=h(We,P,Oe),ke===null?pe=We:ke.sibling=We,ke=We);return e&&Re.forEach(function(Zg){return n(A,Zg)}),st&&rs(A,Oe),pe}function pt(A,P,D,X){if(typeof D=="object"&&D!==null&&D.type===V&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case te:e:{for(var pe=D.key,ke=P;ke!==null;){if(ke.key===pe){if(pe=D.type,pe===V){if(ke.tag===7){i(A,ke.sibling),P=d(ke,D.props.children),P.return=A,A=P;break e}}else if(ke.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ue&&Cd(pe)===ke.type){i(A,ke.sibling),P=d(ke,D.props),P.ref=Ni(A,ke,D),P.return=A,A=P;break e}i(A,ke);break}else n(A,ke);ke=ke.sibling}D.type===V?(P=cs(D.props.children,A.mode,X,D.key),P.return=A,A=P):(X=po(D.type,D.key,D.props,null,A.mode,X),X.ref=Ni(A,P,D),X.return=A,A=X)}return v(A);case Z:e:{for(ke=D.key;P!==null;){if(P.key===ke)if(P.tag===4&&P.stateNode.containerInfo===D.containerInfo&&P.stateNode.implementation===D.implementation){i(A,P.sibling),P=d(P,D.children||[]),P.return=A,A=P;break e}else{i(A,P);break}else n(A,P);P=P.sibling}P=Ru(D,A.mode,X),P.return=A,A=P}return v(A);case ue:return ke=D._init,pt(A,P,ke(D._payload),X)}if(Mr(D))return ce(A,P,D,X);if(J(D))return fe(A,P,D,X);Ha(A,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,P!==null&&P.tag===6?(i(A,P.sibling),P=d(P,D),P.return=A,A=P):(i(A,P),P=ku(D,A.mode,X),P.return=A,A=P),v(A)):i(A,P)}return pt}var Ms=Td(!0),Pd=Td(!1),Wa=An(null),Va=null,zs=null,Il=null;function Dl(){Il=zs=Va=null}function $l(e){var n=Wa.current;tt(Wa),e._currentValue=n}function Ul(e,n,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===i)break;e=e.return}}function Fs(e,n){Va=e,Il=zs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Qt=!0),e.firstContext=null)}function yr(e){var n=e._currentValue;if(Il!==e)if(e={context:e,memoizedValue:n,next:null},zs===null){if(Va===null)throw Error(s(308));zs=e,Va.dependencies={lanes:0,firstContext:e}}else zs=zs.next=e;return n}var ns=null;function Ml(e){ns===null?ns=[e]:ns.push(e)}function Od(e,n,i,l){var d=n.interleaved;return d===null?(i.next=i,Ml(n)):(i.next=d.next,d.next=i),n.interleaved=i,ln(e,l)}function ln(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Dn=!1;function zl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function un(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function $n(e,n,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Be&2)!==0){var d=l.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),l.pending=n,ln(e,i)}return d=l.interleaved,d===null?(n.next=n,Ml(l)):(n.next=d.next,d.next=n),l.interleaved=n,ln(e,i)}function qa(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,el(e,i)}}function Nd(e,n){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var d=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var v={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};h===null?d=h=v:h=h.next=v,i=i.next}while(i!==null);h===null?d=h=n:h=h.next=n}else d=h=n;i={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:l.shared,effects:l.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function Ka(e,n,i,l){var d=e.updateQueue;Dn=!1;var h=d.firstBaseUpdate,v=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var E=b,$=E.next;E.next=null,v===null?h=$:v.next=$,v=E;var H=e.alternate;H!==null&&(H=H.updateQueue,b=H.lastBaseUpdate,b!==v&&(b===null?H.firstBaseUpdate=$:b.next=$,H.lastBaseUpdate=E))}if(h!==null){var q=d.baseState;v=0,H=$=E=null,b=h;do{var F=b.lane,se=b.eventTime;if((l&F)===F){H!==null&&(H=H.next={eventTime:se,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var ce=e,fe=b;switch(F=n,se=i,fe.tag){case 1:if(ce=fe.payload,typeof ce=="function"){q=ce.call(se,q,F);break e}q=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=fe.payload,F=typeof ce=="function"?ce.call(se,q,F):ce,F==null)break e;q=G({},q,F);break e;case 2:Dn=!0}}b.callback!==null&&b.lane!==0&&(e.flags|=64,F=d.effects,F===null?d.effects=[b]:F.push(b))}else se={eventTime:se,lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},H===null?($=H=se,E=q):H=H.next=se,v|=F;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;F=b,b=F.next,F.next=null,d.lastBaseUpdate=F,d.shared.pending=null}}while(!0);if(H===null&&(E=q),d.baseState=E,d.firstBaseUpdate=$,d.lastBaseUpdate=H,n=d.shared.interleaved,n!==null){d=n;do v|=d.lane,d=d.next;while(d!==n)}else h===null&&(d.shared.lanes=0);as|=v,e.lanes=v,e.memoizedState=q}}function Ad(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],d=l.callback;if(d!==null){if(l.callback=null,l=i,typeof d!="function")throw Error(s(191,d));d.call(l)}}}var Ai={},Vr=An(Ai),Li=An(Ai),Ii=An(Ai);function ss(e){if(e===Ai)throw Error(s(174));return e}function Fl(e,n){switch(Qe(Ii,n),Qe(Li,e),Qe(Vr,Ai),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:wn(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=wn(n,e)}tt(Vr),Qe(Vr,n)}function Bs(){tt(Vr),tt(Li),tt(Ii)}function Ld(e){ss(Ii.current);var n=ss(Vr.current),i=wn(n,e.type);n!==i&&(Qe(Li,e),Qe(Vr,i))}function Bl(e){Li.current===e&&(tt(Vr),tt(Li))}var at=An(0);function Ga(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Hl=[];function Wl(){for(var e=0;e<Hl.length;e++)Hl[e]._workInProgressVersionPrimary=null;Hl.length=0}var Ja=K.ReactCurrentDispatcher,Vl=K.ReactCurrentBatchConfig,is=0,ot=null,bt=null,Rt=null,Ya=!1,Di=!1,$i=0,bg=0;function $t(){throw Error(s(321))}function ql(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Pr(e[i],n[i]))return!1;return!0}function Kl(e,n,i,l,d,h){if(is=h,ot=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ja.current=e===null||e.memoizedState===null?kg:Rg,e=i(l,d),Di){h=0;do{if(Di=!1,$i=0,25<=h)throw Error(s(301));h+=1,Rt=bt=null,n.updateQueue=null,Ja.current=Cg,e=i(l,d)}while(Di)}if(Ja.current=Za,n=bt!==null&&bt.next!==null,is=0,Rt=bt=ot=null,Ya=!1,n)throw Error(s(300));return e}function Gl(){var e=$i!==0;return $i=0,e}function qr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?ot.memoizedState=Rt=e:Rt=Rt.next=e,Rt}function wr(){if(bt===null){var e=ot.alternate;e=e!==null?e.memoizedState:null}else e=bt.next;var n=Rt===null?ot.memoizedState:Rt.next;if(n!==null)Rt=n,bt=e;else{if(e===null)throw Error(s(310));bt=e,e={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Rt===null?ot.memoizedState=Rt=e:Rt=Rt.next=e}return Rt}function Ui(e,n){return typeof n=="function"?n(e):n}function Jl(e){var n=wr(),i=n.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var l=bt,d=l.baseQueue,h=i.pending;if(h!==null){if(d!==null){var v=d.next;d.next=h.next,h.next=v}l.baseQueue=d=h,i.pending=null}if(d!==null){h=d.next,l=l.baseState;var b=v=null,E=null,$=h;do{var H=$.lane;if((is&H)===H)E!==null&&(E=E.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),l=$.hasEagerState?$.eagerState:e(l,$.action);else{var q={lane:H,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};E===null?(b=E=q,v=l):E=E.next=q,ot.lanes|=H,as|=H}$=$.next}while($!==null&&$!==h);E===null?v=l:E.next=b,Pr(l,n.memoizedState)||(Qt=!0),n.memoizedState=l,n.baseState=v,n.baseQueue=E,i.lastRenderedState=l}if(e=i.interleaved,e!==null){d=e;do h=d.lane,ot.lanes|=h,as|=h,d=d.next;while(d!==e)}else d===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function Yl(e){var n=wr(),i=n.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var l=i.dispatch,d=i.pending,h=n.memoizedState;if(d!==null){i.pending=null;var v=d=d.next;do h=e(h,v.action),v=v.next;while(v!==d);Pr(h,n.memoizedState)||(Qt=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),i.lastRenderedState=h}return[h,l]}function Id(){}function Dd(e,n){var i=ot,l=wr(),d=n(),h=!Pr(l.memoizedState,d);if(h&&(l.memoizedState=d,Qt=!0),l=l.queue,Ql(Md.bind(null,i,l,e),[e]),l.getSnapshot!==n||h||Rt!==null&&Rt.memoizedState.tag&1){if(i.flags|=2048,Mi(9,Ud.bind(null,i,l,d,n),void 0,null),Ct===null)throw Error(s(349));(is&30)!==0||$d(i,n,d)}return d}function $d(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=ot.updateQueue,n===null?(n={lastEffect:null,stores:null},ot.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Ud(e,n,i,l){n.value=i,n.getSnapshot=l,zd(n)&&Fd(e)}function Md(e,n,i){return i(function(){zd(n)&&Fd(e)})}function zd(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Pr(e,i)}catch{return!0}}function Fd(e){var n=ln(e,1);n!==null&&Lr(n,e,1,-1)}function Bd(e){var n=qr();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},n.queue=e,e=e.dispatch=Eg.bind(null,ot,e),[n.memoizedState,e]}function Mi(e,n,i,l){return e={tag:e,create:n,destroy:i,deps:l,next:null},n=ot.updateQueue,n===null?(n={lastEffect:null,stores:null},ot.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,n.lastEffect=e)),e}function Hd(){return wr().memoizedState}function Qa(e,n,i,l){var d=qr();ot.flags|=e,d.memoizedState=Mi(1|n,i,void 0,l===void 0?null:l)}function Xa(e,n,i,l){var d=wr();l=l===void 0?null:l;var h=void 0;if(bt!==null){var v=bt.memoizedState;if(h=v.destroy,l!==null&&ql(l,v.deps)){d.memoizedState=Mi(n,i,h,l);return}}ot.flags|=e,d.memoizedState=Mi(1|n,i,h,l)}function Wd(e,n){return Qa(8390656,8,e,n)}function Ql(e,n){return Xa(2048,8,e,n)}function Vd(e,n){return Xa(4,2,e,n)}function qd(e,n){return Xa(4,4,e,n)}function Kd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Gd(e,n,i){return i=i!=null?i.concat([e]):null,Xa(4,4,Kd.bind(null,n,e),i)}function Xl(){}function Jd(e,n){var i=wr();n=n===void 0?null:n;var l=i.memoizedState;return l!==null&&n!==null&&ql(n,l[1])?l[0]:(i.memoizedState=[e,n],e)}function Yd(e,n){var i=wr();n=n===void 0?null:n;var l=i.memoizedState;return l!==null&&n!==null&&ql(n,l[1])?l[0]:(e=e(),i.memoizedState=[e,n],e)}function Qd(e,n,i){return(is&21)===0?(e.baseState&&(e.baseState=!1,Qt=!0),e.memoizedState=i):(Pr(i,n)||(i=Cc(),ot.lanes|=i,as|=i,e.baseState=!0),n)}function xg(e,n){var i=Ke;Ke=i!==0&&4>i?i:4,e(!0);var l=Vl.transition;Vl.transition={};try{e(!1),n()}finally{Ke=i,Vl.transition=l}}function Xd(){return wr().memoizedState}function Sg(e,n,i){var l=Fn(e);if(i={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null},Zd(e))ef(n,i);else if(i=Od(e,n,i,l),i!==null){var d=Vt();Lr(i,e,l,d),tf(i,n,l)}}function Eg(e,n,i){var l=Fn(e),d={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null};if(Zd(e))ef(n,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var v=n.lastRenderedState,b=h(v,i);if(d.hasEagerState=!0,d.eagerState=b,Pr(b,v)){var E=n.interleaved;E===null?(d.next=d,Ml(n)):(d.next=E.next,E.next=d),n.interleaved=d;return}}catch{}i=Od(e,n,d,l),i!==null&&(d=Vt(),Lr(i,e,l,d),tf(i,n,l))}}function Zd(e){var n=e.alternate;return e===ot||n!==null&&n===ot}function ef(e,n){Di=Ya=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function tf(e,n,i){if((i&4194240)!==0){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,el(e,i)}}var Za={readContext:yr,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},kg={readContext:yr,useCallback:function(e,n){return qr().memoizedState=[e,n===void 0?null:n],e},useContext:yr,useEffect:Wd,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,Qa(4194308,4,Kd.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Qa(4194308,4,e,n)},useInsertionEffect:function(e,n){return Qa(4,2,e,n)},useMemo:function(e,n){var i=qr();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var l=qr();return n=i!==void 0?i(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=Sg.bind(null,ot,e),[l.memoizedState,e]},useRef:function(e){var n=qr();return e={current:e},n.memoizedState=e},useState:Bd,useDebugValue:Xl,useDeferredValue:function(e){return qr().memoizedState=e},useTransition:function(){var e=Bd(!1),n=e[0];return e=xg.bind(null,e[1]),qr().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var l=ot,d=qr();if(st){if(i===void 0)throw Error(s(407));i=i()}else{if(i=n(),Ct===null)throw Error(s(349));(is&30)!==0||$d(l,n,i)}d.memoizedState=i;var h={value:i,getSnapshot:n};return d.queue=h,Wd(Md.bind(null,l,h,e),[e]),l.flags|=2048,Mi(9,Ud.bind(null,l,h,i,n),void 0,null),i},useId:function(){var e=qr(),n=Ct.identifierPrefix;if(st){var i=on,l=an;i=(l&~(1<<32-Ae(l)-1)).toString(32)+i,n=":"+n+"R"+i,i=$i++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=bg++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Rg={readContext:yr,useCallback:Jd,useContext:yr,useEffect:Ql,useImperativeHandle:Gd,useInsertionEffect:Vd,useLayoutEffect:qd,useMemo:Yd,useReducer:Jl,useRef:Hd,useState:function(){return Jl(Ui)},useDebugValue:Xl,useDeferredValue:function(e){var n=wr();return Qd(n,bt.memoizedState,e)},useTransition:function(){var e=Jl(Ui)[0],n=wr().memoizedState;return[e,n]},useMutableSource:Id,useSyncExternalStore:Dd,useId:Xd,unstable_isNewReconciler:!1},Cg={readContext:yr,useCallback:Jd,useContext:yr,useEffect:Ql,useImperativeHandle:Gd,useInsertionEffect:Vd,useLayoutEffect:qd,useMemo:Yd,useReducer:Yl,useRef:Hd,useState:function(){return Yl(Ui)},useDebugValue:Xl,useDeferredValue:function(e){var n=wr();return bt===null?n.memoizedState=e:Qd(n,bt.memoizedState,e)},useTransition:function(){var e=Yl(Ui)[0],n=wr().memoizedState;return[e,n]},useMutableSource:Id,useSyncExternalStore:Dd,useId:Xd,unstable_isNewReconciler:!1};function jr(e,n){if(e&&e.defaultProps){n=G({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function Zl(e,n,i,l){n=e.memoizedState,i=i(l,n),i=i==null?n:G({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var eo={isMounted:function(e){return(e=e._reactInternals)?ie(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var l=Vt(),d=Fn(e),h=un(l,d);h.payload=n,i!=null&&(h.callback=i),n=$n(e,h,d),n!==null&&(Lr(n,e,d,l),qa(n,e,d))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var l=Vt(),d=Fn(e),h=un(l,d);h.tag=1,h.payload=n,i!=null&&(h.callback=i),n=$n(e,h,d),n!==null&&(Lr(n,e,d,l),qa(n,e,d))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Vt(),l=Fn(e),d=un(i,l);d.tag=2,n!=null&&(d.callback=n),n=$n(e,d,l),n!==null&&(Lr(n,e,l,i),qa(n,e,l))}};function rf(e,n,i,l,d,h,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,v):n.prototype&&n.prototype.isPureReactComponent?!ki(i,l)||!ki(d,h):!0}function nf(e,n,i){var l=!1,d=Ln,h=n.contextType;return typeof h=="object"&&h!==null?h=yr(h):(d=Yt(n)?es:Dt.current,l=n.contextTypes,h=(l=l!=null)?Is(e,d):Ln),n=new n(i,h),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=eo,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=h),n}function sf(e,n,i,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,l),n.state!==e&&eo.enqueueReplaceState(n,n.state,null)}function eu(e,n,i,l){var d=e.stateNode;d.props=i,d.state=e.memoizedState,d.refs={},zl(e);var h=n.contextType;typeof h=="object"&&h!==null?d.context=yr(h):(h=Yt(n)?es:Dt.current,d.context=Is(e,h)),d.state=e.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(Zl(e,n,h,i),d.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(n=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),n!==d.state&&eo.enqueueReplaceState(d,d.state,null),Ka(e,i,d,l),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function Hs(e,n){try{var i="",l=n;do i+=oe(l),l=l.return;while(l);var d=i}catch(h){d=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:n,stack:d,digest:null}}function tu(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function ru(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var Tg=typeof WeakMap=="function"?WeakMap:Map;function af(e,n,i){i=un(-1,i),i.tag=3,i.payload={element:null};var l=n.value;return i.callback=function(){oo||(oo=!0,vu=l),ru(e,n)},i}function of(e,n,i){i=un(-1,i),i.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var d=n.value;i.payload=function(){return l(d)},i.callback=function(){ru(e,n)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(i.callback=function(){ru(e,n),typeof l!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var v=n.stack;this.componentDidCatch(n.value,{componentStack:v!==null?v:""})}),i}function lf(e,n,i){var l=e.pingCache;if(l===null){l=e.pingCache=new Tg;var d=new Set;l.set(n,d)}else d=l.get(n),d===void 0&&(d=new Set,l.set(n,d));d.has(i)||(d.add(i),e=Bg.bind(null,e,n,i),n.then(e,e))}function uf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function cf(e,n,i,l,d){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=un(-1,1),n.tag=2,$n(i,n,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var Pg=K.ReactCurrentOwner,Qt=!1;function Wt(e,n,i,l){n.child=e===null?Pd(n,null,i,l):Ms(n,e.child,i,l)}function df(e,n,i,l,d){i=i.render;var h=n.ref;return Fs(n,d),l=Kl(e,n,i,l,h,d),i=Gl(),e!==null&&!Qt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~d,cn(e,n,d)):(st&&i&&Ol(n),n.flags|=1,Wt(e,n,l,d),n.child)}function ff(e,n,i,l,d){if(e===null){var h=i.type;return typeof h=="function"&&!Eu(h)&&h.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=h,hf(e,n,h,l,d)):(e=po(i.type,null,l,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,(e.lanes&d)===0){var v=h.memoizedProps;if(i=i.compare,i=i!==null?i:ki,i(v,l)&&e.ref===n.ref)return cn(e,n,d)}return n.flags|=1,e=Hn(h,l),e.ref=n.ref,e.return=n,n.child=e}function hf(e,n,i,l,d){if(e!==null){var h=e.memoizedProps;if(ki(h,l)&&e.ref===n.ref)if(Qt=!1,n.pendingProps=l=h,(e.lanes&d)!==0)(e.flags&131072)!==0&&(Qt=!0);else return n.lanes=e.lanes,cn(e,n,d)}return nu(e,n,i,l,d)}function pf(e,n,i){var l=n.pendingProps,d=l.children,h=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Vs,lr),lr|=i;else{if((i&1073741824)===0)return e=h!==null?h.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Qe(Vs,lr),lr|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=h!==null?h.baseLanes:i,Qe(Vs,lr),lr|=l}else h!==null?(l=h.baseLanes|i,n.memoizedState=null):l=i,Qe(Vs,lr),lr|=l;return Wt(e,n,d,i),n.child}function mf(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function nu(e,n,i,l,d){var h=Yt(i)?es:Dt.current;return h=Is(n,h),Fs(n,d),i=Kl(e,n,i,l,h,d),l=Gl(),e!==null&&!Qt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~d,cn(e,n,d)):(st&&l&&Ol(n),n.flags|=1,Wt(e,n,i,d),n.child)}function gf(e,n,i,l,d){if(Yt(i)){var h=!0;Ua(n)}else h=!1;if(Fs(n,d),n.stateNode===null)ro(e,n),nf(n,i,l),eu(n,i,l,d),l=!0;else if(e===null){var v=n.stateNode,b=n.memoizedProps;v.props=b;var E=v.context,$=i.contextType;typeof $=="object"&&$!==null?$=yr($):($=Yt(i)?es:Dt.current,$=Is(n,$));var H=i.getDerivedStateFromProps,q=typeof H=="function"||typeof v.getSnapshotBeforeUpdate=="function";q||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(b!==l||E!==$)&&sf(n,v,l,$),Dn=!1;var F=n.memoizedState;v.state=F,Ka(n,l,v,d),E=n.memoizedState,b!==l||F!==E||Jt.current||Dn?(typeof H=="function"&&(Zl(n,i,H,l),E=n.memoizedState),(b=Dn||rf(n,i,b,l,F,E,$))?(q||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(n.flags|=4194308)):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=E),v.props=l,v.state=E,v.context=$,l=b):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{v=n.stateNode,jd(e,n),b=n.memoizedProps,$=n.type===n.elementType?b:jr(n.type,b),v.props=$,q=n.pendingProps,F=v.context,E=i.contextType,typeof E=="object"&&E!==null?E=yr(E):(E=Yt(i)?es:Dt.current,E=Is(n,E));var se=i.getDerivedStateFromProps;(H=typeof se=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(b!==q||F!==E)&&sf(n,v,l,E),Dn=!1,F=n.memoizedState,v.state=F,Ka(n,l,v,d);var ce=n.memoizedState;b!==q||F!==ce||Jt.current||Dn?(typeof se=="function"&&(Zl(n,i,se,l),ce=n.memoizedState),($=Dn||rf(n,i,$,l,F,ce,E)||!1)?(H||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(l,ce,E),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(l,ce,E)),typeof v.componentDidUpdate=="function"&&(n.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof v.componentDidUpdate!="function"||b===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=ce),v.props=l,v.state=ce,v.context=E,l=$):(typeof v.componentDidUpdate!="function"||b===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),l=!1)}return su(e,n,i,l,h,d)}function su(e,n,i,l,d,h){mf(e,n);var v=(n.flags&128)!==0;if(!l&&!v)return d&&_d(n,i,!1),cn(e,n,h);l=n.stateNode,Pg.current=n;var b=v&&typeof i.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&v?(n.child=Ms(n,e.child,null,h),n.child=Ms(n,null,b,h)):Wt(e,n,b,h),n.memoizedState=l.state,d&&_d(n,i,!0),n.child}function vf(e){var n=e.stateNode;n.pendingContext?yd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&yd(e,n.context,!1),Fl(e,n.containerInfo)}function yf(e,n,i,l,d){return Us(),Ll(d),n.flags|=256,Wt(e,n,i,l),n.child}var iu={dehydrated:null,treeContext:null,retryLane:0};function au(e){return{baseLanes:e,cachePool:null,transitions:null}}function wf(e,n,i){var l=n.pendingProps,d=at.current,h=!1,v=(n.flags&128)!==0,b;if((b=v)||(b=e!==null&&e.memoizedState===null?!1:(d&2)!==0),b?(h=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),Qe(at,d&1),e===null)return Al(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(v=l.children,e=l.fallback,h?(l=n.mode,h=n.child,v={mode:"hidden",children:v},(l&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=v):h=mo(v,l,0,null),e=cs(e,l,i,null),h.return=n,e.return=n,h.sibling=e,n.child=h,n.child.memoizedState=au(i),n.memoizedState=iu,e):ou(n,v));if(d=e.memoizedState,d!==null&&(b=d.dehydrated,b!==null))return Og(e,n,v,l,b,d,i);if(h){h=l.fallback,v=n.mode,d=e.child,b=d.sibling;var E={mode:"hidden",children:l.children};return(v&1)===0&&n.child!==d?(l=n.child,l.childLanes=0,l.pendingProps=E,n.deletions=null):(l=Hn(d,E),l.subtreeFlags=d.subtreeFlags&14680064),b!==null?h=Hn(b,h):(h=cs(h,v,i,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,v=e.child.memoizedState,v=v===null?au(i):{baseLanes:v.baseLanes|i,cachePool:null,transitions:v.transitions},h.memoizedState=v,h.childLanes=e.childLanes&~i,n.memoizedState=iu,l}return h=e.child,e=h.sibling,l=Hn(h,{mode:"visible",children:l.children}),(n.mode&1)===0&&(l.lanes=i),l.return=n,l.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=l,n.memoizedState=null,l}function ou(e,n){return n=mo({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function to(e,n,i,l){return l!==null&&Ll(l),Ms(n,e.child,null,i),e=ou(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Og(e,n,i,l,d,h,v){if(i)return n.flags&256?(n.flags&=-257,l=tu(Error(s(422))),to(e,n,v,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(h=l.fallback,d=n.mode,l=mo({mode:"visible",children:l.children},d,0,null),h=cs(h,d,v,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,(n.mode&1)!==0&&Ms(n,e.child,null,v),n.child.memoizedState=au(v),n.memoizedState=iu,h);if((n.mode&1)===0)return to(e,n,v,null);if(d.data==="$!"){if(l=d.nextSibling&&d.nextSibling.dataset,l)var b=l.dgst;return l=b,h=Error(s(419)),l=tu(h,l,void 0),to(e,n,v,l)}if(b=(v&e.childLanes)!==0,Qt||b){if(l=Ct,l!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(l.suspendedLanes|v))!==0?0:d,d!==0&&d!==h.retryLane&&(h.retryLane=d,ln(e,d),Lr(l,e,d,-1))}return Su(),l=tu(Error(s(421))),to(e,n,v,l)}return d.data==="$?"?(n.flags|=128,n.child=e.child,n=Hg.bind(null,e),d._reactRetry=n,null):(e=h.treeContext,or=Nn(d.nextSibling),ar=n,st=!0,Or=null,e!==null&&(gr[vr++]=an,gr[vr++]=on,gr[vr++]=ts,an=e.id,on=e.overflow,ts=n),n=ou(n,l.children),n.flags|=4096,n)}function _f(e,n,i){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Ul(e.return,n,i)}function lu(e,n,i,l,d){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:d}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=i,h.tailMode=d)}function bf(e,n,i){var l=n.pendingProps,d=l.revealOrder,h=l.tail;if(Wt(e,n,l.children,i),l=at.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_f(e,i,n);else if(e.tag===19)_f(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Qe(at,l),(n.mode&1)===0)n.memoizedState=null;else switch(d){case"forwards":for(i=n.child,d=null;i!==null;)e=i.alternate,e!==null&&Ga(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=n.child,n.child=null):(d=i.sibling,i.sibling=null),lu(n,!1,d,i,h);break;case"backwards":for(i=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Ga(e)===null){n.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}lu(n,!0,i,null,h);break;case"together":lu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ro(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function cn(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),as|=n.lanes,(i&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,i=Hn(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Hn(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function jg(e,n,i){switch(n.tag){case 3:vf(n),Us();break;case 5:Ld(n);break;case 1:Yt(n.type)&&Ua(n);break;case 4:Fl(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,d=n.memoizedProps.value;Qe(Wa,l._currentValue),l._currentValue=d;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(Qe(at,at.current&1),n.flags|=128,null):(i&n.child.childLanes)!==0?wf(e,n,i):(Qe(at,at.current&1),e=cn(e,n,i),e!==null?e.sibling:null);Qe(at,at.current&1);break;case 19:if(l=(i&n.childLanes)!==0,(e.flags&128)!==0){if(l)return bf(e,n,i);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Qe(at,at.current),l)break;return null;case 22:case 23:return n.lanes=0,pf(e,n,i)}return cn(e,n,i)}var xf,uu,Sf,Ef;xf=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},uu=function(){},Sf=function(e,n,i,l){var d=e.memoizedProps;if(d!==l){e=n.stateNode,ss(Vr.current);var h=null;switch(i){case"input":d=qt(e,d),l=qt(e,l),h=[];break;case"select":d=G({},d,{value:void 0}),l=G({},l,{value:void 0}),h=[];break;case"textarea":d=yt(e,d),l=yt(e,l),h=[];break;default:typeof d.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Ia)}Qr(i,l);var v;i=null;for($ in d)if(!l.hasOwnProperty($)&&d.hasOwnProperty($)&&d[$]!=null)if($==="style"){var b=d[$];for(v in b)b.hasOwnProperty(v)&&(i||(i={}),i[v]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?h||(h=[]):(h=h||[]).push($,null));for($ in l){var E=l[$];if(b=d?.[$],l.hasOwnProperty($)&&E!==b&&(E!=null||b!=null))if($==="style")if(b){for(v in b)!b.hasOwnProperty(v)||E&&E.hasOwnProperty(v)||(i||(i={}),i[v]="");for(v in E)E.hasOwnProperty(v)&&b[v]!==E[v]&&(i||(i={}),i[v]=E[v])}else i||(h||(h=[]),h.push($,i)),i=E;else $==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,b=b?b.__html:void 0,E!=null&&b!==E&&(h=h||[]).push($,E)):$==="children"?typeof E!="string"&&typeof E!="number"||(h=h||[]).push($,""+E):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(E!=null&&$==="onScroll"&&et("scroll",e),h||b===E||(h=[])):(h=h||[]).push($,E))}i&&(h=h||[]).push("style",i);var $=h;(n.updateQueue=$)&&(n.flags|=4)}},Ef=function(e,n,i,l){i!==l&&(n.flags|=4)};function zi(e,n){if(!st)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ut(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(n)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags&14680064,l|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=i,n}function Ng(e,n,i){var l=n.pendingProps;switch(jl(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(n),null;case 1:return Yt(n.type)&&$a(),Ut(n),null;case 3:return l=n.stateNode,Bs(),tt(Jt),tt(Dt),Wl(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ba(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Or!==null&&(_u(Or),Or=null))),uu(e,n),Ut(n),null;case 5:Bl(n);var d=ss(Ii.current);if(i=n.type,e!==null&&n.stateNode!=null)Sf(e,n,i,l,d),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Ut(n),null}if(e=ss(Vr.current),Ba(n)){l=n.stateNode,i=n.type;var h=n.memoizedProps;switch(l[Wr]=n,l[Oi]=h,e=(n.mode&1)!==0,i){case"dialog":et("cancel",l),et("close",l);break;case"iframe":case"object":case"embed":et("load",l);break;case"video":case"audio":for(d=0;d<Ci.length;d++)et(Ci[d],l);break;case"source":et("error",l);break;case"img":case"image":case"link":et("error",l),et("load",l);break;case"details":et("toggle",l);break;case"input":Yn(l,h),et("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!h.multiple},et("invalid",l);break;case"textarea":kr(l,h),et("invalid",l)}Qr(i,h),d=null;for(var v in h)if(h.hasOwnProperty(v)){var b=h[v];v==="children"?typeof b=="string"?l.textContent!==b&&(h.suppressHydrationWarning!==!0&&La(l.textContent,b,e),d=["children",b]):typeof b=="number"&&l.textContent!==""+b&&(h.suppressHydrationWarning!==!0&&La(l.textContent,b,e),d=["children",""+b]):o.hasOwnProperty(v)&&b!=null&&v==="onScroll"&&et("scroll",l)}switch(i){case"input":qe(l),Xn(l,h,!0);break;case"textarea":qe(l),hr(l);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(l.onclick=Ia)}l=d,n.updateQueue=l,l!==null&&(n.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rr(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=v.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=v.createElement(i,{is:l.is}):(e=v.createElement(i),i==="select"&&(v=e,l.multiple?v.multiple=!0:l.size&&(v.size=l.size))):e=v.createElementNS(e,i),e[Wr]=n,e[Oi]=l,xf(e,n,!1,!1),n.stateNode=e;e:{switch(v=bn(i,l),i){case"dialog":et("cancel",e),et("close",e),d=l;break;case"iframe":case"object":case"embed":et("load",e),d=l;break;case"video":case"audio":for(d=0;d<Ci.length;d++)et(Ci[d],e);d=l;break;case"source":et("error",e),d=l;break;case"img":case"image":case"link":et("error",e),et("load",e),d=l;break;case"details":et("toggle",e),d=l;break;case"input":Yn(e,l),d=qt(e,l),et("invalid",e);break;case"option":d=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},d=G({},l,{value:void 0}),et("invalid",e);break;case"textarea":kr(e,l),d=yt(e,l),et("invalid",e);break;default:d=l}Qr(i,d),b=d;for(h in b)if(b.hasOwnProperty(h)){var E=b[h];h==="style"?Ss(e,E):h==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&It(e,E)):h==="children"?typeof E=="string"?(i!=="textarea"||E!=="")&&lt(e,E):typeof E=="number"&&lt(e,""+E):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(o.hasOwnProperty(h)?E!=null&&h==="onScroll"&&et("scroll",e):E!=null&&U(e,h,E,v))}switch(i){case"input":qe(e),Xn(e,l,!1);break;case"textarea":qe(e),hr(e);break;case"option":l.value!=null&&e.setAttribute("value",""+he(l.value));break;case"select":e.multiple=!!l.multiple,h=l.value,h!=null?zr(e,!!l.multiple,h,!1):l.defaultValue!=null&&zr(e,!!l.multiple,l.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=Ia)}switch(i){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ut(n),null;case 6:if(e&&n.stateNode!=null)Ef(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(i=ss(Ii.current),ss(Vr.current),Ba(n)){if(l=n.stateNode,i=n.memoizedProps,l[Wr]=n,(h=l.nodeValue!==i)&&(e=ar,e!==null))switch(e.tag){case 3:La(l.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&La(l.nodeValue,i,(e.mode&1)!==0)}h&&(n.flags|=4)}else l=(i.nodeType===9?i:i.ownerDocument).createTextNode(l),l[Wr]=n,n.stateNode=l}return Ut(n),null;case 13:if(tt(at),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(st&&or!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Rd(),Us(),n.flags|=98560,h=!1;else if(h=Ba(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Wr]=n}else Us(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ut(n),h=!1}else Or!==null&&(_u(Or),Or=null),h=!0;if(!h)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=i,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(at.current&1)!==0?xt===0&&(xt=3):Su())),n.updateQueue!==null&&(n.flags|=4),Ut(n),null);case 4:return Bs(),uu(e,n),e===null&&Ti(n.stateNode.containerInfo),Ut(n),null;case 10:return $l(n.type._context),Ut(n),null;case 17:return Yt(n.type)&&$a(),Ut(n),null;case 19:if(tt(at),h=n.memoizedState,h===null)return Ut(n),null;if(l=(n.flags&128)!==0,v=h.rendering,v===null)if(l)zi(h,!1);else{if(xt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(v=Ga(e),v!==null){for(n.flags|=128,zi(h,!1),l=v.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=i,i=n.child;i!==null;)h=i,e=l,h.flags&=14680066,v=h.alternate,v===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=v.childLanes,h.lanes=v.lanes,h.child=v.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=v.memoizedProps,h.memoizedState=v.memoizedState,h.updateQueue=v.updateQueue,h.type=v.type,e=v.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Qe(at,at.current&1|2),n.child}e=e.sibling}h.tail!==null&&Fe()>qs&&(n.flags|=128,l=!0,zi(h,!1),n.lanes=4194304)}else{if(!l)if(e=Ga(v),e!==null){if(n.flags|=128,l=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),zi(h,!0),h.tail===null&&h.tailMode==="hidden"&&!v.alternate&&!st)return Ut(n),null}else 2*Fe()-h.renderingStartTime>qs&&i!==1073741824&&(n.flags|=128,l=!0,zi(h,!1),n.lanes=4194304);h.isBackwards?(v.sibling=n.child,n.child=v):(i=h.last,i!==null?i.sibling=v:n.child=v,h.last=v)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=Fe(),n.sibling=null,i=at.current,Qe(at,l?i&1|2:i&1),n):(Ut(n),null);case 22:case 23:return xu(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&(n.mode&1)!==0?(lr&1073741824)!==0&&(Ut(n),n.subtreeFlags&6&&(n.flags|=8192)):Ut(n),null;case 24:return null;case 25:return null}throw Error(s(156,n.tag))}function Ag(e,n){switch(jl(n),n.tag){case 1:return Yt(n.type)&&$a(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Bs(),tt(Jt),tt(Dt),Wl(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Bl(n),null;case 13:if(tt(at),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Us()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return tt(at),null;case 4:return Bs(),null;case 10:return $l(n.type._context),null;case 22:case 23:return xu(),null;case 24:return null;default:return null}}var no=!1,Mt=!1,Lg=typeof WeakSet=="function"?WeakSet:Set,le=null;function Ws(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(l){ut(e,n,l)}else i.current=null}function cu(e,n,i){try{i()}catch(l){ut(e,n,l)}}var kf=!1;function Ig(e,n){if(xl=Sa,e=rd(),pl(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var d=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var v=0,b=-1,E=-1,$=0,H=0,q=e,F=null;t:for(;;){for(var se;q!==i||d!==0&&q.nodeType!==3||(b=v+d),q!==h||l!==0&&q.nodeType!==3||(E=v+l),q.nodeType===3&&(v+=q.nodeValue.length),(se=q.firstChild)!==null;)F=q,q=se;for(;;){if(q===e)break t;if(F===i&&++$===d&&(b=v),F===h&&++H===l&&(E=v),(se=q.nextSibling)!==null)break;q=F,F=q.parentNode}q=se}i=b===-1||E===-1?null:{start:b,end:E}}else i=null}i=i||{start:0,end:0}}else i=null;for(Sl={focusedElem:e,selectionRange:i},Sa=!1,le=n;le!==null;)if(n=le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,le=e;else for(;le!==null;){n=le;try{var ce=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var fe=ce.memoizedProps,pt=ce.memoizedState,A=n.stateNode,P=A.getSnapshotBeforeUpdate(n.elementType===n.type?fe:jr(n.type,fe),pt);A.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var D=n.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(X){ut(n,n.return,X)}if(e=n.sibling,e!==null){e.return=n.return,le=e;break}le=n.return}return ce=kf,kf=!1,ce}function Fi(e,n,i){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&e)===e){var h=d.destroy;d.destroy=void 0,h!==void 0&&cu(n,i,h)}d=d.next}while(d!==l)}}function so(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var l=i.create;i.destroy=l()}i=i.next}while(i!==n)}}function du(e){var n=e.ref;if(n!==null){var i=e.stateNode;e.tag,e=i,typeof n=="function"?n(e):n.current=e}}function Rf(e){var n=e.alternate;n!==null&&(e.alternate=null,Rf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Wr],delete n[Oi],delete n[Cl],delete n[vg],delete n[yg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cf(e){return e.tag===5||e.tag===3||e.tag===4}function Tf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fu(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Ia));else if(l!==4&&(e=e.child,e!==null))for(fu(e,n,i),e=e.sibling;e!==null;)fu(e,n,i),e=e.sibling}function hu(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(hu(e,n,i),e=e.sibling;e!==null;)hu(e,n,i),e=e.sibling}var jt=null,Nr=!1;function Un(e,n,i){for(i=i.child;i!==null;)Pf(e,n,i),i=i.sibling}function Pf(e,n,i){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(mr,i)}catch{}switch(i.tag){case 5:Mt||Ws(i,n);case 6:var l=jt,d=Nr;jt=null,Un(e,n,i),jt=l,Nr=d,jt!==null&&(Nr?(e=jt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):jt.removeChild(i.stateNode));break;case 18:jt!==null&&(Nr?(e=jt,i=i.stateNode,e.nodeType===8?Rl(e.parentNode,i):e.nodeType===1&&Rl(e,i),wi(e)):Rl(jt,i.stateNode));break;case 4:l=jt,d=Nr,jt=i.stateNode.containerInfo,Nr=!0,Un(e,n,i),jt=l,Nr=d;break;case 0:case 11:case 14:case 15:if(!Mt&&(l=i.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){d=l=l.next;do{var h=d,v=h.destroy;h=h.tag,v!==void 0&&((h&2)!==0||(h&4)!==0)&&cu(i,n,v),d=d.next}while(d!==l)}Un(e,n,i);break;case 1:if(!Mt&&(Ws(i,n),l=i.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=i.memoizedProps,l.state=i.memoizedState,l.componentWillUnmount()}catch(b){ut(i,n,b)}Un(e,n,i);break;case 21:Un(e,n,i);break;case 22:i.mode&1?(Mt=(l=Mt)||i.memoizedState!==null,Un(e,n,i),Mt=l):Un(e,n,i);break;default:Un(e,n,i)}}function Of(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Lg),n.forEach(function(l){var d=Wg.bind(null,e,l);i.has(l)||(i.add(l),l.then(d,d))})}}function Ar(e,n){var i=n.deletions;if(i!==null)for(var l=0;l<i.length;l++){var d=i[l];try{var h=e,v=n,b=v;e:for(;b!==null;){switch(b.tag){case 5:jt=b.stateNode,Nr=!1;break e;case 3:jt=b.stateNode.containerInfo,Nr=!0;break e;case 4:jt=b.stateNode.containerInfo,Nr=!0;break e}b=b.return}if(jt===null)throw Error(s(160));Pf(h,v,d),jt=null,Nr=!1;var E=d.alternate;E!==null&&(E.return=null),d.return=null}catch($){ut(d,n,$)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)jf(n,e),n=n.sibling}function jf(e,n){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ar(n,e),Kr(e),l&4){try{Fi(3,e,e.return),so(3,e)}catch(fe){ut(e,e.return,fe)}try{Fi(5,e,e.return)}catch(fe){ut(e,e.return,fe)}}break;case 1:Ar(n,e),Kr(e),l&512&&i!==null&&Ws(i,i.return);break;case 5:if(Ar(n,e),Kr(e),l&512&&i!==null&&Ws(i,i.return),e.flags&32){var d=e.stateNode;try{lt(d,"")}catch(fe){ut(e,e.return,fe)}}if(l&4&&(d=e.stateNode,d!=null)){var h=e.memoizedProps,v=i!==null?i.memoizedProps:h,b=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{b==="input"&&h.type==="radio"&&h.name!=null&&Qn(d,h),bn(b,v);var $=bn(b,h);for(v=0;v<E.length;v+=2){var H=E[v],q=E[v+1];H==="style"?Ss(d,q):H==="dangerouslySetInnerHTML"?It(d,q):H==="children"?lt(d,q):U(d,H,q,$)}switch(b){case"input":Pt(d,h);break;case"textarea":xs(d,h);break;case"select":var F=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!h.multiple;var se=h.value;se!=null?zr(d,!!h.multiple,se,!1):F!==!!h.multiple&&(h.defaultValue!=null?zr(d,!!h.multiple,h.defaultValue,!0):zr(d,!!h.multiple,h.multiple?[]:"",!1))}d[Oi]=h}catch(fe){ut(e,e.return,fe)}}break;case 6:if(Ar(n,e),Kr(e),l&4){if(e.stateNode===null)throw Error(s(162));d=e.stateNode,h=e.memoizedProps;try{d.nodeValue=h}catch(fe){ut(e,e.return,fe)}}break;case 3:if(Ar(n,e),Kr(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{wi(n.containerInfo)}catch(fe){ut(e,e.return,fe)}break;case 4:Ar(n,e),Kr(e);break;case 13:Ar(n,e),Kr(e),d=e.child,d.flags&8192&&(h=d.memoizedState!==null,d.stateNode.isHidden=h,!h||d.alternate!==null&&d.alternate.memoizedState!==null||(gu=Fe())),l&4&&Of(e);break;case 22:if(H=i!==null&&i.memoizedState!==null,e.mode&1?(Mt=($=Mt)||H,Ar(n,e),Mt=$):Ar(n,e),Kr(e),l&8192){if($=e.memoizedState!==null,(e.stateNode.isHidden=$)&&!H&&(e.mode&1)!==0)for(le=e,H=e.child;H!==null;){for(q=le=H;le!==null;){switch(F=le,se=F.child,F.tag){case 0:case 11:case 14:case 15:Fi(4,F,F.return);break;case 1:Ws(F,F.return);var ce=F.stateNode;if(typeof ce.componentWillUnmount=="function"){l=F,i=F.return;try{n=l,ce.props=n.memoizedProps,ce.state=n.memoizedState,ce.componentWillUnmount()}catch(fe){ut(l,i,fe)}}break;case 5:Ws(F,F.return);break;case 22:if(F.memoizedState!==null){Lf(q);continue}}se!==null?(se.return=F,le=se):Lf(q)}H=H.sibling}e:for(H=null,q=e;;){if(q.tag===5){if(H===null){H=q;try{d=q.stateNode,$?(h=d.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(b=q.stateNode,E=q.memoizedProps.style,v=E!=null&&E.hasOwnProperty("display")?E.display:null,b.style.display=_n("display",v))}catch(fe){ut(e,e.return,fe)}}}else if(q.tag===6){if(H===null)try{q.stateNode.nodeValue=$?"":q.memoizedProps}catch(fe){ut(e,e.return,fe)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===e)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===e)break e;for(;q.sibling===null;){if(q.return===null||q.return===e)break e;H===q&&(H=null),q=q.return}H===q&&(H=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:Ar(n,e),Kr(e),l&4&&Of(e);break;case 21:break;default:Ar(n,e),Kr(e)}}function Kr(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(Cf(i)){var l=i;break e}i=i.return}throw Error(s(160))}switch(l.tag){case 5:var d=l.stateNode;l.flags&32&&(lt(d,""),l.flags&=-33);var h=Tf(e);hu(e,h,d);break;case 3:case 4:var v=l.stateNode.containerInfo,b=Tf(e);fu(e,b,v);break;default:throw Error(s(161))}}catch(E){ut(e,e.return,E)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Dg(e,n,i){le=e,Nf(e)}function Nf(e,n,i){for(var l=(e.mode&1)!==0;le!==null;){var d=le,h=d.child;if(d.tag===22&&l){var v=d.memoizedState!==null||no;if(!v){var b=d.alternate,E=b!==null&&b.memoizedState!==null||Mt;b=no;var $=Mt;if(no=v,(Mt=E)&&!$)for(le=d;le!==null;)v=le,E=v.child,v.tag===22&&v.memoizedState!==null?If(d):E!==null?(E.return=v,le=E):If(d);for(;h!==null;)le=h,Nf(h),h=h.sibling;le=d,no=b,Mt=$}Af(e)}else(d.subtreeFlags&8772)!==0&&h!==null?(h.return=d,le=h):Af(e)}}function Af(e){for(;le!==null;){var n=le;if((n.flags&8772)!==0){var i=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Mt||so(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!Mt)if(i===null)l.componentDidMount();else{var d=n.elementType===n.type?i.memoizedProps:jr(n.type,i.memoizedProps);l.componentDidUpdate(d,i.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var h=n.updateQueue;h!==null&&Ad(n,h,l);break;case 3:var v=n.updateQueue;if(v!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}Ad(n,v,i)}break;case 5:var b=n.stateNode;if(i===null&&n.flags&4){i=b;var E=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&i.focus();break;case"img":E.src&&(i.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var $=n.alternate;if($!==null){var H=$.memoizedState;if(H!==null){var q=H.dehydrated;q!==null&&wi(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Mt||n.flags&512&&du(n)}catch(F){ut(n,n.return,F)}}if(n===e){le=null;break}if(i=n.sibling,i!==null){i.return=n.return,le=i;break}le=n.return}}function Lf(e){for(;le!==null;){var n=le;if(n===e){le=null;break}var i=n.sibling;if(i!==null){i.return=n.return,le=i;break}le=n.return}}function If(e){for(;le!==null;){var n=le;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{so(4,n)}catch(E){ut(n,i,E)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var d=n.return;try{l.componentDidMount()}catch(E){ut(n,d,E)}}var h=n.return;try{du(n)}catch(E){ut(n,h,E)}break;case 5:var v=n.return;try{du(n)}catch(E){ut(n,v,E)}}}catch(E){ut(n,n.return,E)}if(n===e){le=null;break}var b=n.sibling;if(b!==null){b.return=n.return,le=b;break}le=n.return}}var $g=Math.ceil,io=K.ReactCurrentDispatcher,pu=K.ReactCurrentOwner,_r=K.ReactCurrentBatchConfig,Be=0,Ct=null,gt=null,Nt=0,lr=0,Vs=An(0),xt=0,Bi=null,as=0,ao=0,mu=0,Hi=null,Xt=null,gu=0,qs=1/0,dn=null,oo=!1,vu=null,Mn=null,lo=!1,zn=null,uo=0,Wi=0,yu=null,co=-1,fo=0;function Vt(){return(Be&6)!==0?Fe():co!==-1?co:co=Fe()}function Fn(e){return(e.mode&1)===0?1:(Be&2)!==0&&Nt!==0?Nt&-Nt:_g.transition!==null?(fo===0&&(fo=Cc()),fo):(e=Ke,e!==0||(e=window.event,e=e===void 0?16:Dc(e.type)),e)}function Lr(e,n,i,l){if(50<Wi)throw Wi=0,yu=null,Error(s(185));pi(e,i,l),((Be&2)===0||e!==Ct)&&(e===Ct&&((Be&2)===0&&(ao|=i),xt===4&&Bn(e,Nt)),Zt(e,l),i===1&&Be===0&&(n.mode&1)===0&&(qs=Fe()+500,Ma&&In()))}function Zt(e,n){var i=e.callbackNode;_m(e,n);var l=ks(e,e===Ct?Nt:0);if(l===0)i!==null&&ht(i),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(i!=null&&ht(i),n===1)e.tag===0?wg($f.bind(null,e)):bd($f.bind(null,e)),mg(function(){(Be&6)===0&&In()}),i=null;else{switch(Tc(l)){case 1:i=en;break;case 4:i=Tr;break;case 16:i=Bt;break;case 536870912:i=Sn;break;default:i=Bt}i=Vf(i,Df.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function Df(e,n){if(co=-1,fo=0,(Be&6)!==0)throw Error(s(327));var i=e.callbackNode;if(Ks()&&e.callbackNode!==i)return null;var l=ks(e,e===Ct?Nt:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||n)n=ho(e,l);else{n=l;var d=Be;Be|=2;var h=Mf();(Ct!==e||Nt!==n)&&(dn=null,qs=Fe()+500,ls(e,n));do try{zg();break}catch(b){Uf(e,b)}while(!0);Dl(),io.current=h,Be=d,gt!==null?n=0:(Ct=null,Nt=0,n=xt)}if(n!==0){if(n===2&&(d=Xo(e),d!==0&&(l=d,n=wu(e,d))),n===1)throw i=Bi,ls(e,0),Bn(e,l),Zt(e,Fe()),i;if(n===6)Bn(e,l);else{if(d=e.current.alternate,(l&30)===0&&!Ug(d)&&(n=ho(e,l),n===2&&(h=Xo(e),h!==0&&(l=h,n=wu(e,h))),n===1))throw i=Bi,ls(e,0),Bn(e,l),Zt(e,Fe()),i;switch(e.finishedWork=d,e.finishedLanes=l,n){case 0:case 1:throw Error(s(345));case 2:us(e,Xt,dn);break;case 3:if(Bn(e,l),(l&130023424)===l&&(n=gu+500-Fe(),10<n)){if(ks(e,0)!==0)break;if(d=e.suspendedLanes,(d&l)!==l){Vt(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=kl(us.bind(null,e,Xt,dn),n);break}us(e,Xt,dn);break;case 4:if(Bn(e,l),(l&4194240)===l)break;for(n=e.eventTimes,d=-1;0<l;){var v=31-Ae(l);h=1<<v,v=n[v],v>d&&(d=v),l&=~h}if(l=d,l=Fe()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*$g(l/1960))-l,10<l){e.timeoutHandle=kl(us.bind(null,e,Xt,dn),l);break}us(e,Xt,dn);break;case 5:us(e,Xt,dn);break;default:throw Error(s(329))}}}return Zt(e,Fe()),e.callbackNode===i?Df.bind(null,e):null}function wu(e,n){var i=Hi;return e.current.memoizedState.isDehydrated&&(ls(e,n).flags|=256),e=ho(e,n),e!==2&&(n=Xt,Xt=i,n!==null&&_u(n)),e}function _u(e){Xt===null?Xt=e:Xt.push.apply(Xt,e)}function Ug(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var l=0;l<i.length;l++){var d=i[l],h=d.getSnapshot;d=d.value;try{if(!Pr(h(),d))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Bn(e,n){for(n&=~mu,n&=~ao,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-Ae(n),l=1<<i;e[i]=-1,n&=~l}}function $f(e){if((Be&6)!==0)throw Error(s(327));Ks();var n=ks(e,0);if((n&1)===0)return Zt(e,Fe()),null;var i=ho(e,n);if(e.tag!==0&&i===2){var l=Xo(e);l!==0&&(n=l,i=wu(e,l))}if(i===1)throw i=Bi,ls(e,0),Bn(e,n),Zt(e,Fe()),i;if(i===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,us(e,Xt,dn),Zt(e,Fe()),null}function bu(e,n){var i=Be;Be|=1;try{return e(n)}finally{Be=i,Be===0&&(qs=Fe()+500,Ma&&In())}}function os(e){zn!==null&&zn.tag===0&&(Be&6)===0&&Ks();var n=Be;Be|=1;var i=_r.transition,l=Ke;try{if(_r.transition=null,Ke=1,e)return e()}finally{Ke=l,_r.transition=i,Be=n,(Be&6)===0&&In()}}function xu(){lr=Vs.current,tt(Vs)}function ls(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,pg(i)),gt!==null)for(i=gt.return;i!==null;){var l=i;switch(jl(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&$a();break;case 3:Bs(),tt(Jt),tt(Dt),Wl();break;case 5:Bl(l);break;case 4:Bs();break;case 13:tt(at);break;case 19:tt(at);break;case 10:$l(l.type._context);break;case 22:case 23:xu()}i=i.return}if(Ct=e,gt=e=Hn(e.current,null),Nt=lr=n,xt=0,Bi=null,mu=ao=as=0,Xt=Hi=null,ns!==null){for(n=0;n<ns.length;n++)if(i=ns[n],l=i.interleaved,l!==null){i.interleaved=null;var d=l.next,h=i.pending;if(h!==null){var v=h.next;h.next=d,l.next=v}i.pending=l}ns=null}return e}function Uf(e,n){do{var i=gt;try{if(Dl(),Ja.current=Za,Ya){for(var l=ot.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}Ya=!1}if(is=0,Rt=bt=ot=null,Di=!1,$i=0,pu.current=null,i===null||i.return===null){xt=1,Bi=n,gt=null;break}e:{var h=e,v=i.return,b=i,E=n;if(n=Nt,b.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var $=E,H=b,q=H.tag;if((H.mode&1)===0&&(q===0||q===11||q===15)){var F=H.alternate;F?(H.updateQueue=F.updateQueue,H.memoizedState=F.memoizedState,H.lanes=F.lanes):(H.updateQueue=null,H.memoizedState=null)}var se=uf(v);if(se!==null){se.flags&=-257,cf(se,v,b,h,n),se.mode&1&&lf(h,$,n),n=se,E=$;var ce=n.updateQueue;if(ce===null){var fe=new Set;fe.add(E),n.updateQueue=fe}else ce.add(E);break e}else{if((n&1)===0){lf(h,$,n),Su();break e}E=Error(s(426))}}else if(st&&b.mode&1){var pt=uf(v);if(pt!==null){(pt.flags&65536)===0&&(pt.flags|=256),cf(pt,v,b,h,n),Ll(Hs(E,b));break e}}h=E=Hs(E,b),xt!==4&&(xt=2),Hi===null?Hi=[h]:Hi.push(h),h=v;do{switch(h.tag){case 3:h.flags|=65536,n&=-n,h.lanes|=n;var A=af(h,E,n);Nd(h,A);break e;case 1:b=E;var P=h.type,D=h.stateNode;if((h.flags&128)===0&&(typeof P.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(Mn===null||!Mn.has(D)))){h.flags|=65536,n&=-n,h.lanes|=n;var X=of(h,b,n);Nd(h,X);break e}}h=h.return}while(h!==null)}Ff(i)}catch(pe){n=pe,gt===i&&i!==null&&(gt=i=i.return);continue}break}while(!0)}function Mf(){var e=io.current;return io.current=Za,e===null?Za:e}function Su(){(xt===0||xt===3||xt===2)&&(xt=4),Ct===null||(as&268435455)===0&&(ao&268435455)===0||Bn(Ct,Nt)}function ho(e,n){var i=Be;Be|=2;var l=Mf();(Ct!==e||Nt!==n)&&(dn=null,ls(e,n));do try{Mg();break}catch(d){Uf(e,d)}while(!0);if(Dl(),Be=i,io.current=l,gt!==null)throw Error(s(261));return Ct=null,Nt=0,xt}function Mg(){for(;gt!==null;)zf(gt)}function zg(){for(;gt!==null&&!Ot();)zf(gt)}function zf(e){var n=Wf(e.alternate,e,lr);e.memoizedProps=e.pendingProps,n===null?Ff(e):gt=n,pu.current=null}function Ff(e){var n=e;do{var i=n.alternate;if(e=n.return,(n.flags&32768)===0){if(i=Ng(i,n,lr),i!==null){gt=i;return}}else{if(i=Ag(i,n),i!==null){i.flags&=32767,gt=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xt=6,gt=null;return}}if(n=n.sibling,n!==null){gt=n;return}gt=n=e}while(n!==null);xt===0&&(xt=5)}function us(e,n,i){var l=Ke,d=_r.transition;try{_r.transition=null,Ke=1,Fg(e,n,i,l)}finally{_r.transition=d,Ke=l}return null}function Fg(e,n,i,l){do Ks();while(zn!==null);if((Be&6)!==0)throw Error(s(327));i=e.finishedWork;var d=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var h=i.lanes|i.childLanes;if(bm(e,h),e===Ct&&(gt=Ct=null,Nt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||lo||(lo=!0,Vf(Bt,function(){return Ks(),null})),h=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||h){h=_r.transition,_r.transition=null;var v=Ke;Ke=1;var b=Be;Be|=4,pu.current=null,Ig(e,i),jf(i,e),og(Sl),Sa=!!xl,Sl=xl=null,e.current=i,Dg(i),Ve(),Be=b,Ke=v,_r.transition=h}else e.current=i;if(lo&&(lo=!1,zn=e,uo=d),h=e.pendingLanes,h===0&&(Mn=null),Es(i.stateNode),Zt(e,Fe()),n!==null)for(l=e.onRecoverableError,i=0;i<n.length;i++)d=n[i],l(d.value,{componentStack:d.stack,digest:d.digest});if(oo)throw oo=!1,e=vu,vu=null,e;return(uo&1)!==0&&e.tag!==0&&Ks(),h=e.pendingLanes,(h&1)!==0?e===yu?Wi++:(Wi=0,yu=e):Wi=0,In(),null}function Ks(){if(zn!==null){var e=Tc(uo),n=_r.transition,i=Ke;try{if(_r.transition=null,Ke=16>e?16:e,zn===null)var l=!1;else{if(e=zn,zn=null,uo=0,(Be&6)!==0)throw Error(s(331));var d=Be;for(Be|=4,le=e.current;le!==null;){var h=le,v=h.child;if((le.flags&16)!==0){var b=h.deletions;if(b!==null){for(var E=0;E<b.length;E++){var $=b[E];for(le=$;le!==null;){var H=le;switch(H.tag){case 0:case 11:case 15:Fi(8,H,h)}var q=H.child;if(q!==null)q.return=H,le=q;else for(;le!==null;){H=le;var F=H.sibling,se=H.return;if(Rf(H),H===$){le=null;break}if(F!==null){F.return=se,le=F;break}le=se}}}var ce=h.alternate;if(ce!==null){var fe=ce.child;if(fe!==null){ce.child=null;do{var pt=fe.sibling;fe.sibling=null,fe=pt}while(fe!==null)}}le=h}}if((h.subtreeFlags&2064)!==0&&v!==null)v.return=h,le=v;else e:for(;le!==null;){if(h=le,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:Fi(9,h,h.return)}var A=h.sibling;if(A!==null){A.return=h.return,le=A;break e}le=h.return}}var P=e.current;for(le=P;le!==null;){v=le;var D=v.child;if((v.subtreeFlags&2064)!==0&&D!==null)D.return=v,le=D;else e:for(v=P;le!==null;){if(b=le,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:so(9,b)}}catch(pe){ut(b,b.return,pe)}if(b===v){le=null;break e}var X=b.sibling;if(X!==null){X.return=b.return,le=X;break e}le=b.return}}if(Be=d,In(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(mr,e)}catch{}l=!0}return l}finally{Ke=i,_r.transition=n}}return!1}function Bf(e,n,i){n=Hs(i,n),n=af(e,n,1),e=$n(e,n,1),n=Vt(),e!==null&&(pi(e,1,n),Zt(e,n))}function ut(e,n,i){if(e.tag===3)Bf(e,e,i);else for(;n!==null;){if(n.tag===3){Bf(n,e,i);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Mn===null||!Mn.has(l))){e=Hs(i,e),e=of(n,e,1),n=$n(n,e,1),e=Vt(),n!==null&&(pi(n,1,e),Zt(n,e));break}}n=n.return}}function Bg(e,n,i){var l=e.pingCache;l!==null&&l.delete(n),n=Vt(),e.pingedLanes|=e.suspendedLanes&i,Ct===e&&(Nt&i)===i&&(xt===4||xt===3&&(Nt&130023424)===Nt&&500>Fe()-gu?ls(e,0):mu|=i),Zt(e,n)}function Hf(e,n){n===0&&((e.mode&1)===0?n=1:(n=rn,rn<<=1,(rn&130023424)===0&&(rn=4194304)));var i=Vt();e=ln(e,n),e!==null&&(pi(e,n,i),Zt(e,i))}function Hg(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Hf(e,i)}function Wg(e,n){var i=0;switch(e.tag){case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(s(314))}l!==null&&l.delete(n),Hf(e,i)}var Wf;Wf=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||Jt.current)Qt=!0;else{if((e.lanes&i)===0&&(n.flags&128)===0)return Qt=!1,jg(e,n,i);Qt=(e.flags&131072)!==0}else Qt=!1,st&&(n.flags&1048576)!==0&&xd(n,Fa,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;ro(e,n),e=n.pendingProps;var d=Is(n,Dt.current);Fs(n,i),d=Kl(null,n,l,e,d,i);var h=Gl();return n.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Yt(l)?(h=!0,Ua(n)):h=!1,n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,zl(n),d.updater=eo,n.stateNode=d,d._reactInternals=n,eu(n,l,e,i),n=su(null,n,l,!0,h,i)):(n.tag=0,st&&h&&Ol(n),Wt(null,n,d,i),n=n.child),n;case 16:l=n.elementType;e:{switch(ro(e,n),e=n.pendingProps,d=l._init,l=d(l._payload),n.type=l,d=n.tag=qg(l),e=jr(l,e),d){case 0:n=nu(null,n,l,e,i);break e;case 1:n=gf(null,n,l,e,i);break e;case 11:n=df(null,n,l,e,i);break e;case 14:n=ff(null,n,l,jr(l.type,e),i);break e}throw Error(s(306,l,""))}return n;case 0:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:jr(l,d),nu(e,n,l,d,i);case 1:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:jr(l,d),gf(e,n,l,d,i);case 3:e:{if(vf(n),e===null)throw Error(s(387));l=n.pendingProps,h=n.memoizedState,d=h.element,jd(e,n),Ka(n,l,null,i);var v=n.memoizedState;if(l=v.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){d=Hs(Error(s(423)),n),n=yf(e,n,l,i,d);break e}else if(l!==d){d=Hs(Error(s(424)),n),n=yf(e,n,l,i,d);break e}else for(or=Nn(n.stateNode.containerInfo.firstChild),ar=n,st=!0,Or=null,i=Pd(n,null,l,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Us(),l===d){n=cn(e,n,i);break e}Wt(e,n,l,i)}n=n.child}return n;case 5:return Ld(n),e===null&&Al(n),l=n.type,d=n.pendingProps,h=e!==null?e.memoizedProps:null,v=d.children,El(l,d)?v=null:h!==null&&El(l,h)&&(n.flags|=32),mf(e,n),Wt(e,n,v,i),n.child;case 6:return e===null&&Al(n),null;case 13:return wf(e,n,i);case 4:return Fl(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ms(n,null,l,i):Wt(e,n,l,i),n.child;case 11:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:jr(l,d),df(e,n,l,d,i);case 7:return Wt(e,n,n.pendingProps,i),n.child;case 8:return Wt(e,n,n.pendingProps.children,i),n.child;case 12:return Wt(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(l=n.type._context,d=n.pendingProps,h=n.memoizedProps,v=d.value,Qe(Wa,l._currentValue),l._currentValue=v,h!==null)if(Pr(h.value,v)){if(h.children===d.children&&!Jt.current){n=cn(e,n,i);break e}}else for(h=n.child,h!==null&&(h.return=n);h!==null;){var b=h.dependencies;if(b!==null){v=h.child;for(var E=b.firstContext;E!==null;){if(E.context===l){if(h.tag===1){E=un(-1,i&-i),E.tag=2;var $=h.updateQueue;if($!==null){$=$.shared;var H=$.pending;H===null?E.next=E:(E.next=H.next,H.next=E),$.pending=E}}h.lanes|=i,E=h.alternate,E!==null&&(E.lanes|=i),Ul(h.return,i,n),b.lanes|=i;break}E=E.next}}else if(h.tag===10)v=h.type===n.type?null:h.child;else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=i,b=v.alternate,b!==null&&(b.lanes|=i),Ul(v,i,n),v=h.sibling}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===n){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}Wt(e,n,d.children,i),n=n.child}return n;case 9:return d=n.type,l=n.pendingProps.children,Fs(n,i),d=yr(d),l=l(d),n.flags|=1,Wt(e,n,l,i),n.child;case 14:return l=n.type,d=jr(l,n.pendingProps),d=jr(l.type,d),ff(e,n,l,d,i);case 15:return hf(e,n,n.type,n.pendingProps,i);case 17:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:jr(l,d),ro(e,n),n.tag=1,Yt(l)?(e=!0,Ua(n)):e=!1,Fs(n,i),nf(n,l,d),eu(n,l,d,i),su(null,n,l,!0,e,i);case 19:return bf(e,n,i);case 22:return pf(e,n,i)}throw Error(s(156,n.tag))};function Vf(e,n){return Ye(e,n)}function Vg(e,n,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(e,n,i,l){return new Vg(e,n,i,l)}function Eu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qg(e){if(typeof e=="function")return Eu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Te)return 11;if(e===Ee)return 14}return 2}function Hn(e,n){var i=e.alternate;return i===null?(i=br(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function po(e,n,i,l,d,h){var v=2;if(l=e,typeof e=="function")Eu(e)&&(v=1);else if(typeof e=="string")v=5;else e:switch(e){case V:return cs(i.children,d,h,n);case k:v=8,d|=8;break;case ne:return e=br(12,i,n,d|2),e.elementType=ne,e.lanes=h,e;case Ie:return e=br(13,i,n,d),e.elementType=Ie,e.lanes=h,e;case Ne:return e=br(19,i,n,d),e.elementType=Ne,e.lanes=h,e;case ve:return mo(i,d,h,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case we:v=10;break e;case Me:v=9;break e;case Te:v=11;break e;case Ee:v=14;break e;case ue:v=16,l=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return n=br(v,i,n,d),n.elementType=e,n.type=l,n.lanes=h,n}function cs(e,n,i,l){return e=br(7,e,l,n),e.lanes=i,e}function mo(e,n,i,l){return e=br(22,e,l,n),e.elementType=ve,e.lanes=i,e.stateNode={isHidden:!1},e}function ku(e,n,i){return e=br(6,e,null,n),e.lanes=i,e}function Ru(e,n,i){return n=br(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Kg(e,n,i,l,d){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zo(0),this.expirationTimes=Zo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zo(0),this.identifierPrefix=l,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Cu(e,n,i,l,d,h,v,b,E){return e=new Kg(e,n,i,b,E),n===1?(n=1,h===!0&&(n|=8)):n=0,h=br(3,null,null,n),e.current=h,h.stateNode=e,h.memoizedState={element:l,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},zl(h),e}function Gg(e,n,i){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:l==null?null:""+l,children:e,containerInfo:n,implementation:i}}function qf(e){if(!e)return Ln;e=e._reactInternals;e:{if(ie(e)!==e||e.tag!==1)throw Error(s(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Yt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(s(171))}if(e.tag===1){var i=e.type;if(Yt(i))return wd(e,i,n)}return n}function Kf(e,n,i,l,d,h,v,b,E){return e=Cu(i,l,!0,e,d,h,v,b,E),e.context=qf(null),i=e.current,l=Vt(),d=Fn(i),h=un(l,d),h.callback=n??null,$n(i,h,d),e.current.lanes=d,pi(e,d,l),Zt(e,l),e}function go(e,n,i,l){var d=n.current,h=Vt(),v=Fn(d);return i=qf(i),n.context===null?n.context=i:n.pendingContext=i,n=un(h,v),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=$n(d,n,v),e!==null&&(Lr(e,d,v,h),qa(e,d,v)),v}function vo(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function Gf(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Tu(e,n){Gf(e,n),(e=e.alternate)&&Gf(e,n)}function Jg(){return null}var Jf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pu(e){this._internalRoot=e}yo.prototype.render=Pu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));go(e,n,null,null)},yo.prototype.unmount=Pu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;os(function(){go(null,e,null,null)}),n[nn]=null}};function yo(e){this._internalRoot=e}yo.prototype.unstable_scheduleHydration=function(e){if(e){var n=jc();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Pn.length&&n!==0&&n<Pn[i].priority;i++);Pn.splice(i,0,e),i===0&&Lc(e)}};function Ou(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yf(){}function Yg(e,n,i,l,d){if(d){if(typeof l=="function"){var h=l;l=function(){var $=vo(v);h.call($)}}var v=Kf(n,l,e,0,null,!1,!1,"",Yf);return e._reactRootContainer=v,e[nn]=v.current,Ti(e.nodeType===8?e.parentNode:e),os(),v}for(;d=e.lastChild;)e.removeChild(d);if(typeof l=="function"){var b=l;l=function(){var $=vo(E);b.call($)}}var E=Cu(e,0,!1,null,null,!1,!1,"",Yf);return e._reactRootContainer=E,e[nn]=E.current,Ti(e.nodeType===8?e.parentNode:e),os(function(){go(n,E,i,l)}),E}function _o(e,n,i,l,d){var h=i._reactRootContainer;if(h){var v=h;if(typeof d=="function"){var b=d;d=function(){var E=vo(v);b.call(E)}}go(n,v,e,d)}else v=Yg(i,n,e,d,l);return vo(v)}Pc=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=kn(n.pendingLanes);i!==0&&(el(n,i|1),Zt(n,Fe()),(Be&6)===0&&(qs=Fe()+500,In()))}break;case 13:os(function(){var l=ln(e,1);if(l!==null){var d=Vt();Lr(l,e,1,d)}}),Tu(e,1)}},tl=function(e){if(e.tag===13){var n=ln(e,134217728);if(n!==null){var i=Vt();Lr(n,e,134217728,i)}Tu(e,134217728)}},Oc=function(e){if(e.tag===13){var n=Fn(e),i=ln(e,n);if(i!==null){var l=Vt();Lr(i,e,n,l)}Tu(e,n)}},jc=function(){return Ke},Nc=function(e,n){var i=Ke;try{return Ke=e,n()}finally{Ke=i}},xn=function(e,n,i){switch(n){case"input":if(Pt(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var l=i[n];if(l!==e&&l.form===e.form){var d=Da(l);if(!d)throw Error(s(90));Ge(l),Pt(l,d)}}}break;case"textarea":xs(e,i);break;case"select":n=i.value,n!=null&&zr(e,!!i.multiple,n,!1)}},dt=bu,wt=os;var Qg={usingClientEntryPoint:!1,Events:[ji,As,Da,je,nt,bu]},Vi={findFiberByHostInstance:Zn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xg={bundleType:Vi.bundleType,version:Vi.version,rendererPackageName:Vi.rendererPackageName,rendererConfig:Vi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=He(e),e===null?null:e.stateNode},findFiberByHostInstance:Vi.findFiberByHostInstance||Jg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bo.isDisabled&&bo.supportsFiber)try{mr=bo.inject(Xg),Ht=bo}catch{}}return er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qg,er.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ou(n))throw Error(s(200));return Gg(e,n,null,i)},er.createRoot=function(e,n){if(!Ou(e))throw Error(s(299));var i=!1,l="",d=Jf;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=Cu(e,1,!1,null,null,i,!1,l,d),e[nn]=n.current,Ti(e.nodeType===8?e.parentNode:e),new Pu(n)},er.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=He(n),e=e===null?null:e.stateNode,e},er.flushSync=function(e){return os(e)},er.hydrate=function(e,n,i){if(!wo(n))throw Error(s(200));return _o(null,e,n,!0,i)},er.hydrateRoot=function(e,n,i){if(!Ou(e))throw Error(s(405));var l=i!=null&&i.hydratedSources||null,d=!1,h="",v=Jf;if(i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),n=Kf(n,null,e,1,i??null,d,!1,h,v),e[nn]=n.current,Ti(e),l)for(e=0;e<l.length;e++)i=l[e],d=i._getVersion,d=d(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,d]:n.mutableSourceEagerHydrationData.push(i,d);return new yo(n)},er.render=function(e,n,i){if(!wo(n))throw Error(s(200));return _o(null,e,n,!1,i)},er.unmountComponentAtNode=function(e){if(!wo(e))throw Error(s(40));return e._reactRootContainer?(os(function(){_o(null,null,e,!1,function(){e._reactRootContainer=null,e[nn]=null})}),!0):!1},er.unstable_batchedUpdates=bu,er.unstable_renderSubtreeIntoContainer=function(e,n,i,l){if(!wo(i))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return _o(e,n,i,!1,l)},er.version="18.3.1-next-f1338f8080-20240426",er}var sh;function fp(){if(sh)return Au.exports;sh=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Au.exports=ov(),Au.exports}var ih;function lv(){if(ih)return xo;ih=1;var r=fp();return xo.createRoot=r.createRoot,xo.hydrateRoot=r.hydrateRoot,xo}var uv=lv();var hp=r=>{throw TypeError(r)},cv=(r,t,s)=>t.has(r)||hp("Cannot "+s),Du=(r,t,s)=>(cv(r,t,"read from private field"),s?s.call(r):t.get(r)),dv=(r,t,s)=>t.has(r)?hp("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,s),ah="popstate";function oh(r){return typeof r=="object"&&r!=null&&"pathname"in r&&"search"in r&&"hash"in r&&"state"in r&&"key"in r}function fv(r={}){function t(a,o){let u=o.state?.masked,{pathname:c,search:f,hash:p}=u||a.location;return na("",{pathname:c,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default",u?{pathname:a.location.pathname,search:a.location.search,hash:a.location.hash}:void 0)}function s(a,o){return typeof o=="string"?o:Jr(o)}return pv(t,s,null,r)}function $e(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function mt(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hv(){return Math.random().toString(36).substring(2,10)}function lh(r,t){return{usr:r.state,key:r.key,idx:t,masked:r.unstable_mask?{pathname:r.pathname,search:r.search,hash:r.hash}:void 0}}function na(r,t,s=null,a,o){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?gn(t):t,state:s,key:t&&t.key||a||hv(),unstable_mask:o}}function Jr({pathname:r="/",search:t="",hash:s=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function gn(r){let t={};if(r){let s=r.indexOf("#");s>=0&&(t.hash=r.substring(s),r=r.substring(0,s));let a=r.indexOf("?");a>=0&&(t.search=r.substring(a),r=r.substring(0,a)),r&&(t.pathname=r)}return t}function pv(r,t,s,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,c=o.history,f="POP",p=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function g(){f="POP";let T=y(),L=T==null?null:T-m;m=T,p&&p({action:f,location:C.location,delta:L})}function w(T,L){f="PUSH";let M=oh(T)?T:na(C.location,T,L);m=y()+1;let U=lh(M,m),K=C.createHref(M.unstable_mask||M);try{c.pushState(U,"",K)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;o.location.assign(K)}u&&p&&p({action:f,location:C.location,delta:1})}function _(T,L){f="REPLACE";let M=oh(T)?T:na(C.location,T,L);m=y();let U=lh(M,m),K=C.createHref(M.unstable_mask||M);c.replaceState(U,"",K),u&&p&&p({action:f,location:C.location,delta:0})}function x(T){return pp(T)}let C={get action(){return f},get location(){return r(o,c)},listen(T){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(ah,g),p=T,()=>{o.removeEventListener(ah,g),p=null}},createHref(T){return t(o,T)},createURL:x,encodeLocation(T){let L=x(T);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:w,replace:_,go(T){return c.go(T)}};return C}function pp(r,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),$e(s,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Jr(r);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=s+a),new URL(a,s)}var Qi,uh=class{constructor(r){if(dv(this,Qi,new Map),r)for(let[t,s]of r)this.set(t,s)}get(r){if(Du(this,Qi).has(r))return Du(this,Qi).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,t){Du(this,Qi).set(r,t)}};Qi=new WeakMap;var mv=new Set(["lazy","caseSensitive","path","id","index","children"]);function gv(r){return mv.has(r)}var vv=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function yv(r){return vv.has(r)}function wv(r){return r.index===!0}function sa(r,t,s=[],a={},o=!1){return r.map((u,c)=>{let f=[...s,String(c)],p=typeof u.id=="string"?u.id:f.join("-");if($e(u.index!==!0||!u.children,"Cannot specify children on an index route"),$e(o||!a[p],`Found a route id collision on id "${p}".  Route id's must be globally unique within Data Router usages`),wv(u)){let m={...u,id:p};return a[p]=ch(m,t(m)),m}else{let m={...u,id:p,children:void 0};return a[p]=ch(m,t(m)),u.children&&(m.children=sa(u.children,t,f,a,o)),m}})}function ch(r,t){return Object.assign(r,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...r.lazy,...t.lazy}}:{}})}function qn(r,t,s="/"){return Xi(r,t,s,!1)}function Xi(r,t,s,a){let o=typeof t=="string"?gn(t):t,u=Sr(o.pathname||"/",s);if(u==null)return null;let c=mp(r);bv(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let m=Nv(u);f=Ov(c[p],m,a)}return f}function _v(r,t){let{route:s,pathname:a,params:o}=r;return{id:s.id,pathname:a,params:o,data:t[s.id],loaderData:t[s.id],handle:s.handle}}function mp(r,t=[],s=[],a="",o=!1){let u=(c,f,p=o,m)=>{let y={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(a)&&p)return;$e(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length)}let g=Ur([a,y.relativePath]),w=s.concat(y);c.children&&c.children.length>0&&($e(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),mp(c.children,t,w,g,p)),!(c.path==null&&!c.index)&&t.push({path:g,score:Tv(g,c.index),routesMeta:w})};return r.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))u(c,f);else for(let p of gp(c.path))u(c,f,!0,p)}),t}function gp(r){let t=r.split("/");if(t.length===0)return[];let[s,...a]=t,o=s.endsWith("?"),u=s.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let c=gp(a.join("/")),f=[];return f.push(...c.map(p=>p===""?u:[u,p].join("/"))),o&&f.push(...c),f.map(p=>r.startsWith("/")&&p===""?"/":p)}function bv(r){r.sort((t,s)=>t.score!==s.score?s.score-t.score:Pv(t.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}var xv=/^:[\w-]+$/,Sv=3,Ev=2,kv=1,Rv=10,Cv=-2,dh=r=>r==="*";function Tv(r,t){let s=r.split("/"),a=s.length;return s.some(dh)&&(a+=Cv),t&&(a+=Ev),s.filter(o=>!dh(o)).reduce((o,u)=>o+(xv.test(u)?Sv:u===""?kv:Rv),a)}function Pv(r,t){return r.length===t.length&&r.slice(0,-1).every((a,o)=>a===t[o])?r[r.length-1]-t[t.length-1]:0}function Ov(r,t,s=!1){let{routesMeta:a}=r,o={},u="/",c=[];for(let f=0;f<a.length;++f){let p=a[f],m=f===a.length-1,y=u==="/"?t:t.slice(u.length)||"/",g=$o({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),w=p.route;if(!g&&m&&s&&!a[a.length-1].route.index&&(g=$o({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!g)return null;Object.assign(o,g.params),c.push({params:o,pathname:Ur([u,g.pathname]),pathnameBase:Iv(Ur([u,g.pathnameBase])),route:w}),g.pathnameBase!=="/"&&(u=Ur([u,g.pathnameBase]))}return c}function $o(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[s,a]=jv(r.path,r.caseSensitive,r.end),o=t.match(s);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:a.reduce((m,{paramName:y,isOptional:g},w)=>{if(y==="*"){let x=f[w]||"";c=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const _=f[w];return g&&!_?m[y]=void 0:m[y]=(_||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:c,pattern:r}}function jv(r,t=!1,s=!0){mt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p,m,y)=>{if(a.push({paramName:f,isOptional:p!=null}),p){let g=y.charAt(m+c.length);return g&&g!=="/"?"/([^\\/]*)":"(?:/([^\\/]*))?"}return"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function Nv(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return mt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Sr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,a=r.charAt(s);return a&&a!=="/"?null:r.slice(s)||"/"}function Av({basename:r,pathname:t}){return t==="/"?r:Ur([r,t])}var vp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dc=r=>vp.test(r);function Lv(r,t="/"){let{pathname:s,search:a="",hash:o=""}=typeof r=="string"?gn(r):r,u;return s?(s=s.replace(/\/\/+/g,"/"),s.startsWith("/")?u=fh(s.substring(1),"/"):u=fh(s,t)):u=t,{pathname:u,search:Dv(a),hash:$v(o)}}function fh(r,t){let s=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function $u(r,t,s,a){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yp(r){return r.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Bo(r){let t=yp(r);return t.map((s,a)=>a===t.length-1?s.pathname:s.pathnameBase)}function pa(r,t,s,a=!1){let o;typeof r=="string"?o=gn(r):(o={...r},$e(!o.pathname||!o.pathname.includes("?"),$u("?","pathname","search",o)),$e(!o.pathname||!o.pathname.includes("#"),$u("#","pathname","hash",o)),$e(!o.search||!o.search.includes("#"),$u("#","search","hash",o)));let u=r===""||o.pathname==="",c=u?"/":o.pathname,f;if(c==null)f=s;else{let g=t.length-1;if(!a&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),g-=1;o.pathname=w.join("/")}f=g>=0?t[g]:"/"}let p=Lv(o,f),m=c&&c!=="/"&&c.endsWith("/"),y=(u||c===".")&&s.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var Ur=r=>r.join("/").replace(/\/\/+/g,"/"),Iv=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Dv=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,$v=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,ma=class{constructor(r,t,s,a=!1){this.status=r,this.statusText=t||"",this.internal=a,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function ia(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function ga(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var wp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _p(r,t){let s=r;if(typeof s!="string"||!vp.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let a=s,o=!1;if(wp)try{let u=new URL(window.location.href),c=s.startsWith("//")?new URL(u.protocol+s):new URL(s),f=Sr(c.pathname,t);c.origin===u.origin&&f!=null?s=f+c.search+c.hash:o=!0}catch{mt(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:o,to:s}}var Jn=Symbol("Uninstrumented");function Uv(r,t){let s={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};r.forEach(o=>o({id:t.id,index:t.index,path:t.path,instrument(u){let c=Object.keys(s);for(let f of c)u[f]&&s[f].push(u[f])}}));let a={};if(typeof t.lazy=="function"&&s.lazy.length>0){let o=ni(s.lazy,t.lazy,()=>{});o&&(a.lazy=o)}if(typeof t.lazy=="object"){let o=t.lazy;["middleware","loader","action"].forEach(u=>{let c=o[u],f=s[`lazy.${u}`];if(typeof c=="function"&&f.length>0){let p=ni(f,c,()=>{});p&&(a.lazy=Object.assign(a.lazy||{},{[u]:p}))}})}return["loader","action"].forEach(o=>{let u=t[o];if(typeof u=="function"&&s[o].length>0){let c=u[Jn]??u,f=ni(s[o],c,(...p)=>hh(p[0]));f&&(o==="loader"&&c.hydrate===!0&&(f.hydrate=!0),f[Jn]=c,a[o]=f)}}),t.middleware&&t.middleware.length>0&&s.middleware.length>0&&(a.middleware=t.middleware.map(o=>{let u=o[Jn]??o,c=ni(s.middleware,u,(...f)=>hh(f[0]));return c?(c[Jn]=u,c):o})),a}function Mv(r,t){let s={navigate:[],fetch:[]};if(t.forEach(a=>a({instrument(o){let u=Object.keys(o);for(let c of u)o[c]&&s[c].push(o[c])}})),s.navigate.length>0){let a=r.navigate[Jn]??r.navigate,o=ni(s.navigate,a,(...u)=>{let[c,f]=u;return{to:typeof c=="number"||typeof c=="string"?c:c?Jr(c):".",...ph(r,f??{})}});o&&(o[Jn]=a,r.navigate=o)}if(s.fetch.length>0){let a=r.fetch[Jn]??r.fetch,o=ni(s.fetch,a,(...u)=>{let[c,,f,p]=u;return{href:f??".",fetcherKey:c,...ph(r,p??{})}});o&&(o[Jn]=a,r.fetch=o)}return r}function ni(r,t,s){return r.length===0?null:async(...a)=>{let o=await bp(r,s(...a),()=>t(...a),r.length-1);if(o.type==="error")throw o.value;return o.value}}async function bp(r,t,s,a){let o=r[a],u;if(o){let c,f=async()=>(c?console.error("You cannot call instrumented handlers more than once"):c=bp(r,t,s,a-1),u=await c,$e(u,"Expected a result"),u.type==="error"&&u.value instanceof Error?{status:"error",error:u.value}:{status:"success",error:void 0});try{await o(f,t)}catch(p){console.error("An instrumentation function threw an error:",p)}c||await f(),await c}else try{u={type:"success",value:await s()}}catch(c){u={type:"error",value:c}}return u||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function hh(r){let{request:t,context:s,params:a,unstable_pattern:o}=r;return{request:zv(t),params:{...a},unstable_pattern:o,context:Fv(s)}}function ph(r,t){return{currentUrl:Jr(r.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function zv(r){return{method:r.method,url:r.url,headers:{get:(...t)=>r.headers.get(...t)}}}function Fv(r){if(Hv(r)){let t={...r};return Object.freeze(t),t}else return{get:t=>r.get(t)}}var Bv=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hv(r){if(r===null||typeof r!="object")return!1;const t=Object.getPrototypeOf(r);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===Bv}var xp=["POST","PUT","PATCH","DELETE"],Wv=new Set(xp),Vv=["GET",...xp],qv=new Set(Vv),Sp=new Set([301,302,303,307,308]),Kv=new Set([307,308]),Uu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Gv={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ki={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Jv=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),Ep="remix-router-transitions",kp=Symbol("ResetLoaderData");function Yv(r){const t=r.window?r.window:typeof window<"u"?window:void 0,s=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";$e(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=r.hydrationRouteProperties||[],o=r.mapRouteProperties||Jv,u=o;if(r.unstable_instrumentations){let S=r.unstable_instrumentations;u=N=>({...o(N),...Uv(S.map(I=>I.route).filter(Boolean),N)})}let c={},f=sa(r.routes,u,void 0,c),p,m=r.basename||"/";m.startsWith("/")||(m=`/${m}`);let y=r.dataStrategy||ty,g={...r.future},w=null,_=new Set,x=null,C=null,T=null,L=r.hydrationData!=null,M=qn(f,r.history.location,m),U=!1,K=null,te,Z;if(M==null&&!r.patchRoutesOnNavigation){let S=xr(404,{pathname:r.history.location.pathname}),{matches:N,route:I}=So(f);te=!0,Z=!te,M=N,K={[I.id]:S}}else if(M&&!r.hydrationData&&sr(M,f,r.history.location.pathname).active&&(M=null),M)if(M.some(S=>S.route.lazy))te=!1,Z=!te;else if(!M.some(S=>fc(S.route)))te=!0,Z=!te;else{let S=r.hydrationData?r.hydrationData.loaderData:null,N=r.hydrationData?r.hydrationData.errors:null,I=M;if(N){let B=M.findIndex(Q=>N[Q.route.id]!==void 0);I=I.slice(0,B+1)}Z=!1,te=I.every(B=>{let Q=Rp(B.route,S,N);return Z=Z||Q.renderFallback,!Q.shouldLoad})}else{te=!1,Z=!te,M=[];let S=sr(null,f,r.history.location.pathname);S.active&&S.matches&&(U=!0,M=S.matches)}let V,k={historyAction:r.history.action,location:r.history.location,matches:M,initialized:te,renderFallback:Z,navigation:Uu,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||K,fetchers:new Map,blockers:new Map},ne="POP",we=null,Me=!1,Te,Ie=!1,Ne=new Map,Ee=null,ue=!1,ve=!1,W=new Set,J=new Map,G=0,j=-1,z=new Map,Y=new Set,re=new Map,oe=new Map,me=new Set,Le=new Map,he,De=null;function de(){if(w=r.history.listen(({action:S,location:N,delta:I})=>{if(he){he(),he=void 0;return}mt(Le.size===0||I!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let B=pr({currentLocation:k.location,nextLocation:N,historyAction:S});if(B&&I!=null){let Q=new Promise(ye=>{he=ye});r.history.go(I*-1),nr(B,{state:"blocked",location:N,proceed(){nr(B,{state:"proceeding",proceed:void 0,reset:void 0,location:N}),Q.then(()=>r.history.go(I))},reset(){let ye=new Map(k.blockers);ye.set(B,Ki),it({blockers:ye})}}),we?.resolve(),we=null;return}return Pt(S,N)}),s){wy(t,Ne);let S=()=>_y(t,Ne);t.addEventListener("pagehide",S),Ee=()=>t.removeEventListener("pagehide",S)}return k.initialized||Pt("POP",k.location,{initialHydration:!0}),V}function qe(){w&&w(),Ee&&Ee(),_.clear(),Te&&Te.abort(),k.fetchers.forEach((S,N)=>_n(N)),k.blockers.forEach((S,N)=>xn(N))}function Ge(S){return _.add(S),()=>_.delete(S)}function it(S,N={}){S.matches&&(S.matches=S.matches.map(Q=>{let ye=c[Q.route.id],ae=Q.route;return ae.element!==ye.element||ae.errorElement!==ye.errorElement||ae.hydrateFallbackElement!==ye.hydrateFallbackElement?{...Q,route:ye}:Q})),k={...k,...S};let I=[],B=[];k.fetchers.forEach((Q,ye)=>{Q.state==="idle"&&(me.has(ye)?I.push(ye):B.push(ye))}),me.forEach(Q=>{!k.fetchers.has(Q)&&!J.has(Q)&&I.push(Q)}),[..._].forEach(Q=>Q(k,{deletedFetchers:I,newErrors:S.errors??null,viewTransitionOpts:N.viewTransitionOpts,flushSync:N.flushSync===!0})),I.forEach(Q=>_n(Q)),B.forEach(Q=>k.fetchers.delete(Q))}function qt(S,N,{flushSync:I}={}){let B=k.actionData!=null&&k.navigation.formMethod!=null&&zt(k.navigation.formMethod)&&k.navigation.state==="loading"&&S.state?._isRedirect!==!0,Q;N.actionData?Object.keys(N.actionData).length>0?Q=N.actionData:Q=null:B?Q=k.actionData:Q=null;let ye=N.loaderData?Eh(k.loaderData,N.loaderData,N.matches||[],N.errors):k.loaderData,ae=k.blockers;ae.size>0&&(ae=new Map(ae),ae.forEach((Se,_e)=>ae.set(_e,Ki)));let be=ue?!1:wt(S,N.matches||k.matches),ie=Me===!0||k.navigation.formMethod!=null&&zt(k.navigation.formMethod)&&S.state?._isRedirect!==!0;p&&(f=p,p=void 0),ue||ne==="POP"||(ne==="PUSH"?r.history.push(S,S.state):ne==="REPLACE"&&r.history.replace(S,S.state));let xe;if(ne==="POP"){let Se=Ne.get(k.location.pathname);Se&&Se.has(S.pathname)?xe={currentLocation:k.location,nextLocation:S}:Ne.has(S.pathname)&&(xe={currentLocation:S,nextLocation:k.location})}else if(Ie){let Se=Ne.get(k.location.pathname);Se?Se.add(S.pathname):(Se=new Set([S.pathname]),Ne.set(k.location.pathname,Se)),xe={currentLocation:k.location,nextLocation:S}}it({...N,actionData:Q,loaderData:ye,historyAction:ne,location:S,initialized:!0,renderFallback:!1,navigation:Uu,revalidation:"idle",restoreScrollPosition:be,preventScrollReset:ie,blockers:ae},{viewTransitionOpts:xe,flushSync:I===!0}),ne="POP",Me=!1,Ie=!1,ue=!1,ve=!1,we?.resolve(),we=null,De?.resolve(),De=null}async function Yn(S,N){if(we?.resolve(),we=null,typeof S=="number"){we||(we=Th());let Ye=we.promise;return r.history.go(S),Ye}let I=Yu(k.location,k.matches,m,S,N?.fromRouteId,N?.relative),{path:B,submission:Q,error:ye}=mh(!1,I,N),ae;N?.unstable_mask&&(ae={pathname:"",search:"",hash:"",...typeof N.unstable_mask=="string"?gn(N.unstable_mask):{...k.location.unstable_mask,...N.unstable_mask}});let be=k.location,ie=na(be,B,N&&N.state,void 0,ae);ie={...ie,...r.history.encodeLocation(ie)};let xe=N&&N.replace!=null?N.replace:void 0,Se="PUSH";xe===!0?Se="REPLACE":xe===!1||Q!=null&&zt(Q.formMethod)&&Q.formAction===k.location.pathname+k.location.search&&(Se="REPLACE");let _e=N&&"preventScrollReset"in N?N.preventScrollReset===!0:void 0,He=(N&&N.flushSync)===!0,ze=pr({currentLocation:be,nextLocation:ie,historyAction:Se});if(ze){nr(ze,{state:"blocked",location:ie,proceed(){nr(ze,{state:"proceeding",proceed:void 0,reset:void 0,location:ie}),Yn(S,N)},reset(){let Ye=new Map(k.blockers);Ye.set(ze,Ki),it({blockers:Ye})}});return}await Pt(Se,ie,{submission:Q,pendingError:ye,preventScrollReset:_e,replace:N&&N.replace,enableViewTransition:N&&N.viewTransition,flushSync:He,callSiteDefaultShouldRevalidate:N&&N.unstable_defaultShouldRevalidate})}function Qn(){De||(De=Th()),Rr(),it({revalidation:"loading"});let S=De.promise;return k.navigation.state==="submitting"?S:k.navigation.state==="idle"?(Pt(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),S):(Pt(ne||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:Ie===!0}),S)}async function Pt(S,N,I){Te&&Te.abort(),Te=null,ne=S,ue=(I&&I.startUninterruptedRevalidation)===!0,dt(k.location,k.matches),Me=(I&&I.preventScrollReset)===!0,Ie=(I&&I.enableViewTransition)===!0;let B=p||f,Q=I&&I.overrideNavigation,ye=I?.initialHydration&&k.matches&&k.matches.length>0&&!U?k.matches:qn(B,N,m),ae=(I&&I.flushSync)===!0;if(ye&&k.initialized&&!ve&&uy(k.location,N)&&!(I&&I.submission&&zt(I.submission.formMethod))){qt(N,{matches:ye},{flushSync:ae});return}let be=sr(ye,B,N.pathname);if(be.active&&be.matches&&(ye=be.matches),!ye){let{error:ht,notFoundMatches:Ot,route:Ve}=Xr(N.pathname);qt(N,{matches:Ot,loaderData:{},errors:{[Ve.id]:ht}},{flushSync:ae});return}Te=new AbortController;let ie=Zs(r.history,N,Te.signal,I&&I.submission),xe=r.getContext?await r.getContext():new uh,Se;if(I&&I.pendingError)Se=[Kn(ye).route.id,{type:"error",error:I.pendingError}];else if(I&&I.submission&&zt(I.submission.formMethod)){let ht=await Xn(ie,N,I.submission,ye,xe,be.active,I&&I.initialHydration===!0,{replace:I.replace,flushSync:ae});if(ht.shortCircuited)return;if(ht.pendingActionResult){let[Ot,Ve]=ht.pendingActionResult;if(cr(Ve)&&ia(Ve.error)&&Ve.error.status===404){Te=null,qt(N,{matches:ht.matches,loaderData:{},errors:{[Ot]:Ve.error}});return}}ye=ht.matches||ye,Se=ht.pendingActionResult,Q=Mu(N,I.submission),ae=!1,be.active=!1,ie=Zs(r.history,ie.url,ie.signal)}let{shortCircuited:_e,matches:He,loaderData:ze,errors:Ye}=await Ft(ie,N,ye,xe,be.active,Q,I&&I.submission,I&&I.fetcherSubmission,I&&I.replace,I&&I.initialHydration===!0,ae,Se,I&&I.callSiteDefaultShouldRevalidate);_e||(Te=null,qt(N,{matches:He||ye,...kh(Se),loaderData:ze,errors:Ye}))}async function Xn(S,N,I,B,Q,ye,ae,be={}){Rr();let ie=vy(N,I);if(it({navigation:ie},{flushSync:be.flushSync===!0}),ye){let _e=await Ze(B,N.pathname,S.signal);if(_e.type==="aborted")return{shortCircuited:!0};if(_e.type==="error"){if(_e.partialMatches.length===0){let{matches:ze,route:Ye}=So(f);return{matches:ze,pendingActionResult:[Ye.id,{type:"error",error:_e.error}]}}let He=Kn(_e.partialMatches).route.id;return{matches:_e.partialMatches,pendingActionResult:[He,{type:"error",error:_e.error}]}}else if(_e.matches)B=_e.matches;else{let{notFoundMatches:He,error:ze,route:Ye}=Xr(N.pathname);return{matches:He,pendingActionResult:[Ye.id,{type:"error",error:ze}]}}}let xe,Se=Lo(B,N);if(!Se.route.action&&!Se.route.lazy)xe={type:"error",error:xr(405,{method:S.method,pathname:N.pathname,routeId:Se.route.id})};else{let _e=ii(u,c,S,B,Se,ae?[]:a,Q),He=await rr(S,_e,Q,null);if(xe=He[Se.route.id],!xe){for(let ze of B)if(He[ze.route.id]){xe=He[ze.route.id];break}}if(S.signal.aborted)return{shortCircuited:!0}}if(gs(xe)){let _e;return be&&be.replace!=null?_e=be.replace:_e=bh(xe.response.headers.get("Location"),new URL(S.url),m,r.history)===k.location.pathname+k.location.search,await hr(S,xe,!0,{submission:I,replace:_e}),{shortCircuited:!0}}if(cr(xe)){let _e=Kn(B,Se.route.id);return(be&&be.replace)!==!0&&(ne="PUSH"),{matches:B,pendingActionResult:[_e.route.id,xe,Se.route.id]}}return{matches:B,pendingActionResult:[Se.route.id,xe]}}async function Ft(S,N,I,B,Q,ye,ae,be,ie,xe,Se,_e,He){let ze=ye||Mu(N,ae),Ye=ae||be||Ch(ze),ht=!ue&&!xe;if(Q){if(ht){let kt=Mr(_e);it({navigation:ze,...kt!==void 0?{actionData:kt}:{}},{flushSync:Se})}let Ae=await Ze(I,N.pathname,S.signal);if(Ae.type==="aborted")return{shortCircuited:!0};if(Ae.type==="error"){if(Ae.partialMatches.length===0){let{matches:En,route:tn}=So(f);return{matches:En,loaderData:{},errors:{[tn.id]:Ae.error}}}let kt=Kn(Ae.partialMatches).route.id;return{matches:Ae.partialMatches,loaderData:{},errors:{[kt]:Ae.error}}}else if(Ae.matches)I=Ae.matches;else{let{error:kt,notFoundMatches:En,route:tn}=Xr(N.pathname);return{matches:En,loaderData:{},errors:{[tn.id]:kt}}}}let Ot=p||f,{dsMatches:Ve,revalidatingFetchers:Fe}=gh(S,B,u,c,r.history,k,I,Ye,N,xe?[]:a,xe===!0,ve,W,me,re,Y,Ot,m,r.patchRoutesOnNavigation!=null,_e,He);if(j=++G,!r.dataStrategy&&!Ve.some(Ae=>Ae.shouldLoad)&&!Ve.some(Ae=>Ae.route.middleware&&Ae.route.middleware.length>0)&&Fe.length===0){let Ae=bn();return qt(N,{matches:I,loaderData:{},errors:_e&&cr(_e[1])?{[_e[0]]:_e[1].error}:null,...kh(_e),...Ae?{fetchers:new Map(k.fetchers)}:{}},{flushSync:Se}),{shortCircuited:!0}}if(ht){let Ae={};if(!Q){Ae.navigation=ze;let kt=Mr(_e);kt!==void 0&&(Ae.actionData=kt)}Fe.length>0&&(Ae.fetchers=zr(Fe)),it(Ae,{flushSync:Se})}Fe.forEach(Ae=>{Kt(Ae.key),Ae.controller&&J.set(Ae.key,Ae.controller)});let Zr=()=>Fe.forEach(Ae=>Kt(Ae.key));Te&&Te.signal.addEventListener("abort",Zr);let{loaderResults:en,fetcherResults:Tr}=await wn(Ve,Fe,S,B);if(S.signal.aborted)return{shortCircuited:!0};Te&&Te.signal.removeEventListener("abort",Zr),Fe.forEach(Ae=>J.delete(Ae.key));let Bt=Eo(en);if(Bt)return await hr(S,Bt.result,!0,{replace:ie}),{shortCircuited:!0};if(Bt=Eo(Tr),Bt)return Y.add(Bt.key),await hr(S,Bt.result,!0,{replace:ie}),{shortCircuited:!0};let{loaderData:hi,errors:Sn}=Sh(k,I,en,_e,Fe,Tr);xe&&k.errors&&(Sn={...k.errors,...Sn});let mr=bn(),Ht=Br(j),Es=mr||Ht||Fe.length>0;return{matches:I,loaderData:hi,errors:Sn,...Es?{fetchers:new Map(k.fetchers)}:{}}}function Mr(S){if(S&&!cr(S[1]))return{[S[0]]:S[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function zr(S){return S.forEach(N=>{let I=k.fetchers.get(N.key),B=Gi(void 0,I?I.data:void 0);k.fetchers.set(N.key,B)}),new Map(k.fetchers)}async function yt(S,N,I,B){Kt(S);let Q=(B&&B.flushSync)===!0,ye=p||f,ae=Yu(k.location,k.matches,m,I,N,B?.relative),be=qn(ye,ae,m),ie=sr(be,ye,ae);if(ie.active&&ie.matches&&(be=ie.matches),!be){lt(S,N,xr(404,{pathname:ae}),{flushSync:Q});return}let{path:xe,submission:Se,error:_e}=mh(!0,ae,B);if(_e){lt(S,N,_e,{flushSync:Q});return}let He=r.getContext?await r.getContext():new uh,ze=(B&&B.preventScrollReset)===!0;if(Se&&zt(Se.formMethod)){await kr(S,N,xe,be,He,ie.active,Q,ze,Se,B&&B.unstable_defaultShouldRevalidate);return}re.set(S,{routeId:N,path:xe}),await xs(S,N,xe,be,He,ie.active,Q,ze,Se)}async function kr(S,N,I,B,Q,ye,ae,be,ie,xe){Rr(),re.delete(S);let Se=k.fetchers.get(S);It(S,yy(ie,Se),{flushSync:ae});let _e=new AbortController,He=Zs(r.history,I,_e.signal,ie);if(ye){let Je=await Ze(B,new URL(He.url).pathname,He.signal,S);if(Je.type==="aborted")return;if(Je.type==="error"){lt(S,N,Je.error,{flushSync:ae});return}else if(Je.matches)B=Je.matches;else{lt(S,N,xr(404,{pathname:I}),{flushSync:ae});return}}let ze=Lo(B,I);if(!ze.route.action&&!ze.route.lazy){let Je=xr(405,{method:ie.formMethod,pathname:I,routeId:N});lt(S,N,Je,{flushSync:ae});return}J.set(S,_e);let Ye=G,ht=ii(u,c,He,B,ze,a,Q),Ot=await rr(He,ht,Q,S),Ve=Ot[ze.route.id];if(!Ve){for(let Je of ht)if(Ot[Je.route.id]){Ve=Ot[Je.route.id];break}}if(He.signal.aborted){J.get(S)===_e&&J.delete(S);return}if(me.has(S)){if(gs(Ve)||cr(Ve)){It(S,hn(void 0));return}}else{if(gs(Ve))if(J.delete(S),j>Ye){It(S,hn(void 0));return}else return Y.add(S),It(S,Gi(ie)),hr(He,Ve,!1,{fetcherSubmission:ie,preventScrollReset:be});if(cr(Ve)){lt(S,N,Ve.error);return}}let Fe=k.navigation.location||k.location,Zr=Zs(r.history,Fe,_e.signal),en=p||f,Tr=k.navigation.state!=="idle"?qn(en,k.navigation.location,m):k.matches;$e(Tr,"Didn't find any matches after fetcher action");let Bt=++G;z.set(S,Bt);let hi=Gi(ie,Ve.data);k.fetchers.set(S,hi);let{dsMatches:Sn,revalidatingFetchers:mr}=gh(Zr,Q,u,c,r.history,k,Tr,ie,Fe,a,!1,ve,W,me,re,Y,en,m,r.patchRoutesOnNavigation!=null,[ze.route.id,Ve],xe);mr.filter(Je=>Je.key!==S).forEach(Je=>{let rn=Je.key,kn=k.fetchers.get(rn),ks=Gi(void 0,kn?kn.data:void 0);k.fetchers.set(rn,ks),Kt(rn),Je.controller&&J.set(rn,Je.controller)}),it({fetchers:new Map(k.fetchers)});let Ht=()=>mr.forEach(Je=>Kt(Je.key));_e.signal.addEventListener("abort",Ht);let{loaderResults:Es,fetcherResults:Ae}=await wn(Sn,mr,Zr,Q);if(_e.signal.aborted)return;if(_e.signal.removeEventListener("abort",Ht),z.delete(S),J.delete(S),mr.forEach(Je=>J.delete(Je.key)),k.fetchers.has(S)){let Je=hn(Ve.data);k.fetchers.set(S,Je)}let kt=Eo(Es);if(kt)return hr(Zr,kt.result,!1,{preventScrollReset:be});if(kt=Eo(Ae),kt)return Y.add(kt.key),hr(Zr,kt.result,!1,{preventScrollReset:be});let{loaderData:En,errors:tn}=Sh(k,Tr,Es,void 0,mr,Ae);Br(Bt),k.navigation.state==="loading"&&Bt>j?($e(ne,"Expected pending action"),Te&&Te.abort(),qt(k.navigation.location,{matches:Tr,loaderData:En,errors:tn,fetchers:new Map(k.fetchers)})):(it({errors:tn,loaderData:Eh(k.loaderData,En,Tr,tn),fetchers:new Map(k.fetchers)}),ve=!1)}async function xs(S,N,I,B,Q,ye,ae,be,ie){let xe=k.fetchers.get(S);It(S,Gi(ie,xe?xe.data:void 0),{flushSync:ae});let Se=new AbortController,_e=Zs(r.history,I,Se.signal);if(ye){let Ve=await Ze(B,new URL(_e.url).pathname,_e.signal,S);if(Ve.type==="aborted")return;if(Ve.type==="error"){lt(S,N,Ve.error,{flushSync:ae});return}else if(Ve.matches)B=Ve.matches;else{lt(S,N,xr(404,{pathname:I}),{flushSync:ae});return}}let He=Lo(B,I);J.set(S,Se);let ze=G,Ye=ii(u,c,_e,B,He,a,Q),Ot=(await rr(_e,Ye,Q,S))[He.route.id];if(J.get(S)===Se&&J.delete(S),!_e.signal.aborted){if(me.has(S)){It(S,hn(void 0));return}if(gs(Ot))if(j>ze){It(S,hn(void 0));return}else{Y.add(S),await hr(_e,Ot,!1,{preventScrollReset:be});return}if(cr(Ot)){lt(S,N,Ot.error);return}It(S,hn(Ot.data))}}async function hr(S,N,I,{submission:B,fetcherSubmission:Q,preventScrollReset:ye,replace:ae}={}){I||(we?.resolve(),we=null),N.response.headers.has("X-Remix-Revalidate")&&(ve=!0);let be=N.response.headers.get("Location");$e(be,"Expected a Location header on the redirect Response"),be=bh(be,new URL(S.url),m,r.history);let ie=na(k.location,be,{_isRedirect:!0});if(s){let Ye=!1;if(N.response.headers.has("X-Remix-Reload-Document"))Ye=!0;else if(dc(be)){const ht=pp(be,!0);Ye=ht.origin!==t.location.origin||Sr(ht.pathname,m)==null}if(Ye){ae?t.location.replace(be):t.location.assign(be);return}}Te=null;let xe=ae===!0||N.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Se,formAction:_e,formEncType:He}=k.navigation;!B&&!Q&&Se&&_e&&He&&(B=Ch(k.navigation));let ze=B||Q;if(Kv.has(N.response.status)&&ze&&zt(ze.formMethod))await Pt(xe,ie,{submission:{...ze,formAction:be},preventScrollReset:ye||Me,enableViewTransition:I?Ie:void 0});else{let Ye=Mu(ie,B);await Pt(xe,ie,{overrideNavigation:Ye,fetcherSubmission:Q,preventScrollReset:ye||Me,enableViewTransition:I?Ie:void 0})}}async function rr(S,N,I,B){let Q,ye={};try{Q=await ny(y,S,N,B,I,!1)}catch(ae){return N.filter(be=>be.shouldLoad).forEach(be=>{ye[be.route.id]={type:"error",error:ae}}),ye}if(S.signal.aborted)return ye;if(!zt(S.method))for(let ae of N){if(Q[ae.route.id]?.type==="error")break;!Q.hasOwnProperty(ae.route.id)&&!k.loaderData.hasOwnProperty(ae.route.id)&&(!k.errors||!k.errors.hasOwnProperty(ae.route.id))&&ae.shouldCallHandler()&&(Q[ae.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${ae.route.id}`)})}for(let[ae,be]of Object.entries(Q))if(hy(be)){let ie=be.result;ye[ae]={type:"redirect",response:oy(ie,S,ae,N,m)}}else ye[ae]=await ay(be);return ye}async function wn(S,N,I,B){let Q=rr(I,S,B,null),ye=Promise.all(N.map(async ie=>{if(ie.matches&&ie.match&&ie.request&&ie.controller){let Se=(await rr(ie.request,ie.matches,B,ie.key))[ie.match.route.id];return{[ie.key]:Se}}else return Promise.resolve({[ie.key]:{type:"error",error:xr(404,{pathname:ie.path})}})})),ae=await Q,be=(await ye).reduce((ie,xe)=>Object.assign(ie,xe),{});return{loaderResults:ae,fetcherResults:be}}function Rr(){ve=!0,re.forEach((S,N)=>{J.has(N)&&W.add(N),Kt(N)})}function It(S,N,I={}){k.fetchers.set(S,N),it({fetchers:new Map(k.fetchers)},{flushSync:(I&&I.flushSync)===!0})}function lt(S,N,I,B={}){let Q=Kn(k.matches,N);_n(S),it({errors:{[Q.route.id]:I},fetchers:new Map(k.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function Cr(S){return oe.set(S,(oe.get(S)||0)+1),me.has(S)&&me.delete(S),k.fetchers.get(S)||Gv}function Fr(S,N){Kt(S,N?.reason),It(S,hn(null))}function _n(S){let N=k.fetchers.get(S);J.has(S)&&!(N&&N.state==="loading"&&z.has(S))&&Kt(S),re.delete(S),z.delete(S),Y.delete(S),me.delete(S),W.delete(S),k.fetchers.delete(S)}function Ss(S){let N=(oe.get(S)||0)-1;N<=0?(oe.delete(S),me.add(S)):oe.set(S,N),it({fetchers:new Map(k.fetchers)})}function Kt(S,N){let I=J.get(S);I&&(I.abort(N),J.delete(S))}function Qr(S){for(let N of S){let I=Cr(N),B=hn(I.data);k.fetchers.set(N,B)}}function bn(){let S=[],N=!1;for(let I of Y){let B=k.fetchers.get(I);$e(B,`Expected fetcher: ${I}`),B.state==="loading"&&(Y.delete(I),S.push(I),N=!0)}return Qr(S),N}function Br(S){let N=[];for(let[I,B]of z)if(B<S){let Q=k.fetchers.get(I);$e(Q,`Expected fetcher: ${I}`),Q.state==="loading"&&(Kt(I),z.delete(I),N.push(I))}return Qr(N),N.length>0}function Gt(S,N){let I=k.blockers.get(S)||Ki;return Le.get(S)!==N&&Le.set(S,N),I}function xn(S){k.blockers.delete(S),Le.delete(S)}function nr(S,N){let I=k.blockers.get(S)||Ki;$e(I.state==="unblocked"&&N.state==="blocked"||I.state==="blocked"&&N.state==="blocked"||I.state==="blocked"&&N.state==="proceeding"||I.state==="blocked"&&N.state==="unblocked"||I.state==="proceeding"&&N.state==="unblocked",`Invalid blocker state transition: ${I.state} -> ${N.state}`);let B=new Map(k.blockers);B.set(S,N),it({blockers:B})}function pr({currentLocation:S,nextLocation:N,historyAction:I}){if(Le.size===0)return;Le.size>1&&mt(!1,"A router only supports one blocker at a time");let B=Array.from(Le.entries()),[Q,ye]=B[B.length-1],ae=k.blockers.get(Q);if(!(ae&&ae.state==="proceeding")&&ye({currentLocation:S,nextLocation:N,historyAction:I}))return Q}function Xr(S){let N=xr(404,{pathname:S}),I=p||f,{matches:B,route:Q}=So(I);return{notFoundMatches:B,route:Q,error:N}}function je(S,N,I){if(x=S,T=N,C=I||null,!L&&k.navigation===Uu){L=!0;let B=wt(k.location,k.matches);B!=null&&it({restoreScrollPosition:B})}return()=>{x=null,T=null,C=null}}function nt(S,N){return C&&C(S,N.map(B=>_v(B,k.loaderData)))||S.key}function dt(S,N){if(x&&T){let I=nt(S,N);x[I]=T()}}function wt(S,N){if(x){let I=nt(S,N),B=x[I];if(typeof B=="number")return B}return null}function sr(S,N,I){if(r.patchRoutesOnNavigation)if(S){if(Object.keys(S[0].params).length>0)return{active:!0,matches:Xi(N,I,m,!0)}}else return{active:!0,matches:Xi(N,I,m,!0)||[]};return{active:!1,matches:null}}async function Ze(S,N,I,B){if(!r.patchRoutesOnNavigation)return{type:"success",matches:S};let Q=S;for(;;){let ye=p==null,ae=p||f,be=c;try{await r.patchRoutesOnNavigation({signal:I,path:N,matches:Q,fetcherKey:B,patch:(Se,_e)=>{I.aborted||vh(Se,_e,ae,be,u,!1)}})}catch(Se){return{type:"error",error:Se,partialMatches:Q}}finally{ye&&!I.aborted&&(f=[...f])}if(I.aborted)return{type:"aborted"};let ie=qn(ae,N,m),xe=null;if(ie){if(Object.keys(ie[0].params).length===0)return{type:"success",matches:ie};if(xe=Xi(ae,N,m,!0),!(xe&&Q.length<xe.length&&ft(Q,xe.slice(0,Q.length))))return{type:"success",matches:ie}}if(xe||(xe=Xi(ae,N,m,!0)),!xe||ft(Q,xe))return{type:"success",matches:null};Q=xe}}function ft(S,N){return S.length===N.length&&S.every((I,B)=>I.route.id===N[B].route.id)}function Hr(S){c={},p=sa(S,u,void 0,c)}function _t(S,N,I=!1){let B=p==null;vh(S,N,p||f,c,u,I),B&&(f=[...f],it({}))}return V={get basename(){return m},get future(){return g},get state(){return k},get routes(){return f},get window(){return t},initialize:de,subscribe:Ge,enableScrollRestoration:je,navigate:Yn,fetch:yt,revalidate:Qn,createHref:S=>r.history.createHref(S),encodeLocation:S=>r.history.encodeLocation(S),getFetcher:Cr,resetFetcher:Fr,deleteFetcher:Ss,dispose:qe,getBlocker:Gt,deleteBlocker:xn,patchRoutes:_t,_internalFetchControllers:J,_internalSetRoutes:Hr,_internalSetStateDoNotUseOrYouWillBreakYourApp(S){it(S)}},r.unstable_instrumentations&&(V=Mv(V,r.unstable_instrumentations.map(S=>S.router).filter(Boolean))),V}function Qv(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Yu(r,t,s,a,o,u){let c,f;if(o){c=[];for(let m of t)if(c.push(m),m.route.id===o){f=m;break}}else c=t,f=t[t.length-1];let p=pa(a||".",Bo(c),Sr(r.pathname,s)||r.pathname,u==="path");if(a==null&&(p.search=r.search,p.hash=r.hash),(a==null||a===""||a===".")&&f){let m=pc(p.search);if(f.route.index&&!m)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&m){let y=new URLSearchParams(p.search),g=y.getAll("index");y.delete("index"),g.filter(_=>_).forEach(_=>y.append("index",_));let w=y.toString();p.search=w?`?${w}`:""}}return s!=="/"&&(p.pathname=Av({basename:s,pathname:p.pathname})),Jr(p)}function mh(r,t,s){if(!s||!Qv(s))return{path:t};if(s.formMethod&&!gy(s.formMethod))return{path:t,error:xr(405,{method:s.formMethod})};let a=()=>({path:t,error:xr(400,{type:"invalid-body"})}),u=(s.formMethod||"get").toUpperCase(),c=Np(t);if(s.body!==void 0){if(s.formEncType==="text/plain"){if(!zt(u))return a();let g=typeof s.body=="string"?s.body:s.body instanceof FormData||s.body instanceof URLSearchParams?Array.from(s.body.entries()).reduce((w,[_,x])=>`${w}${_}=${x}
`,""):String(s.body);return{path:t,submission:{formMethod:u,formAction:c,formEncType:s.formEncType,formData:void 0,json:void 0,text:g}}}else if(s.formEncType==="application/json"){if(!zt(u))return a();try{let g=typeof s.body=="string"?JSON.parse(s.body):s.body;return{path:t,submission:{formMethod:u,formAction:c,formEncType:s.formEncType,formData:void 0,json:g,text:void 0}}}catch{return a()}}}$e(typeof FormData=="function","FormData is not available in this environment");let f,p;if(s.formData)f=Xu(s.formData),p=s.formData;else if(s.body instanceof FormData)f=Xu(s.body),p=s.body;else if(s.body instanceof URLSearchParams)f=s.body,p=xh(f);else if(s.body==null)f=new URLSearchParams,p=new FormData;else try{f=new URLSearchParams(s.body),p=xh(f)}catch{return a()}let m={formMethod:u,formAction:c,formEncType:s&&s.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(zt(m.formMethod))return{path:t,submission:m};let y=gn(t);return r&&y.search&&pc(y.search)&&f.append("index",""),y.search=`?${f}`,{path:Jr(y),submission:m}}function gh(r,t,s,a,o,u,c,f,p,m,y,g,w,_,x,C,T,L,M,U,K){let te=U?cr(U[1])?U[1].error:U[1].data:void 0,Z=o.createURL(u.location),V=o.createURL(p),k;if(y&&u.errors){let Ee=Object.keys(u.errors)[0];k=c.findIndex(ue=>ue.route.id===Ee)}else if(U&&cr(U[1])){let Ee=U[0];k=c.findIndex(ue=>ue.route.id===Ee)-1}let ne=U?U[1].statusCode:void 0,we=ne&&ne>=400,Me={currentUrl:Z,currentParams:u.matches[0]?.params||{},nextUrl:V,nextParams:c[0].params,...f,actionResult:te,actionStatus:ne},Te=ga(c),Ie=c.map((Ee,ue)=>{let{route:ve}=Ee,W=null;if(k!=null&&ue>k)W=!1;else if(ve.lazy)W=!0;else if(!fc(ve))W=!1;else if(y){let{shouldLoad:z}=Rp(ve,u.loaderData,u.errors);W=z}else Xv(u.loaderData,u.matches[ue],Ee)&&(W=!0);if(W!==null)return Qu(s,a,r,Te,Ee,m,t,W);let J=!1;typeof K=="boolean"?J=K:we?J=!1:(g||Z.pathname+Z.search===V.pathname+V.search||Z.search!==V.search||Zv(u.matches[ue],Ee))&&(J=!0);let G={...Me,defaultShouldRevalidate:J},j=ea(Ee,G);return Qu(s,a,r,Te,Ee,m,t,j,G,K)}),Ne=[];return x.forEach((Ee,ue)=>{if(y||!c.some(re=>re.route.id===Ee.routeId)||_.has(ue))return;let ve=u.fetchers.get(ue),W=ve&&ve.state!=="idle"&&ve.data===void 0,J=qn(T,Ee.path,L);if(!J){if(M&&W)return;Ne.push({key:ue,routeId:Ee.routeId,path:Ee.path,matches:null,match:null,request:null,controller:null});return}if(C.has(ue))return;let G=Lo(J,Ee.path),j=new AbortController,z=Zs(o,Ee.path,j.signal),Y=null;if(w.has(ue))w.delete(ue),Y=ii(s,a,z,J,G,m,t);else if(W)g&&(Y=ii(s,a,z,J,G,m,t));else{let re;typeof K=="boolean"?re=K:we?re=!1:re=g;let oe={...Me,defaultShouldRevalidate:re};ea(G,oe)&&(Y=ii(s,a,z,J,G,m,t,oe))}Y&&Ne.push({key:ue,routeId:Ee.routeId,path:Ee.path,matches:Y,match:G,request:z,controller:j})}),{dsMatches:Ie,revalidatingFetchers:Ne}}function fc(r){return r.loader!=null||r.middleware!=null&&r.middleware.length>0}function Rp(r,t,s){if(r.lazy)return{shouldLoad:!0,renderFallback:!0};if(!fc(r))return{shouldLoad:!1,renderFallback:!1};let a=t!=null&&r.id in t,o=s!=null&&s[r.id]!==void 0;if(!a&&o)return{shouldLoad:!1,renderFallback:!1};if(typeof r.loader=="function"&&r.loader.hydrate===!0)return{shouldLoad:!0,renderFallback:!a};let u=!a&&!o;return{shouldLoad:u,renderFallback:u}}function Xv(r,t,s){let a=!t||s.route.id!==t.route.id,o=!r.hasOwnProperty(s.route.id);return a||o}function Zv(r,t){let s=r.route.path;return r.pathname!==t.pathname||s!=null&&s.endsWith("*")&&r.params["*"]!==t.params["*"]}function ea(r,t){if(r.route.shouldRevalidate){let s=r.route.shouldRevalidate(t);if(typeof s=="boolean")return s}return t.defaultShouldRevalidate}function vh(r,t,s,a,o,u){let c;if(r){let m=a[r];$e(m,`No route found to patch children into: routeId = ${r}`),m.children||(m.children=[]),c=m.children}else c=s;let f=[],p=[];if(t.forEach(m=>{let y=c.find(g=>Cp(m,g));y?p.push({existingRoute:y,newRoute:m}):f.push(m)}),f.length>0){let m=sa(f,o,[r||"_","patch",String(c?.length||"0")],a);c.push(...m)}if(u&&p.length>0)for(let m=0;m<p.length;m++){let{existingRoute:y,newRoute:g}=p[m],w=y,[_]=sa([g],o,[],{},!0);Object.assign(w,{element:_.element?_.element:w.element,errorElement:_.errorElement?_.errorElement:w.errorElement,hydrateFallbackElement:_.hydrateFallbackElement?_.hydrateFallbackElement:w.hydrateFallbackElement})}}function Cp(r,t){return"id"in r&&"id"in t&&r.id===t.id?!0:r.index===t.index&&r.path===t.path&&r.caseSensitive===t.caseSensitive?(!r.children||r.children.length===0)&&(!t.children||t.children.length===0)?!0:r.children?.every((s,a)=>t.children?.some(o=>Cp(s,o)))??!1:!1}var yh=new WeakMap,Tp=({key:r,route:t,manifest:s,mapRouteProperties:a})=>{let o=s[t.id];if($e(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[r];if(!u)return;let c=yh.get(o);c||(c={},yh.set(o,c));let f=c[r];if(f)return f;let p=(async()=>{let m=gv(r),g=o[r]!==void 0&&r!=="hasErrorBoundary";if(m)mt(!m,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),c[r]=Promise.resolve();else if(g)mt(!1,`Route "${o.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let w=await u();w!=null&&(Object.assign(o,{[r]:w}),Object.assign(o,a(o)))}typeof o.lazy=="object"&&(o.lazy[r]=void 0,Object.values(o.lazy).every(w=>w===void 0)&&(o.lazy=void 0))})();return c[r]=p,p},wh=new WeakMap;function ey(r,t,s,a,o){let u=s[r.id];if($e(u,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let y=wh.get(u);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let g=(async()=>{$e(typeof r.lazy=="function","No lazy route function found");let w=await r.lazy(),_={};for(let x in w){let C=w[x];if(C===void 0)continue;let T=yv(x),M=u[x]!==void 0&&x!=="hasErrorBoundary";T?mt(!T,"Route property "+x+" is not a supported property to be returned from a lazy route function. This property will be ignored."):M?mt(!M,`Route "${u.id}" has a static property "${x}" defined but its lazy function is also returning a value for this property. The lazy route property "${x}" will be ignored.`):_[x]=C}Object.assign(u,_),Object.assign(u,{...a(u),lazy:void 0})})();return wh.set(u,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let c=Object.keys(r.lazy),f=[],p;for(let y of c){if(o&&o.includes(y))continue;let g=Tp({key:y,route:r,manifest:s,mapRouteProperties:a});g&&(f.push(g),y===t&&(p=g))}let m=f.length>0?Promise.all(f).then(()=>{}):void 0;return m?.catch(()=>{}),p?.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:p}}async function _h(r){let t=r.matches.filter(o=>o.shouldLoad),s={};return(await Promise.all(t.map(o=>o.resolve()))).forEach((o,u)=>{s[t[u].route.id]=o}),s}async function ty(r){return r.matches.some(t=>t.route.middleware)?Pp(r,()=>_h(r)):_h(r)}function Pp(r,t){return ry(r,t,a=>{if(my(a))throw a;return a},dy,s);function s(a,o,u){if(u)return Promise.resolve(Object.assign(u.value,{[o]:{type:"error",result:a}}));{let{matches:c}=r,f=Math.min(Math.max(c.findIndex(m=>m.route.id===o),0),Math.max(c.findIndex(m=>m.shouldCallHandler()),0)),p=Kn(c,c[f].route.id).route.id;return Promise.resolve({[p]:{type:"error",result:a}})}}}async function ry(r,t,s,a,o){let{matches:u,request:c,params:f,context:p,unstable_pattern:m}=r,y=u.flatMap(w=>w.route.middleware?w.route.middleware.map(_=>[w.route.id,_]):[]);return await Op({request:c,params:f,context:p,unstable_pattern:m},y,t,s,a,o)}async function Op(r,t,s,a,o,u,c=0){let{request:f}=r;if(f.signal.aborted)throw f.signal.reason??new Error(`Request aborted: ${f.method} ${f.url}`);let p=t[c];if(!p)return await s();let[m,y]=p,g,w=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");try{return g={value:await Op(r,t,s,a,o,u,c+1)},g.value}catch(_){return g={value:await u(_,m,g)},g.value}};try{let _=await y(r,w),x=_!=null?a(_):void 0;return o(x)?x:g?x??g.value:(g={value:await w()},g.value)}catch(_){return await u(_,m,g)}}function jp(r,t,s,a,o){let u=Tp({key:"middleware",route:a.route,manifest:t,mapRouteProperties:r}),c=ey(a.route,zt(s.method)?"action":"loader",t,r,o);return{middleware:u,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function Qu(r,t,s,a,o,u,c,f,p=null,m){let y=!1,g=jp(r,t,s,o,u);return{...o,_lazyPromises:g,shouldLoad:f,shouldRevalidateArgs:p,shouldCallHandler(w){return y=!0,p?typeof m=="boolean"?ea(o,{...p,defaultShouldRevalidate:m}):typeof w=="boolean"?ea(o,{...p,defaultShouldRevalidate:w}):ea(o,p):f},resolve(w){let{lazy:_,loader:x,middleware:C}=o.route,T=y||f||w&&!zt(s.method)&&(_||x),L=C&&C.length>0&&!x&&!_;return T&&(zt(s.method)||!L)?sy({request:s,unstable_pattern:a,match:o,lazyHandlerPromise:g?.handler,lazyRoutePromise:g?.route,handlerOverride:w,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}}}function ii(r,t,s,a,o,u,c,f=null){return a.map(p=>p.route.id!==o.route.id?{...p,shouldLoad:!1,shouldRevalidateArgs:f,shouldCallHandler:()=>!1,_lazyPromises:jp(r,t,s,p,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Qu(r,t,s,ga(a),p,u,c,!0,f))}async function ny(r,t,s,a,o,u){s.some(m=>m._lazyPromises?.middleware)&&await Promise.all(s.map(m=>m._lazyPromises?.middleware));let c={request:t,unstable_pattern:ga(s),params:s[0].params,context:o,matches:s},p=await r({...c,fetcherKey:a,runClientMiddleware:m=>{let y=c;return Pp(y,()=>m({...y,fetcherKey:a,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(s.flatMap(m=>[m._lazyPromises?.handler,m._lazyPromises?.route]))}catch{}return p}async function sy({request:r,unstable_pattern:t,match:s,lazyHandlerPromise:a,lazyRoutePromise:o,handlerOverride:u,scopedContext:c}){let f,p,m=zt(r.method),y=m?"action":"loader",g=w=>{let _,x=new Promise((L,M)=>_=M);p=()=>_(),r.signal.addEventListener("abort",p);let C=L=>typeof w!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${y}" [routeId: ${s.route.id}]`)):w({request:r,unstable_pattern:t,params:s.params,context:c},...L!==void 0?[L]:[]),T=(async()=>{try{return{type:"data",result:await(u?u(M=>C(M)):C())}}catch(L){return{type:"error",result:L}}})();return Promise.race([T,x])};try{let w=m?s.route.action:s.route.loader;if(a||o)if(w){let _,[x]=await Promise.all([g(w).catch(C=>{_=C}),a,o]);if(_!==void 0)throw _;f=x}else{await a;let _=m?s.route.action:s.route.loader;if(_)[f]=await Promise.all([g(_),o]);else if(y==="action"){let x=new URL(r.url),C=x.pathname+x.search;throw xr(405,{method:r.method,pathname:C,routeId:s.route.id})}else return{type:"data",result:void 0}}else if(w)f=await g(w);else{let _=new URL(r.url),x=_.pathname+_.search;throw xr(404,{pathname:x})}}catch(w){return{type:"error",result:w}}finally{p&&r.signal.removeEventListener("abort",p)}return f}async function iy(r){let t=r.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?r.body==null?null:r.json():r.text()}async function ay(r){let{result:t,type:s}=r;if(hc(t)){let a;try{a=await iy(t)}catch(o){return{type:"error",error:o}}return s==="error"?{type:"error",error:new ma(t.status,t.statusText,a),statusCode:t.status,headers:t.headers}:{type:"data",data:a,statusCode:t.status,headers:t.headers}}return s==="error"?Rh(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:cy(t),statusCode:ia(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:ia(t)?t.status:void 0}:Rh(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function oy(r,t,s,a,o){let u=r.headers.get("Location");if($e(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!dc(u)){let c=a.slice(0,a.findIndex(f=>f.route.id===s)+1);u=Yu(new URL(t.url),c,o,u),r.headers.set("Location",u)}return r}function bh(r,t,s,a){let o=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(dc(r)){let u=r,c=u.startsWith("//")?new URL(t.protocol+u):new URL(u);if(o.includes(c.protocol))throw new Error("Invalid redirect location");let f=Sr(c.pathname,s)!=null;if(c.origin===t.origin&&f)return c.pathname+c.search+c.hash}try{let u=a.createURL(r);if(o.includes(u.protocol))throw new Error("Invalid redirect location")}catch{}return r}function Zs(r,t,s,a){let o=r.createURL(Np(t)).toString(),u={signal:s};if(a&&zt(a.formMethod)){let{formMethod:c,formEncType:f}=a;u.method=c.toUpperCase(),f==="application/json"?(u.headers=new Headers({"Content-Type":f}),u.body=JSON.stringify(a.json)):f==="text/plain"?u.body=a.text:f==="application/x-www-form-urlencoded"&&a.formData?u.body=Xu(a.formData):u.body=a.formData}return new Request(o,u)}function Xu(r){let t=new URLSearchParams;for(let[s,a]of r.entries())t.append(s,typeof a=="string"?a:a.name);return t}function xh(r){let t=new FormData;for(let[s,a]of r.entries())t.append(s,a);return t}function ly(r,t,s,a=!1,o=!1){let u={},c=null,f,p=!1,m={},y=s&&cr(s[1])?s[1].error:void 0;return r.forEach(g=>{if(!(g.route.id in t))return;let w=g.route.id,_=t[w];if($e(!gs(_),"Cannot handle redirect results in processLoaderData"),cr(_)){let x=_.error;if(y!==void 0&&(x=y,y=void 0),c=c||{},o)c[w]=x;else{let C=Kn(r,w);c[C.route.id]==null&&(c[C.route.id]=x)}a||(u[w]=kp),p||(p=!0,f=ia(_.error)?_.error.status:500),_.headers&&(m[w]=_.headers)}else u[w]=_.data,_.statusCode&&_.statusCode!==200&&!p&&(f=_.statusCode),_.headers&&(m[w]=_.headers)}),y!==void 0&&s&&(c={[s[0]]:y},s[2]&&(u[s[2]]=void 0)),{loaderData:u,errors:c,statusCode:f||200,loaderHeaders:m}}function Sh(r,t,s,a,o,u){let{loaderData:c,errors:f}=ly(t,s,a);return o.filter(p=>!p.matches||p.matches.some(m=>m.shouldLoad)).forEach(p=>{let{key:m,match:y,controller:g}=p;if(g&&g.signal.aborted)return;let w=u[m];if($e(w,"Did not find corresponding fetcher result"),cr(w)){let _=Kn(r.matches,y?.route.id);f&&f[_.route.id]||(f={...f,[_.route.id]:w.error}),r.fetchers.delete(m)}else if(gs(w))$e(!1,"Unhandled fetcher revalidation redirect");else{let _=hn(w.data);r.fetchers.set(m,_)}}),{loaderData:c,errors:f}}function Eh(r,t,s,a){let o=Object.entries(t).filter(([,u])=>u!==kp).reduce((u,[c,f])=>(u[c]=f,u),{});for(let u of s){let c=u.route.id;if(!t.hasOwnProperty(c)&&r.hasOwnProperty(c)&&u.route.loader&&(o[c]=r[c]),a&&a.hasOwnProperty(c))break}return o}function kh(r){return r?cr(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function Kn(r,t){return(t?r.slice(0,r.findIndex(a=>a.route.id===t)+1):[...r]).reverse().find(a=>a.route.hasErrorBoundary===!0)||r[0]}function So(r){let t=r.length===1?r[0]:r.find(s=>s.index||!s.path||s.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function xr(r,{pathname:t,routeId:s,method:a,type:o,message:u}={}){let c="Unknown Server Error",f="Unknown @remix-run/router error";return r===400?(c="Bad Request",a&&t&&s?f=`You made a ${a} request to "${t}" but did not provide a \`loader\` for route "${s}", so there is no way to handle the request.`:o==="invalid-body"&&(f="Unable to encode submission body")):r===403?(c="Forbidden",f=`Route "${s}" does not match URL "${t}"`):r===404?(c="Not Found",f=`No route matches URL "${t}"`):r===405&&(c="Method Not Allowed",a&&t&&s?f=`You made a ${a.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${s}", so there is no way to handle the request.`:a&&(f=`Invalid request method "${a.toUpperCase()}"`)),new ma(r||500,c,new Error(f),!0)}function Eo(r){let t=Object.entries(r);for(let s=t.length-1;s>=0;s--){let[a,o]=t[s];if(gs(o))return{key:a,result:o}}}function Np(r){let t=typeof r=="string"?gn(r):r;return Jr({...t,hash:""})}function uy(r,t){return r.pathname!==t.pathname||r.search!==t.search?!1:r.hash===""?t.hash!=="":r.hash===t.hash?!0:t.hash!==""}function cy(r){return new ma(r.init?.status??500,r.init?.statusText??"Internal Server Error",r.data)}function dy(r){return r!=null&&typeof r=="object"&&Object.entries(r).every(([t,s])=>typeof t=="string"&&fy(s))}function fy(r){return r!=null&&typeof r=="object"&&"type"in r&&"result"in r&&(r.type==="data"||r.type==="error")}function hy(r){return hc(r.result)&&Sp.has(r.result.status)}function cr(r){return r.type==="error"}function gs(r){return(r&&r.type)==="redirect"}function Rh(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function hc(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function py(r){return Sp.has(r)}function my(r){return hc(r)&&py(r.status)&&r.headers.has("Location")}function gy(r){return qv.has(r.toUpperCase())}function zt(r){return Wv.has(r.toUpperCase())}function pc(r){return new URLSearchParams(r).getAll("index").some(t=>t==="")}function Lo(r,t){let s=typeof t=="string"?gn(t).search:t.search;if(r[r.length-1].route.index&&pc(s||""))return r[r.length-1];let a=yp(r);return a[a.length-1]}function Ch(r){let{formMethod:t,formAction:s,formEncType:a,text:o,formData:u,json:c}=r;if(!(!t||!s||!a)){if(o!=null)return{formMethod:t,formAction:s,formEncType:a,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:t,formAction:s,formEncType:a,formData:u,json:void 0,text:void 0};if(c!==void 0)return{formMethod:t,formAction:s,formEncType:a,formData:void 0,json:c,text:void 0}}}function Mu(r,t){return t?{state:"loading",location:r,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function vy(r,t){return{state:"submitting",location:r,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Gi(r,t){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function yy(r,t){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:t?t.data:void 0}}function hn(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function wy(r,t){try{let s=r.sessionStorage.getItem(Ep);if(s){let a=JSON.parse(s);for(let[o,u]of Object.entries(a||{}))u&&Array.isArray(u)&&t.set(o,new Set(u||[]))}}catch{}}function _y(r,t){if(t.size>0){let s={};for(let[a,o]of t)s[a]=[...o];try{r.sessionStorage.setItem(Ep,JSON.stringify(s))}catch(a){mt(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function Th(){let r,t,s=new Promise((a,o)=>{r=async u=>{a(u);try{await s}catch{}},t=async u=>{o(u);try{await s}catch{}}});return{promise:s,resolve:r,reject:t}}var ws=O.createContext(null);ws.displayName="DataRouter";var va=O.createContext(null);va.displayName="DataRouterState";var Ap=O.createContext(!1);function by(){return O.useContext(Ap)}var mc=O.createContext({isTransitioning:!1});mc.displayName="ViewTransition";var Lp=O.createContext(new Map);Lp.displayName="Fetchers";var xy=O.createContext(null);xy.displayName="Await";var fr=O.createContext(null);fr.displayName="Navigation";var Ho=O.createContext(null);Ho.displayName="Location";var Yr=O.createContext({outlet:null,matches:[],isDataRoute:!1});Yr.displayName="Route";var gc=O.createContext(null);gc.displayName="RouteError";var Ip="REACT_ROUTER_ERROR",Sy="REDIRECT",Ey="ROUTE_ERROR_RESPONSE";function ky(r){if(r.startsWith(`${Ip}:${Sy}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Ry(r){if(r.startsWith(`${Ip}:${Ey}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new ma(t.status,t.statusText,t.data)}catch{}}function Cy(r,{relative:t}={}){$e(ui(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:a}=O.useContext(fr),{hash:o,pathname:u,search:c}=ya(r,{relative:t}),f=u;return s!=="/"&&(f=u==="/"?s:Ur([s,u])),a.createHref({pathname:f,search:c,hash:o})}function ui(){return O.useContext(Ho)!=null}function vn(){return $e(ui(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Ho).location}var Dp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $p(r){O.useContext(fr).static||O.useLayoutEffect(r)}function _s(){let{isDataRoute:r}=O.useContext(Yr);return r?zy():Ty()}function Ty(){$e(ui(),"useNavigate() may be used only in the context of a <Router> component.");let r=O.useContext(ws),{basename:t,navigator:s}=O.useContext(fr),{matches:a}=O.useContext(Yr),{pathname:o}=vn(),u=JSON.stringify(Bo(a)),c=O.useRef(!1);return $p(()=>{c.current=!0}),O.useCallback((p,m={})=>{if(mt(c.current,Dp),!c.current)return;if(typeof p=="number"){s.go(p);return}let y=pa(p,JSON.parse(u),o,m.relative==="path");r==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Ur([t,y.pathname])),(m.replace?s.replace:s.push)(y,m.state,m)},[t,s,u,o,r])}O.createContext(null);function ya(r,{relative:t}={}){let{matches:s}=O.useContext(Yr),{pathname:a}=vn(),o=JSON.stringify(Bo(s));return O.useMemo(()=>pa(r,JSON.parse(o),a,t==="path"),[r,o,a,t])}function Py(r,t,s){$e(ui(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=O.useContext(fr),{matches:o}=O.useContext(Yr),u=o[o.length-1],c=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let T=m&&m.path||"";Mp(f,!m||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let y=vn(),g;g=y;let w=g.pathname||"/",_=w;if(p!=="/"){let T=p.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(T.length).join("/")}let x=qn(r,{pathname:_});return mt(m||x!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),mt(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Ly(x&&x.map(T=>Object.assign({},T,{params:Object.assign({},c,T.params),pathname:Ur([p,a.encodeLocation?a.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?p:Ur([p,a.encodeLocation?a.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),o,s)}function Oy(){let r=My(),t=ia(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),s=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:u},"ErrorBoundary")," or"," ",O.createElement("code",{style:u},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),s?O.createElement("pre",{style:o},s):null,c)}var jy=O.createElement(Oy,null),Up=class extends O.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const s=Ry(r.digest);s&&(r=s)}let t=r!==void 0?O.createElement(Yr.Provider,{value:this.props.routeContext},O.createElement(gc.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?O.createElement(Ny,{error:r},t):t}};Up.contextType=Ap;var zu=new WeakMap;function Ny({children:r,error:t}){let{basename:s}=O.useContext(fr);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let a=ky(t.digest);if(a){let o=zu.get(t);if(o)throw o;let u=_p(a.location,s);if(wp&&!zu.get(t))if(u.isExternal||a.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:a.replace}));throw zu.set(t,c),c}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function Ay({routeContext:r,match:t,children:s}){let a=O.useContext(ws);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(Yr.Provider,{value:r},s)}function Ly(r,t=[],s){let a=s?.state;if(r==null){if(!a)return null;if(a.errors)r=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)r=a.matches;else return null}let o=r,u=a?.errors;if(u!=null){let y=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);$e(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let c=!1,f=-1;if(s&&a){c=a.renderFallback;for(let y=0;y<o.length;y++){let g=o[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=y),g.route.id){let{loaderData:w,errors:_}=a,x=g.route.loader&&!w.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||x){s.isStatic&&(c=!0),f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}}let p=s?.onError,m=a&&p?(y,g)=>{p(y,{location:a.location,params:a.matches?.[0]?.params??{},unstable_pattern:ga(a.matches),errorInfo:g})}:void 0;return o.reduceRight((y,g,w)=>{let _,x=!1,C=null,T=null;a&&(_=u&&g.route.id?u[g.route.id]:void 0,C=g.route.errorElement||jy,c&&(f<0&&w===0?(Mp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,T=null):f===w&&(x=!0,T=g.route.hydrateFallbackElement||null)));let L=t.concat(o.slice(0,w+1)),M=()=>{let U;return _?U=C:x?U=T:g.route.Component?U=O.createElement(g.route.Component,null):g.route.element?U=g.route.element:U=y,O.createElement(Ay,{match:g,routeContext:{outlet:y,matches:L,isDataRoute:a!=null},children:U})};return a&&(g.route.ErrorBoundary||g.route.errorElement||w===0)?O.createElement(Up,{location:a.location,revalidation:a.revalidation,component:C,error:_,children:M(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:m}):M()},null)}function vc(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Iy(r){let t=O.useContext(ws);return $e(t,vc(r)),t}function Dy(r){let t=O.useContext(va);return $e(t,vc(r)),t}function $y(r){let t=O.useContext(Yr);return $e(t,vc(r)),t}function yc(r){let t=$y(r),s=t.matches[t.matches.length-1];return $e(s.route.id,`${r} can only be used on routes that contain a unique "id"`),s.route.id}function Uy(){return yc("useRouteId")}function My(){let r=O.useContext(gc),t=Dy("useRouteError"),s=yc("useRouteError");return r!==void 0?r:t.errors?.[s]}function zy(){let{router:r}=Iy("useNavigate"),t=yc("useNavigate"),s=O.useRef(!1);return $p(()=>{s.current=!0}),O.useCallback(async(o,u={})=>{mt(s.current,Dp),s.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var Ph={};function Mp(r,t,s){!t&&!Ph[r]&&(Ph[r]=!0,mt(!1,s))}var Oh={};function jh(r,t){!r&&!Oh[t]&&(Oh[t]=!0,console.warn(t))}var Fy="useOptimistic",Nh=sv[Fy],By=()=>{};function Hy(r){return Nh?Nh(r):[r,By]}function Wy(r){let t={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&mt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:O.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&mt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:O.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&mt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:O.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),t}var Vy=["HydrateFallback","hydrateFallbackElement"],qy=class{constructor(){this.status="pending",this.promise=new Promise((t,s)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",t(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",s(a))}})}};function Ky({router:r,flushSync:t,onError:s,unstable_useTransitions:a}){a=by()||a;let[u,c]=O.useState(r.state),[f,p]=Hy(u),[m,y]=O.useState(),[g,w]=O.useState({isTransitioning:!1}),[_,x]=O.useState(),[C,T]=O.useState(),[L,M]=O.useState(),U=O.useRef(new Map),K=O.useCallback((k,{deletedFetchers:ne,newErrors:we,flushSync:Me,viewTransitionOpts:Te})=>{we&&s&&Object.values(we).forEach(Ne=>s(Ne,{location:k.location,params:k.matches[0]?.params??{},unstable_pattern:ga(k.matches)})),k.fetchers.forEach((Ne,Ee)=>{Ne.data!==void 0&&U.current.set(Ee,Ne.data)}),ne.forEach(Ne=>U.current.delete(Ne)),jh(Me===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let Ie=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(jh(Te==null||Ie,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!Te||!Ie){t&&Me?t(()=>c(k)):a===!1?c(k):O.startTransition(()=>{a===!0&&p(Ne=>Ah(Ne,k)),c(k)});return}if(t&&Me){t(()=>{C&&(_?.resolve(),C.skipTransition()),w({isTransitioning:!0,flushSync:!0,currentLocation:Te.currentLocation,nextLocation:Te.nextLocation})});let Ne=r.window.document.startViewTransition(()=>{t(()=>c(k))});Ne.finished.finally(()=>{t(()=>{x(void 0),T(void 0),y(void 0),w({isTransitioning:!1})})}),t(()=>T(Ne));return}C?(_?.resolve(),C.skipTransition(),M({state:k,currentLocation:Te.currentLocation,nextLocation:Te.nextLocation})):(y(k),w({isTransitioning:!0,flushSync:!1,currentLocation:Te.currentLocation,nextLocation:Te.nextLocation}))},[r.window,t,C,_,a,p,s]);O.useLayoutEffect(()=>r.subscribe(K),[r,K]),O.useEffect(()=>{g.isTransitioning&&!g.flushSync&&x(new qy)},[g]),O.useEffect(()=>{if(_&&m&&r.window){let k=m,ne=_.promise,we=r.window.document.startViewTransition(async()=>{a===!1?c(k):O.startTransition(()=>{a===!0&&p(Me=>Ah(Me,k)),c(k)}),await ne});we.finished.finally(()=>{x(void 0),T(void 0),y(void 0),w({isTransitioning:!1})}),T(we)}},[m,_,r.window,a,p]),O.useEffect(()=>{_&&m&&f.location.key===m.location.key&&_.resolve()},[_,C,f.location,m]),O.useEffect(()=>{!g.isTransitioning&&L&&(y(L.state),w({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}),M(void 0))},[g.isTransitioning,L]);let te=O.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:k=>r.navigate(k),push:(k,ne,we)=>r.navigate(k,{state:ne,preventScrollReset:we?.preventScrollReset}),replace:(k,ne,we)=>r.navigate(k,{replace:!0,state:ne,preventScrollReset:we?.preventScrollReset})}),[r]),Z=r.basename||"/",V=O.useMemo(()=>({router:r,navigator:te,static:!1,basename:Z,onError:s}),[r,te,Z,s]);return O.createElement(O.Fragment,null,O.createElement(ws.Provider,{value:V},O.createElement(va.Provider,{value:f},O.createElement(Lp.Provider,{value:U.current},O.createElement(mc.Provider,{value:g},O.createElement(Yy,{basename:Z,location:f.location,navigationType:f.historyAction,navigator:te,unstable_useTransitions:a},O.createElement(Gy,{routes:r.routes,future:r.future,state:f,isStatic:!1,onError:s})))))),null)}function Ah(r,t){return{...r,navigation:t.navigation.state!=="idle"?t.navigation:r.navigation,revalidation:t.revalidation!=="idle"?t.revalidation:r.revalidation,actionData:t.navigation.state!=="submitting"?t.actionData:r.actionData,fetchers:t.fetchers}}var Gy=O.memo(Jy);function Jy({routes:r,future:t,state:s,isStatic:a,onError:o}){return Py(r,void 0,{state:s,isStatic:a,onError:o})}function wc({to:r,replace:t,state:s,relative:a}){$e(ui(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=O.useContext(fr);mt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=O.useContext(Yr),{pathname:c}=vn(),f=_s(),p=pa(r,Bo(u),c,a==="path"),m=JSON.stringify(p);return O.useEffect(()=>{f(JSON.parse(m),{replace:t,state:s,relative:a})},[f,m,a,t,s]),null}function Yy({basename:r="/",children:t=null,location:s,navigationType:a="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){$e(!ui(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=O.useMemo(()=>({basename:f,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[f,o,u,c]);typeof s=="string"&&(s=gn(s));let{pathname:m="/",search:y="",hash:g="",state:w=null,key:_="default",unstable_mask:x}=s,C=O.useMemo(()=>{let T=Sr(m,f);return T==null?null:{location:{pathname:T,search:y,hash:g,state:w,key:_,unstable_mask:x},navigationType:a}},[f,m,y,g,w,_,a,x]);return mt(C!=null,`<Router basename="${f}"> is not able to match the URL "${m}${y}${g}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:O.createElement(fr.Provider,{value:p},O.createElement(Ho.Provider,{children:t,value:C}))}var Io="get",Do="application/x-www-form-urlencoded";function Wo(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Qy(r){return Wo(r)&&r.tagName.toLowerCase()==="button"}function Xy(r){return Wo(r)&&r.tagName.toLowerCase()==="form"}function Zy(r){return Wo(r)&&r.tagName.toLowerCase()==="input"}function e0(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function t0(r,t){return r.button===0&&(!t||t==="_self")&&!e0(r)}var ko=null;function r0(){if(ko===null)try{new FormData(document.createElement("form"),0),ko=!1}catch{ko=!0}return ko}var n0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fu(r){return r!=null&&!n0.has(r)?(mt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Do}"`),null):r}function s0(r,t){let s,a,o,u,c;if(Xy(r)){let f=r.getAttribute("action");a=f?Sr(f,t):null,s=r.getAttribute("method")||Io,o=Fu(r.getAttribute("enctype"))||Do,u=new FormData(r)}else if(Qy(r)||Zy(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||f.getAttribute("action");if(a=p?Sr(p,t):null,s=r.getAttribute("formmethod")||f.getAttribute("method")||Io,o=Fu(r.getAttribute("formenctype"))||Fu(f.getAttribute("enctype"))||Do,u=new FormData(f,r),!r0()){let{name:m,type:y,value:g}=r;if(y==="image"){let w=m?`${m}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else m&&u.append(m,g)}}else{if(Wo(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Io,a=null,o=Do,c=r}return u&&o==="text/plain"&&(c=u,u=void 0),{action:a,method:s.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _c(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function i0(r,t,s,a){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${a}`:o.pathname=`${o.pathname}.${a}`:o.pathname==="/"?o.pathname=`_root.${a}`:t&&Sr(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}async function a0(r,t){if(r.id in t)return t[r.id];try{let s=await import(r.module);return t[r.id]=s,s}catch(s){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function o0(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function l0(r,t,s){let a=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let c=await a0(u,s);return c.links?c.links():[]}return[]}));return f0(a.flat(1).filter(o0).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Lh(r,t,s,a,o,u){let c=(p,m)=>s[m]?p.route.id!==s[m].route.id:!0,f=(p,m)=>s[m].pathname!==p.pathname||s[m].route.path?.endsWith("*")&&s[m].params["*"]!==p.params["*"];return u==="assets"?t.filter((p,m)=>c(p,m)||f(p,m)):u==="data"?t.filter((p,m)=>{let y=a.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let g=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function u0(r,t,{includeHydrateFallback:s}={}){return c0(r.map(a=>{let o=t.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function c0(r){return[...new Set(r)]}function d0(r){let t={},s=Object.keys(r).sort();for(let a of s)t[a]=r[a];return t}function f0(r,t){let s=new Set;return new Set(t),r.reduce((a,o)=>{let u=JSON.stringify(d0(o));return s.has(u)||(s.add(u),a.push({key:u,link:o})),a},[])}function zp(){let r=O.useContext(ws);return _c(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function h0(){let r=O.useContext(va);return _c(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var bc=O.createContext(void 0);bc.displayName="FrameworkContext";function Fp(){let r=O.useContext(bc);return _c(r,"You must render this element inside a <HydratedRouter> element"),r}function p0(r,t){let s=O.useContext(bc),[a,o]=O.useState(!1),[u,c]=O.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:g}=t,w=O.useRef(null);O.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let C=L=>{L.forEach(M=>{c(M.isIntersecting)})},T=new IntersectionObserver(C,{threshold:.5});return w.current&&T.observe(w.current),()=>{T.disconnect()}}},[r]),O.useEffect(()=>{if(a){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[a]);let _=()=>{o(!0)},x=()=>{o(!1),c(!1)};return s?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Ji(f,_),onBlur:Ji(p,x),onMouseEnter:Ji(m,_),onMouseLeave:Ji(y,x),onTouchStart:Ji(g,_)}]:[!1,w,{}]}function Ji(r,t){return s=>{r&&r(s),s.defaultPrevented||t(s)}}function m0({page:r,...t}){let{router:s}=zp(),a=O.useMemo(()=>qn(s.routes,r,s.basename),[s.routes,r,s.basename]);return a?O.createElement(v0,{page:r,matches:a,...t}):null}function g0(r){let{manifest:t,routeModules:s}=Fp(),[a,o]=O.useState([]);return O.useEffect(()=>{let u=!1;return l0(r,t,s).then(c=>{u||o(c)}),()=>{u=!0}},[r,t,s]),a}function v0({page:r,matches:t,...s}){let a=vn(),{future:o,manifest:u,routeModules:c}=Fp(),{basename:f}=zp(),{loaderData:p,matches:m}=h0(),y=O.useMemo(()=>Lh(r,t,m,u,a,"data"),[r,t,m,u,a]),g=O.useMemo(()=>Lh(r,t,m,u,a,"assets"),[r,t,m,u,a]),w=O.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let C=new Set,T=!1;if(t.forEach(M=>{let U=u.routes[M.route.id];!U||!U.hasLoader||(!y.some(K=>K.route.id===M.route.id)&&M.route.id in p&&c[M.route.id]?.shouldRevalidate||U.hasClientLoader?T=!0:C.add(M.route.id))}),C.size===0)return[];let L=i0(r,f,o.unstable_trailingSlashAwareDataRequests,"data");return T&&C.size>0&&L.searchParams.set("_routes",t.filter(M=>C.has(M.route.id)).map(M=>M.route.id).join(",")),[L.pathname+L.search]},[f,o.unstable_trailingSlashAwareDataRequests,p,a,u,y,t,r,c]),_=O.useMemo(()=>u0(g,u),[g,u]),x=g0(g);return O.createElement(O.Fragment,null,w.map(C=>O.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...s})),_.map(C=>O.createElement("link",{key:C,rel:"modulepreload",href:C,...s})),x.map(({key:C,link:T})=>O.createElement("link",{key:C,nonce:s.nonce,...T,crossOrigin:T.crossOrigin??s.crossOrigin})))}function y0(...r){return t=>{r.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var w0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{w0&&(window.__reactRouterVersion="7.13.1")}catch{}function _0(r,t){return Yv({basename:t?.basename,getContext:t?.getContext,future:t?.future,history:fv({window:t?.window}),hydrationData:t?.hydrationData||b0(),routes:r,mapRouteProperties:Wy,hydrationRouteProperties:Vy,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window,unstable_instrumentations:t?.unstable_instrumentations}).initialize()}function b0(){let r=window?.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:x0(r.errors)}),r}function x0(r){if(!r)return null;let t=Object.entries(r),s={};for(let[a,o]of t)if(o&&o.__type==="RouteErrorResponse")s[a]=new ma(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let c=new u(o.message);c.stack="",s[a]=c}catch{}}if(s[a]==null){let u=new Error(o.message);u.stack="",s[a]=u}}else s[a]=o;return s}var Bp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oi=O.forwardRef(function({onClick:t,discover:s="render",prefetch:a="none",relative:o,reloadDocument:u,replace:c,unstable_mask:f,state:p,target:m,to:y,preventScrollReset:g,viewTransition:w,unstable_defaultShouldRevalidate:_,...x},C){let{basename:T,navigator:L,unstable_useTransitions:M}=O.useContext(fr),U=typeof y=="string"&&Bp.test(y),K=_p(y,T);y=K.to;let te=Cy(y,{relative:o}),Z=vn(),V=null;if(f){let Ee=pa(f,[],Z.unstable_mask?Z.unstable_mask.pathname:"/",!0);T!=="/"&&(Ee.pathname=Ee.pathname==="/"?T:Ur([T,Ee.pathname])),V=L.createHref(Ee)}let[k,ne,we]=p0(a,x),Me=R0(y,{replace:c,unstable_mask:f,state:p,target:m,preventScrollReset:g,relative:o,viewTransition:w,unstable_defaultShouldRevalidate:_,unstable_useTransitions:M});function Te(Ee){t&&t(Ee),Ee.defaultPrevented||Me(Ee)}let Ie=!(K.isExternal||u),Ne=O.createElement("a",{...x,...we,href:(Ie?V:void 0)||K.absoluteURL||te,onClick:Ie?Te:t,ref:y0(C,ne),target:m,"data-discover":!U&&s==="render"?"true":void 0});return k&&!U?O.createElement(O.Fragment,null,Ne,O.createElement(m0,{page:te})):Ne});oi.displayName="Link";var S0=O.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:a="",end:o=!1,style:u,to:c,viewTransition:f,children:p,...m},y){let g=ya(c,{relative:m.relative}),w=vn(),_=O.useContext(va),{navigator:x,basename:C}=O.useContext(fr),T=_!=null&&j0(g)&&f===!0,L=x.encodeLocation?x.encodeLocation(g).pathname:g.pathname,M=w.pathname,U=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;s||(M=M.toLowerCase(),U=U?U.toLowerCase():null,L=L.toLowerCase()),U&&C&&(U=Sr(U,C)||U);const K=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let te=M===L||!o&&M.startsWith(L)&&M.charAt(K)==="/",Z=U!=null&&(U===L||!o&&U.startsWith(L)&&U.charAt(L.length)==="/"),V={isActive:te,isPending:Z,isTransitioning:T},k=te?t:void 0,ne;typeof a=="function"?ne=a(V):ne=[a,te?"active":null,Z?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let we=typeof u=="function"?u(V):u;return O.createElement(oi,{...m,"aria-current":k,className:ne,ref:y,style:we,to:c,viewTransition:f},typeof p=="function"?p(V):p)});S0.displayName="NavLink";var E0=O.forwardRef(({discover:r="render",fetcherKey:t,navigate:s,reloadDocument:a,replace:o,state:u,method:c=Io,action:f,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:g,unstable_defaultShouldRevalidate:w,..._},x)=>{let{unstable_useTransitions:C}=O.useContext(fr),T=P0(),L=O0(f,{relative:m}),M=c.toLowerCase()==="get"?"get":"post",U=typeof f=="string"&&Bp.test(f),K=te=>{if(p&&p(te),te.defaultPrevented)return;te.preventDefault();let Z=te.nativeEvent.submitter,V=Z?.getAttribute("formmethod")||c,k=()=>T(Z||te.currentTarget,{fetcherKey:t,method:V,navigate:s,replace:o,state:u,relative:m,preventScrollReset:y,viewTransition:g,unstable_defaultShouldRevalidate:w});C&&s!==!1?O.startTransition(()=>k()):k()};return O.createElement("form",{ref:x,method:M,action:L,onSubmit:a?p:K,..._,"data-discover":!U&&r==="render"?"true":void 0})});E0.displayName="Form";function k0(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hp(r){let t=O.useContext(ws);return $e(t,k0(r)),t}function R0(r,{target:t,replace:s,unstable_mask:a,state:o,preventScrollReset:u,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:p,unstable_useTransitions:m}={}){let y=_s(),g=vn(),w=ya(r,{relative:c});return O.useCallback(_=>{if(t0(_,t)){_.preventDefault();let x=s!==void 0?s:Jr(g)===Jr(w),C=()=>y(r,{replace:x,unstable_mask:a,state:o,preventScrollReset:u,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:p});m?O.startTransition(()=>C()):C()}},[g,y,w,s,a,o,t,r,u,c,f,p,m])}var C0=0,T0=()=>`__${String(++C0)}__`;function P0(){let{router:r}=Hp("useSubmit"),{basename:t}=O.useContext(fr),s=Uy(),a=r.fetch,o=r.navigate;return O.useCallback(async(u,c={})=>{let{action:f,method:p,encType:m,formData:y,body:g}=s0(u,t);if(c.navigate===!1){let w=c.fetcherKey||T0();await a(w,s,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:g,formMethod:c.method||p,formEncType:c.encType||m,flushSync:c.flushSync})}else await o(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:g,formMethod:c.method||p,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,o,t,s])}function O0(r,{relative:t}={}){let{basename:s}=O.useContext(fr),a=O.useContext(Yr);$e(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...ya(r||".",{relative:t})},c=vn();if(r==null){u.search=c.search;let f=new URLSearchParams(u.search),p=f.getAll("index");if(p.some(y=>y==="")){f.delete("index"),p.filter(g=>g).forEach(g=>f.append("index",g));let y=f.toString();u.search=y?`?${y}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(u.pathname=u.pathname==="/"?s:Ur([s,u.pathname])),Jr(u)}function j0(r,{relative:t}={}){let s=O.useContext(mc);$e(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Hp("useViewTransitionState"),o=ya(r,{relative:t});if(!s.isTransitioning)return!1;let u=Sr(s.currentLocation.pathname,a)||s.currentLocation.pathname,c=Sr(s.nextLocation.pathname,a)||s.nextLocation.pathname;return $o(o.pathname,c)!=null||$o(o.pathname,u)!=null}var Wp=fp();const N0=dp(Wp);function A0(r){return O.createElement(Ky,{flushSync:Wp.flushSync,...r})}function L0(r){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=r:s.appendChild(document.createTextNode(r))}const I0=r=>{switch(r){case"success":return U0;case"info":return z0;case"warning":return M0;case"error":return F0;default:return null}},D0=Array(12).fill(0),$0=({visible:r,className:t})=>ee.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":r},ee.createElement("div",{className:"sonner-spinner"},D0.map((s,a)=>ee.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),U0=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),M0=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),z0=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),F0=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),B0=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ee.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ee.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),H0=()=>{const[r,t]=ee.useState(document.hidden);return ee.useEffect(()=>{const s=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),r};let Zu=1;class W0{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;const{message:a,...o}=t,u=typeof t?.id=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:Zu++,c=this.toasts.find(p=>p.id===u),f=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),c?this.toasts=this.toasts.map(p=>p.id===u?(this.publish({...p,...t,id:u,title:a}),{...p,...t,id:u,dismissible:f,title:a}):p):this.addToast({title:a,...o,dismissible:f,id:u}),u},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:t,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(a=>a({id:s.id,dismiss:!0}))}),t),this.message=(t,s)=>this.create({...s,message:t}),this.error=(t,s)=>this.create({...s,message:t,type:"error"}),this.success=(t,s)=>this.create({...s,type:"success",message:t}),this.info=(t,s)=>this.create({...s,type:"info",message:t}),this.warning=(t,s)=>this.create({...s,type:"warning",message:t}),this.loading=(t,s)=>this.create({...s,type:"loading",message:t}),this.promise=(t,s)=>{if(!s)return;let a;s.loading!==void 0&&(a=this.create({...s,promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let u=a!==void 0,c;const f=o.then(async m=>{if(c=["resolve",m],ee.isValidElement(m))u=!1,this.create({id:a,type:"default",message:m});else if(q0(m)&&!m.ok){u=!1;const g=typeof s.error=="function"?await s.error(`HTTP error! status: ${m.status}`):s.error,w=typeof s.description=="function"?await s.description(`HTTP error! status: ${m.status}`):s.description,x=typeof g=="object"&&!ee.isValidElement(g)?g:{message:g};this.create({id:a,type:"error",description:w,...x})}else if(m instanceof Error){u=!1;const g=typeof s.error=="function"?await s.error(m):s.error,w=typeof s.description=="function"?await s.description(m):s.description,x=typeof g=="object"&&!ee.isValidElement(g)?g:{message:g};this.create({id:a,type:"error",description:w,...x})}else if(s.success!==void 0){u=!1;const g=typeof s.success=="function"?await s.success(m):s.success,w=typeof s.description=="function"?await s.description(m):s.description,x=typeof g=="object"&&!ee.isValidElement(g)?g:{message:g};this.create({id:a,type:"success",description:w,...x})}}).catch(async m=>{if(c=["reject",m],s.error!==void 0){u=!1;const y=typeof s.error=="function"?await s.error(m):s.error,g=typeof s.description=="function"?await s.description(m):s.description,_=typeof y=="object"&&!ee.isValidElement(y)?y:{message:y};this.create({id:a,type:"error",description:g,..._})}}).finally(()=>{u&&(this.dismiss(a),a=void 0),s.finally==null||s.finally.call(s)}),p=()=>new Promise((m,y)=>f.then(()=>c[0]==="reject"?y(c[1]):m(c[1])).catch(y));return typeof a!="string"&&typeof a!="number"?{unwrap:p}:Object.assign(a,{unwrap:p})},this.custom=(t,s)=>{const a=s?.id||Zu++;return this.create({jsx:t(a),id:a,...s}),a},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const tr=new W0,V0=(r,t)=>{const s=t?.id||Zu++;return tr.addToast({title:r,...t,id:s}),s},q0=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",K0=V0,G0=()=>tr.toasts,J0=()=>tr.getActiveToasts(),rt=Object.assign(K0,{success:tr.success,info:tr.info,warning:tr.warning,error:tr.error,custom:tr.custom,message:tr.message,promise:tr.promise,dismiss:tr.dismiss,loading:tr.loading},{getHistory:G0,getToasts:J0});L0("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Ro(r){return r.label!==void 0}const Y0=3,Q0="24px",X0="16px",Ih=4e3,Z0=356,ew=14,tw=45,rw=200;function Gr(...r){return r.filter(Boolean).join(" ")}function nw(r){const[t,s]=r.split("-"),a=[];return t&&a.push(t),s&&a.push(s),a}const sw=r=>{var t,s,a,o,u,c,f,p,m;const{invert:y,toast:g,unstyled:w,interacting:_,setHeights:x,visibleToasts:C,heights:T,index:L,toasts:M,expanded:U,removeToast:K,defaultRichColors:te,closeButton:Z,style:V,cancelButtonStyle:k,actionButtonStyle:ne,className:we="",descriptionClassName:Me="",duration:Te,position:Ie,gap:Ne,expandByDefault:Ee,classNames:ue,icons:ve,closeButtonAriaLabel:W="Close toast"}=r,[J,G]=ee.useState(null),[j,z]=ee.useState(null),[Y,re]=ee.useState(!1),[oe,me]=ee.useState(!1),[Le,he]=ee.useState(!1),[De,de]=ee.useState(!1),[qe,Ge]=ee.useState(!1),[it,qt]=ee.useState(0),[Yn,Qn]=ee.useState(0),Pt=ee.useRef(g.duration||Te||Ih),Xn=ee.useRef(null),Ft=ee.useRef(null),Mr=L===0,zr=L+1<=C,yt=g.type,kr=g.dismissible!==!1,xs=g.className||"",hr=g.descriptionClassName||"",rr=ee.useMemo(()=>T.findIndex(je=>je.toastId===g.id)||0,[T,g.id]),wn=ee.useMemo(()=>{var je;return(je=g.closeButton)!=null?je:Z},[g.closeButton,Z]),Rr=ee.useMemo(()=>g.duration||Te||Ih,[g.duration,Te]),It=ee.useRef(0),lt=ee.useRef(0),Cr=ee.useRef(0),Fr=ee.useRef(null),[_n,Ss]=Ie.split("-"),Kt=ee.useMemo(()=>T.reduce((je,nt,dt)=>dt>=rr?je:je+nt.height,0),[T,rr]),Qr=H0(),bn=g.invert||y,Br=yt==="loading";lt.current=ee.useMemo(()=>rr*Ne+Kt,[rr,Kt]),ee.useEffect(()=>{Pt.current=Rr},[Rr]),ee.useEffect(()=>{re(!0)},[]),ee.useEffect(()=>{const je=Ft.current;if(je){const nt=je.getBoundingClientRect().height;return Qn(nt),x(dt=>[{toastId:g.id,height:nt,position:g.position},...dt]),()=>x(dt=>dt.filter(wt=>wt.toastId!==g.id))}},[x,g.id]),ee.useLayoutEffect(()=>{if(!Y)return;const je=Ft.current,nt=je.style.height;je.style.height="auto";const dt=je.getBoundingClientRect().height;je.style.height=nt,Qn(dt),x(wt=>wt.find(Ze=>Ze.toastId===g.id)?wt.map(Ze=>Ze.toastId===g.id?{...Ze,height:dt}:Ze):[{toastId:g.id,height:dt,position:g.position},...wt])},[Y,g.title,g.description,x,g.id,g.jsx,g.action,g.cancel]);const Gt=ee.useCallback(()=>{me(!0),qt(lt.current),x(je=>je.filter(nt=>nt.toastId!==g.id)),setTimeout(()=>{K(g)},rw)},[g,K,x,lt]);ee.useEffect(()=>{if(g.promise&&yt==="loading"||g.duration===1/0||g.type==="loading")return;let je;return U||_||Qr?(()=>{if(Cr.current<It.current){const wt=new Date().getTime()-It.current;Pt.current=Pt.current-wt}Cr.current=new Date().getTime()})():Pt.current!==1/0&&(It.current=new Date().getTime(),je=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Gt()},Pt.current)),()=>clearTimeout(je)},[U,_,g,yt,Qr,Gt]),ee.useEffect(()=>{g.delete&&(Gt(),g.onDismiss==null||g.onDismiss.call(g,g))},[Gt,g.delete]);function xn(){var je;if(ve?.loading){var nt;return ee.createElement("div",{className:Gr(ue?.loader,g==null||(nt=g.classNames)==null?void 0:nt.loader,"sonner-loader"),"data-visible":yt==="loading"},ve.loading)}return ee.createElement($0,{className:Gr(ue?.loader,g==null||(je=g.classNames)==null?void 0:je.loader),visible:yt==="loading"})}const nr=g.icon||ve?.[yt]||I0(yt);var pr,Xr;return ee.createElement("li",{tabIndex:0,ref:Ft,className:Gr(we,xs,ue?.toast,g==null||(t=g.classNames)==null?void 0:t.toast,ue?.default,ue?.[yt],g==null||(s=g.classNames)==null?void 0:s[yt]),"data-sonner-toast":"","data-rich-colors":(pr=g.richColors)!=null?pr:te,"data-styled":!(g.jsx||g.unstyled||w),"data-mounted":Y,"data-promise":!!g.promise,"data-swiped":qe,"data-removed":oe,"data-visible":zr,"data-y-position":_n,"data-x-position":Ss,"data-index":L,"data-front":Mr,"data-swiping":Le,"data-dismissible":kr,"data-type":yt,"data-invert":bn,"data-swipe-out":De,"data-swipe-direction":j,"data-expanded":!!(U||Ee&&Y),"data-testid":g.testId,style:{"--index":L,"--toasts-before":L,"--z-index":M.length-L,"--offset":`${oe?it:lt.current}px`,"--initial-height":Ee?"auto":`${Yn}px`,...V,...g.style},onDragEnd:()=>{he(!1),G(null),Fr.current=null},onPointerDown:je=>{je.button!==2&&(Br||!kr||(Xn.current=new Date,qt(lt.current),je.target.setPointerCapture(je.pointerId),je.target.tagName!=="BUTTON"&&(he(!0),Fr.current={x:je.clientX,y:je.clientY})))},onPointerUp:()=>{var je,nt,dt;if(De||!kr)return;Fr.current=null;const wt=Number(((je=Ft.current)==null?void 0:je.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),sr=Number(((nt=Ft.current)==null?void 0:nt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ze=new Date().getTime()-((dt=Xn.current)==null?void 0:dt.getTime()),ft=J==="x"?wt:sr,Hr=Math.abs(ft)/Ze;if(Math.abs(ft)>=tw||Hr>.11){qt(lt.current),g.onDismiss==null||g.onDismiss.call(g,g),z(J==="x"?wt>0?"right":"left":sr>0?"down":"up"),Gt(),de(!0);return}else{var _t,S;(_t=Ft.current)==null||_t.style.setProperty("--swipe-amount-x","0px"),(S=Ft.current)==null||S.style.setProperty("--swipe-amount-y","0px")}Ge(!1),he(!1),G(null)},onPointerMove:je=>{var nt,dt,wt;if(!Fr.current||!kr||((nt=window.getSelection())==null?void 0:nt.toString().length)>0)return;const Ze=je.clientY-Fr.current.y,ft=je.clientX-Fr.current.x;var Hr;const _t=(Hr=r.swipeDirections)!=null?Hr:nw(Ie);!J&&(Math.abs(ft)>1||Math.abs(Ze)>1)&&G(Math.abs(ft)>Math.abs(Ze)?"x":"y");let S={x:0,y:0};const N=I=>1/(1.5+Math.abs(I)/20);if(J==="y"){if(_t.includes("top")||_t.includes("bottom"))if(_t.includes("top")&&Ze<0||_t.includes("bottom")&&Ze>0)S.y=Ze;else{const I=Ze*N(Ze);S.y=Math.abs(I)<Math.abs(Ze)?I:Ze}}else if(J==="x"&&(_t.includes("left")||_t.includes("right")))if(_t.includes("left")&&ft<0||_t.includes("right")&&ft>0)S.x=ft;else{const I=ft*N(ft);S.x=Math.abs(I)<Math.abs(ft)?I:ft}(Math.abs(S.x)>0||Math.abs(S.y)>0)&&Ge(!0),(dt=Ft.current)==null||dt.style.setProperty("--swipe-amount-x",`${S.x}px`),(wt=Ft.current)==null||wt.style.setProperty("--swipe-amount-y",`${S.y}px`)}},wn&&!g.jsx&&yt!=="loading"?ee.createElement("button",{"aria-label":W,"data-disabled":Br,"data-close-button":!0,onClick:Br||!kr?()=>{}:()=>{Gt(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Gr(ue?.closeButton,g==null||(a=g.classNames)==null?void 0:a.closeButton)},(Xr=ve?.close)!=null?Xr:B0):null,(yt||g.icon||g.promise)&&g.icon!==null&&(ve?.[yt]!==null||g.icon)?ee.createElement("div",{"data-icon":"",className:Gr(ue?.icon,g==null||(o=g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||xn():null,g.type!=="loading"?nr:null):null,ee.createElement("div",{"data-content":"",className:Gr(ue?.content,g==null||(u=g.classNames)==null?void 0:u.content)},ee.createElement("div",{"data-title":"",className:Gr(ue?.title,g==null||(c=g.classNames)==null?void 0:c.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?ee.createElement("div",{"data-description":"",className:Gr(Me,hr,ue?.description,g==null||(f=g.classNames)==null?void 0:f.description)},typeof g.description=="function"?g.description():g.description):null),ee.isValidElement(g.cancel)?g.cancel:g.cancel&&Ro(g.cancel)?ee.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||k,onClick:je=>{Ro(g.cancel)&&kr&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,je),Gt())},className:Gr(ue?.cancelButton,g==null||(p=g.classNames)==null?void 0:p.cancelButton)},g.cancel.label):null,ee.isValidElement(g.action)?g.action:g.action&&Ro(g.action)?ee.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||ne,onClick:je=>{Ro(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,je),!je.defaultPrevented&&Gt())},className:Gr(ue?.actionButton,g==null||(m=g.classNames)==null?void 0:m.actionButton)},g.action.label):null)};function Dh(){if(typeof window>"u"||typeof document>"u")return"ltr";const r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function iw(r,t){const s={};return[r,t].forEach((a,o)=>{const u=o===1,c=u?"--mobile-offset":"--offset",f=u?X0:Q0;function p(m){["top","right","bottom","left"].forEach(y=>{s[`${c}-${y}`]=typeof m=="number"?`${m}px`:m})}typeof a=="number"||typeof a=="string"?p(a):typeof a=="object"?["top","right","bottom","left"].forEach(m=>{a[m]===void 0?s[`${c}-${m}`]=f:s[`${c}-${m}`]=typeof a[m]=="number"?`${a[m]}px`:a[m]}):p(f)}),s}const aw=ee.forwardRef(function(t,s){const{id:a,invert:o,position:u="bottom-right",hotkey:c=["altKey","KeyT"],expand:f,closeButton:p,className:m,offset:y,mobileOffset:g,theme:w="light",richColors:_,duration:x,style:C,visibleToasts:T=Y0,toastOptions:L,dir:M=Dh(),gap:U=ew,icons:K,containerAriaLabel:te="Notifications"}=t,[Z,V]=ee.useState([]),k=ee.useMemo(()=>a?Z.filter(Y=>Y.toasterId===a):Z.filter(Y=>!Y.toasterId),[Z,a]),ne=ee.useMemo(()=>Array.from(new Set([u].concat(k.filter(Y=>Y.position).map(Y=>Y.position)))),[k,u]),[we,Me]=ee.useState([]),[Te,Ie]=ee.useState(!1),[Ne,Ee]=ee.useState(!1),[ue,ve]=ee.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=ee.useRef(null),J=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),G=ee.useRef(null),j=ee.useRef(!1),z=ee.useCallback(Y=>{V(re=>{var oe;return(oe=re.find(me=>me.id===Y.id))!=null&&oe.delete||tr.dismiss(Y.id),re.filter(({id:me})=>me!==Y.id)})},[]);return ee.useEffect(()=>tr.subscribe(Y=>{if(Y.dismiss){requestAnimationFrame(()=>{V(re=>re.map(oe=>oe.id===Y.id?{...oe,delete:!0}:oe))});return}setTimeout(()=>{N0.flushSync(()=>{V(re=>{const oe=re.findIndex(me=>me.id===Y.id);return oe!==-1?[...re.slice(0,oe),{...re[oe],...Y},...re.slice(oe+1)]:[Y,...re]})})})}),[Z]),ee.useEffect(()=>{if(w!=="system"){ve(w);return}if(w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ve("dark"):ve("light")),typeof window>"u")return;const Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:re})=>{ve(re?"dark":"light")})}catch{Y.addListener(({matches:oe})=>{try{ve(oe?"dark":"light")}catch(me){console.error(me)}})}},[w]),ee.useEffect(()=>{Z.length<=1&&Ie(!1)},[Z]),ee.useEffect(()=>{const Y=re=>{var oe;if(c.every(he=>re[he]||re.code===he)){var Le;Ie(!0),(Le=W.current)==null||Le.focus()}re.code==="Escape"&&(document.activeElement===W.current||(oe=W.current)!=null&&oe.contains(document.activeElement))&&Ie(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[c]),ee.useEffect(()=>{if(W.current)return()=>{G.current&&(G.current.focus({preventScroll:!0}),G.current=null,j.current=!1)}},[W.current]),ee.createElement("section",{ref:s,"aria-label":`${te} ${J}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},ne.map((Y,re)=>{var oe;const[me,Le]=Y.split("-");return k.length?ee.createElement("ol",{key:Y,dir:M==="auto"?Dh():M,tabIndex:-1,ref:W,className:m,"data-sonner-toaster":!0,"data-sonner-theme":ue,"data-y-position":me,"data-x-position":Le,style:{"--front-toast-height":`${((oe=we[0])==null?void 0:oe.height)||0}px`,"--width":`${Z0}px`,"--gap":`${U}px`,...C,...iw(y,g)},onBlur:he=>{j.current&&!he.currentTarget.contains(he.relatedTarget)&&(j.current=!1,G.current&&(G.current.focus({preventScroll:!0}),G.current=null))},onFocus:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||j.current||(j.current=!0,G.current=he.relatedTarget)},onMouseEnter:()=>Ie(!0),onMouseMove:()=>Ie(!0),onMouseLeave:()=>{Ne||Ie(!1)},onDragEnd:()=>Ie(!1),onPointerDown:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||Ee(!0)},onPointerUp:()=>Ee(!1)},k.filter(he=>!he.position&&re===0||he.position===Y).map((he,De)=>{var de,qe;return ee.createElement(sw,{key:he.id,icons:K,index:De,toast:he,defaultRichColors:_,duration:(de=L?.duration)!=null?de:x,className:L?.className,descriptionClassName:L?.descriptionClassName,invert:o,visibleToasts:T,closeButton:(qe=L?.closeButton)!=null?qe:p,interacting:Ne,position:Y,style:L?.style,unstyled:L?.unstyled,classNames:L?.classNames,cancelButtonStyle:L?.cancelButtonStyle,actionButtonStyle:L?.actionButtonStyle,closeButtonAriaLabel:L?.closeButtonAriaLabel,removeToast:z,toasts:k.filter(Ge=>Ge.position==he.position),heights:we.filter(Ge=>Ge.position==he.position),setHeights:Me,expandByDefault:f,gap:U,expanded:Te,swipeDirections:t.swipeDirections})})):null}))});function Vo(r,t){var s={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(s[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(s[a[o]]=r[a[o]]);return s}function ow(r,t,s,a){function o(u){return u instanceof s?u:new s(function(c){c(u)})}return new(s||(s=Promise))(function(u,c){function f(y){try{m(a.next(y))}catch(g){c(g)}}function p(y){try{m(a.throw(y))}catch(g){c(g)}}function m(y){y.done?u(y.value):o(y.value).then(f,p)}m((a=a.apply(r,t||[])).next())})}const lw=r=>r?(...t)=>r(...t):(...t)=>fetch(...t);class xc extends Error{constructor(t,s="FunctionsError",a){super(t),this.name=s,this.context=a}}class uw extends xc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class $h extends xc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Uh extends xc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ec;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(ec||(ec={}));class cw{constructor(t,{headers:s={},customFetch:a,region:o=ec.Any}={}){this.url=t,this.headers=s,this.region=o,this.fetch=lw(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ow(this,arguments,void 0,function*(s,a={}){var o;let u,c;try{const{headers:f,method:p,body:m,signal:y,timeout:g}=a;let w={},{region:_}=a;_||(_=this.region);const x=new URL(`${this.url}/${s}`);_&&_!=="any"&&(w["x-region"]=_,x.searchParams.set("forceFunctionRegion",_));let C;m&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",C=m):typeof m=="string"?(w["Content-Type"]="text/plain",C=m):typeof FormData<"u"&&m instanceof FormData?C=m:(w["Content-Type"]="application/json",C=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?C=JSON.stringify(m):C=m;let T=y;g&&(c=new AbortController,u=setTimeout(()=>c.abort(),g),y?(T=c.signal,y.addEventListener("abort",()=>c.abort())):T=c.signal);const L=yield this.fetch(x.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),f),body:C,signal:T}).catch(te=>{throw new uw(te)}),M=L.headers.get("x-relay-error");if(M&&M==="true")throw new $h(L);if(!L.ok)throw new Uh(L);let U=((o=L.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),K;return U==="application/json"?K=yield L.json():U==="application/octet-stream"||U==="application/pdf"?K=yield L.blob():U==="text/event-stream"?K=L:U==="multipart/form-data"?K=yield L.formData():K=yield L.text(),{data:K,error:null,response:L}}catch(f){return{data:null,error:f,response:f instanceof Uh||f instanceof $h?f.context:void 0}}finally{u&&clearTimeout(u)}})}}var dw=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},fw=class{constructor(r){var t,s,a;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(t=r.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=r.signal,this.isMaybeSingle=(s=r.isMaybeSingle)!==null&&s!==void 0?s:!1,this.urlLengthLimit=(a=r.urlLengthLimit)!==null&&a!==void 0?a:8e3,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,t){return this.headers=new Headers(this.headers),this.headers.set(r,t),this}then(r,t){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let c=null,f=null,p=null,m=u.status,y=u.statusText;if(u.ok){var g,w;if(s.method!=="HEAD"){var _;const L=await u.text();L===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((_=s.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?f=L:f=JSON.parse(L))}const C=(g=s.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),T=(w=u.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");C&&T&&T.length>1&&(p=parseInt(T[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,m=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var x;const C=await u.text();try{c=JSON.parse(C),Array.isArray(c)&&u.status===404&&(f=[],c=null,m=200,y="OK")}catch{u.status===404&&C===""?(m=204,y="No Content"):c={message:C}}if(c&&s.isMaybeSingle&&(!(c==null||(x=c.details)===null||x===void 0)&&x.includes("0 rows"))&&(c=null,m=200,y="OK"),c&&s.shouldThrowOnError)throw new dw(c)}return{error:c,data:f,count:p,status:m,statusText:y}});return this.shouldThrowOnError||(o=o.catch(u=>{var c;let f="",p="",m="";const y=u?.cause;if(y){var g,w,_,x;const L=(g=y?.message)!==null&&g!==void 0?g:"",M=(w=y?.code)!==null&&w!==void 0?w:"";f=`${(_=u?.name)!==null&&_!==void 0?_:"FetchError"}: ${u?.message}`,f+=`

Caused by: ${(x=y?.name)!==null&&x!==void 0?x:"Error"}: ${L}`,M&&(f+=` (${M})`),y?.stack&&(f+=`
${y.stack}`)}else{var C;f=(C=u?.stack)!==null&&C!==void 0?C:""}const T=this.url.toString().length;return u?.name==="AbortError"||u?.code==="ABORT_ERR"?(m="",p="Request was aborted (timeout or manual cancellation)",T>this.urlLengthLimit&&(p+=`. Note: Your request URL is ${T} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(y?.name==="HeadersOverflowError"||y?.code==="UND_ERR_HEADERS_OVERFLOW")&&(m="",p="HTTP headers exceeded server limits (typically 16KB)",T>this.urlLengthLimit&&(p+=`. Your request URL is ${T} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(c=u?.name)!==null&&c!==void 0?c:"FetchError"}: ${u?.message}`,details:f,hint:p,code:m},data:null,count:null,status:0,statusText:""}})),o.then(r,t)}returns(){return this}overrideTypes(){return this}},hw=class extends fw{select(r){let t=!1;const s=(r??"*").split("").map(a=>/\s/.test(a)&&!t?"":(a==='"'&&(t=!t),a)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:t=!0,nullsFirst:s,foreignTable:a,referencedTable:o=a}={}){const u=o?`${o}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${r}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:t,referencedTable:s=t}={}){const a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${r}`),this}range(r,t,{foreignTable:s,referencedTable:a=s}={}){const o=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${r}`),this.url.searchParams.set(u,`${t-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:t=!1,settings:s=!1,buffers:a=!1,wal:o=!1,format:u="text"}={}){var c;const f=[r?"analyze":null,t?"verbose":null,s?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),p=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const Mh=new RegExp("[,()]");var ei=class extends hw{eq(r,t){return this.url.searchParams.append(r,`eq.${t}`),this}neq(r,t){return this.url.searchParams.append(r,`neq.${t}`),this}gt(r,t){return this.url.searchParams.append(r,`gt.${t}`),this}gte(r,t){return this.url.searchParams.append(r,`gte.${t}`),this}lt(r,t){return this.url.searchParams.append(r,`lt.${t}`),this}lte(r,t){return this.url.searchParams.append(r,`lte.${t}`),this}like(r,t){return this.url.searchParams.append(r,`like.${t}`),this}likeAllOf(r,t){return this.url.searchParams.append(r,`like(all).{${t.join(",")}}`),this}likeAnyOf(r,t){return this.url.searchParams.append(r,`like(any).{${t.join(",")}}`),this}ilike(r,t){return this.url.searchParams.append(r,`ilike.${t}`),this}ilikeAllOf(r,t){return this.url.searchParams.append(r,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(r,t){return this.url.searchParams.append(r,`ilike(any).{${t.join(",")}}`),this}regexMatch(r,t){return this.url.searchParams.append(r,`match.${t}`),this}regexIMatch(r,t){return this.url.searchParams.append(r,`imatch.${t}`),this}is(r,t){return this.url.searchParams.append(r,`is.${t}`),this}isDistinct(r,t){return this.url.searchParams.append(r,`isdistinct.${t}`),this}in(r,t){const s=Array.from(new Set(t)).map(a=>typeof a=="string"&&Mh.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`in.(${s})`),this}notIn(r,t){const s=Array.from(new Set(t)).map(a=>typeof a=="string"&&Mh.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`not.in.(${s})`),this}contains(r,t){return typeof t=="string"?this.url.searchParams.append(r,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(r,`cs.{${t.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(t)}`),this}containedBy(r,t){return typeof t=="string"?this.url.searchParams.append(r,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(r,`cd.{${t.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(t)}`),this}rangeGt(r,t){return this.url.searchParams.append(r,`sr.${t}`),this}rangeGte(r,t){return this.url.searchParams.append(r,`nxl.${t}`),this}rangeLt(r,t){return this.url.searchParams.append(r,`sl.${t}`),this}rangeLte(r,t){return this.url.searchParams.append(r,`nxr.${t}`),this}rangeAdjacent(r,t){return this.url.searchParams.append(r,`adj.${t}`),this}overlaps(r,t){return typeof t=="string"?this.url.searchParams.append(r,`ov.${t}`):this.url.searchParams.append(r,`ov.{${t.join(",")}}`),this}textSearch(r,t,{config:s,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(r,`${o}fts${u}.${t}`),this}match(r){return Object.entries(r).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(r,t,s){return this.url.searchParams.append(r,`not.${t}.${s}`),this}or(r,{foreignTable:t,referencedTable:s=t}={}){const a=s?`${s}.or`:"or";return this.url.searchParams.append(a,`(${r})`),this}filter(r,t,s){return this.url.searchParams.append(r,`${t}.${s}`),this}},pw=class{constructor(r,{headers:t={},schema:s,fetch:a,urlLengthLimit:o=8e3}){this.url=r,this.headers=new Headers(t),this.schema=s,this.fetch=a,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(r,t){const{head:s=!1,count:a}=t??{},o=s?"HEAD":"GET";let u=!1;const c=(r??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join(""),{url:f,headers:p}=this.cloneRequestState();return f.searchParams.set("select",c),a&&p.append("Prefer",`count=${a}`),new ei({method:o,url:f,headers:p,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(r,{count:t,defaultToNull:s=!0}={}){var a;const o="POST",{url:u,headers:c}=this.cloneRequestState();if(t&&c.append("Prefer",`count=${t}`),s||c.append("Prefer","missing=default"),Array.isArray(r)){const f=r.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(f.length>0){const p=[...new Set(f)].map(m=>`"${m}"`);u.searchParams.set("columns",p.join(","))}}return new ei({method:o,url:u,headers:c,schema:this.schema,body:r,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(r,{onConflict:t,ignoreDuplicates:s=!1,count:a,defaultToNull:o=!0}={}){var u;const c="POST",{url:f,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),t!==void 0&&f.searchParams.set("on_conflict",t),a&&p.append("Prefer",`count=${a}`),o||p.append("Prefer","missing=default"),Array.isArray(r)){const m=r.reduce((y,g)=>y.concat(Object.keys(g)),[]);if(m.length>0){const y=[...new Set(m)].map(g=>`"${g}"`);f.searchParams.set("columns",y.join(","))}}return new ei({method:c,url:f,headers:p,schema:this.schema,body:r,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}update(r,{count:t}={}){var s;const a="PATCH",{url:o,headers:u}=this.cloneRequestState();return t&&u.append("Prefer",`count=${t}`),new ei({method:a,url:o,headers:u,schema:this.schema,body:r,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:r}={}){var t;const s="DELETE",{url:a,headers:o}=this.cloneRequestState();return r&&o.append("Prefer",`count=${r}`),new ei({method:s,url:a,headers:o,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function aa(r){"@babel/helpers - typeof";return aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aa(r)}function mw(r,t){if(aa(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var a=s.call(r,t);if(aa(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function gw(r){var t=mw(r,"string");return aa(t)=="symbol"?t:t+""}function vw(r,t,s){return(t=gw(t))in r?Object.defineProperty(r,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[t]=s,r}function zh(r,t){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),s.push.apply(s,a)}return s}function Co(r){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?zh(Object(s),!0).forEach(function(a){vw(r,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):zh(Object(s)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(s,a))})}return r}var yw=class Vp{constructor(t,{headers:s={},schema:a,fetch:o,timeout:u,urlLengthLimit:c=8e3}={}){this.url=t,this.headers=new Headers(s),this.schemaName=a,this.urlLengthLimit=c;const f=o??globalThis.fetch;u!==void 0&&u>0?this.fetch=(p,m)=>{const y=new AbortController,g=setTimeout(()=>y.abort(),u),w=m?.signal;if(w){if(w.aborted)return clearTimeout(g),f(p,m);const _=()=>{clearTimeout(g),y.abort()};return w.addEventListener("abort",_,{once:!0}),f(p,Co(Co({},m),{},{signal:y.signal})).finally(()=>{clearTimeout(g),w.removeEventListener("abort",_)})}return f(p,Co(Co({},m),{},{signal:y.signal})).finally(()=>clearTimeout(g))}:this.fetch=f}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new pw(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new Vp(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,s={},{head:a=!1,get:o=!1,count:u}={}){var c;let f;const p=new URL(`${this.url}/rpc/${t}`);let m;const y=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(y)),g=a&&Object.values(s).some(y);g?(f="POST",m=s):a||o?(f=a?"HEAD":"GET",Object.entries(s).filter(([_,x])=>x!==void 0).map(([_,x])=>[_,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([_,x])=>{p.searchParams.append(_,x)})):(f="POST",m=s);const w=new Headers(this.headers);return g?w.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&w.set("Prefer",`count=${u}`),new ei({method:f,url:p,headers:w,schema:this.schemaName,body:m,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch,urlLengthLimit:this.urlLengthLimit})}};class ww{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const a=s.versions;if(a&&a.node){const o=a.node,u=parseInt(o.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const a=this.getWebSocketConstructor();return new a(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const _w="2.98.0",bw=`realtime-js/${_w}`,xw="1.0.0",qp="2.0.0",Fh=qp,tc=1e4,Sw=1e3,Ew=100;var Vn;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Vn||(Vn={}));var St;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(St||(St={}));var $r;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})($r||($r={}));var rc;(function(r){r.websocket="websocket"})(rc||(rc={}));var ps;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(ps||(ps={}));class kw{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,s){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return s(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(t){var s;return this._isArrayBuffer((s=t.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var s,a;const o=(a=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var s,a;const o=(a=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:{},c=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,s,a){var o,u;const c=t.topic,f=(o=t.ref)!==null&&o!==void 0?o:"",p=(u=t.join_ref)!==null&&u!==void 0?u:"",m=t.payload.event,y=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(y).length===0?"":JSON.stringify(y);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+f.length+c.length+m.length+g.length,_=new ArrayBuffer(this.HEADER_LENGTH+w);let x=new DataView(_),C=0;x.setUint8(C++,this.KINDS.userBroadcastPush),x.setUint8(C++,p.length),x.setUint8(C++,f.length),x.setUint8(C++,c.length),x.setUint8(C++,m.length),x.setUint8(C++,g.length),x.setUint8(C++,s),Array.from(p,L=>x.setUint8(C++,L.charCodeAt(0))),Array.from(f,L=>x.setUint8(C++,L.charCodeAt(0))),Array.from(c,L=>x.setUint8(C++,L.charCodeAt(0))),Array.from(m,L=>x.setUint8(C++,L.charCodeAt(0))),Array.from(g,L=>x.setUint8(C++,L.charCodeAt(0)));var T=new Uint8Array(_.byteLength+a.byteLength);return T.set(new Uint8Array(_),0),T.set(new Uint8Array(a),_.byteLength),T.buffer}decode(t,s){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return s(a)}if(typeof t=="string"){const a=JSON.parse(t),[o,u,c,f,p]=a;return s({join_ref:o,ref:u,topic:c,event:f,payload:p})}return s({})}_binaryDecode(t){const s=new DataView(t),a=s.getUint8(0),o=new TextDecoder;if(a===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,s,o)}_decodeUserBroadcast(t,s,a){const o=s.getUint8(1),u=s.getUint8(2),c=s.getUint8(3),f=s.getUint8(4);let p=this.HEADER_LENGTH+4;const m=a.decode(t.slice(p,p+o));p=p+o;const y=a.decode(t.slice(p,p+u));p=p+u;const g=a.decode(t.slice(p,p+c));p=p+c;const w=t.slice(p,t.byteLength),_=f===this.JSON_ENCODING?JSON.parse(a.decode(w)):w,x={type:this.BROADCAST_EVENT,event:y,payload:_};return c>0&&(x.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var s;return t instanceof ArrayBuffer||((s=t?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(t,s){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([a])=>s.includes(a)))}}class Kp{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Xe;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Xe||(Xe={}));const Bh=(r,t,s={})=>{var a;const o=(a=s.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((u,c)=>(u[c]=Rw(c,r,t,o),u),{}):{}},Rw=(r,t,s,a)=>{const o=t.find(f=>f.name===r),u=o?.type,c=s[r];return u&&!a.includes(u)?Gp(u,c):nc(c)},Gp=(r,t)=>{if(r.charAt(0)==="_"){const s=r.slice(1,r.length);return Ow(t,s)}switch(r){case Xe.bool:return Cw(t);case Xe.float4:case Xe.float8:case Xe.int2:case Xe.int4:case Xe.int8:case Xe.numeric:case Xe.oid:return Tw(t);case Xe.json:case Xe.jsonb:return Pw(t);case Xe.timestamp:return jw(t);case Xe.abstime:case Xe.date:case Xe.daterange:case Xe.int4range:case Xe.int8range:case Xe.money:case Xe.reltime:case Xe.text:case Xe.time:case Xe.timestamptz:case Xe.timetz:case Xe.tsrange:case Xe.tstzrange:return nc(t);default:return nc(t)}},nc=r=>r,Cw=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Tw=r=>{if(typeof r=="string"){const t=parseFloat(r);if(!Number.isNaN(t))return t}return r},Pw=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},Ow=(r,t)=>{if(typeof r!="string")return r;const s=r.length-1,a=r[s];if(r[0]==="{"&&a==="}"){let u;const c=r.slice(1,s);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(f=>Gp(t,f))}return r},jw=r=>typeof r=="string"?r.replace(" ","T"):r,Jp=r=>{const t=new URL(r);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Bu{constructor(t,s,a={},o=tc){this.channel=t,this.event=s,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var a;return this._hasReceived(t)&&s((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Hh;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Hh||(Hh={}));class ta{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ta.syncState(this.state,o,u,c),this.pendingDiffs.forEach(p=>{this.state=ta.syncDiff(this.state,p,u,c)}),this.pendingDiffs=[],f()}),this.channel._on(a.diff,{},o=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=ta.syncDiff(this.state,o,u,c),f())}),this.onJoin((o,u,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:c})}),this.onLeave((o,u,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,a,o){const u=this.cloneDeep(t),c=this.transformState(s),f={},p={};return this.map(u,(m,y)=>{c[m]||(p[m]=y)}),this.map(c,(m,y)=>{const g=u[m];if(g){const w=y.map(T=>T.presence_ref),_=g.map(T=>T.presence_ref),x=y.filter(T=>_.indexOf(T.presence_ref)<0),C=g.filter(T=>w.indexOf(T.presence_ref)<0);x.length>0&&(f[m]=x),C.length>0&&(p[m]=C)}else f[m]=y}),this.syncDiff(u,{joins:f,leaves:p},a,o)}static syncDiff(t,s,a,o){const{joins:u,leaves:c}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(u,(f,p)=>{var m;const y=(m=t[f])!==null&&m!==void 0?m:[];if(t[f]=this.cloneDeep(p),y.length>0){const g=t[f].map(_=>_.presence_ref),w=y.filter(_=>g.indexOf(_.presence_ref)<0);t[f].unshift(...w)}a(f,y,p)}),this.map(c,(f,p)=>{let m=t[f];if(!m)return;const y=p.map(g=>g.presence_ref);m=m.filter(g=>y.indexOf(g.presence_ref)<0),t[f]=m,o(f,m,p),m.length===0&&delete t[f]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(a=>s(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,a)=>{const o=t[a];return"metas"in o?s[a]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[a]=o,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Wh;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Wh||(Wh={}));var ra;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(ra||(ra={}));var pn;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(pn||(pn={}));class si{constructor(t,s={config:{}},a){var o,u;if(this.topic=t,this.params=s,this.socket=a,this.bindings={},this.state=St.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Bu(this,$r.join,this.params,this.timeout),this.rejoinTimer=new Kp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=St.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=St.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this._on($r.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new ta(this),this.broadcastEndpointURL=Jp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var a,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==St.closed){const{config:{broadcast:c,presence:f,private:p}}=this.params,m=(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(_=>_.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[ra.PRESENCE]&&this.bindings[ra.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,g={},w={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(_=>t?.(pn.CHANNEL_ERROR,_)),this._onClose(()=>t?.(pn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},g)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:_})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){t?.(pn.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,T=(x=C?.length)!==null&&x!==void 0?x:0,L=[];for(let M=0;M<T;M++){const U=C[M],{filter:{event:K,schema:te,table:Z,filter:V}}=U,k=_&&_[M];if(k&&k.event===K&&si.isFilterValueEqual(k.schema,te)&&si.isFilterValueEqual(k.table,Z)&&si.isFilterValueEqual(k.filter,V))L.push(Object.assign(Object.assign({},U),{id:k.id}));else{this.unsubscribe(),this.state=St.errored,t?.(pn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=L,t&&t(pn.SUBSCRIBED);return}}).receive("error",_=>{this.state=St.errored,t?.(pn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t?.(pn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,a){return this.state===St.joined&&t===ra.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,s,a)}async httpSend(t,s,a={}){var o;if(s==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:s,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const m=await f.json();p=m.error||m.message||p}catch{}return Promise.reject(new Error(p))}async send(t,s={}){var a,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:c}=t,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,f,p;const m=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),m.receive("ok",()=>u("ok")),m.receive("error",()=>u("error")),m.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=St.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($r.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(o=>{a=new Bu(this,$r.leave,{},t),a.receive("ok",()=>{s(),o("ok")}).receive("timeout",()=>{s(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=St.closed,this.bindings={}}async _fetchWithTimeout(t,s,a){const o=new AbortController,u=setTimeout(()=>o.abort(),a),c=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:o.signal}));return clearTimeout(u),c}_push(t,s,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Bu(this,t,s,a);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Ew){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,a){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,a){var o,u;const c=t.toLocaleLowerCase(),{close:f,error:p,leave:m,join:y}=$r;if(a&&[f,p,m,y].indexOf(c)>=0&&a!==this._joinRef())return;let w=this._onMessage(c,s,a);if(s&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var x,C,T;return((x=_.filter)===null||x===void 0?void 0:x.event)==="*"||((T=(C=_.filter)===null||C===void 0?void 0:C.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===c}).map(_=>_.callback(w,a)):(u=this.bindings[c])===null||u===void 0||u.filter(_=>{var x,C,T,L,M,U;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in _){const K=_.id,te=(x=_.filter)===null||x===void 0?void 0:x.event;return K&&((C=s.ids)===null||C===void 0?void 0:C.includes(K))&&(te==="*"||te?.toLocaleLowerCase()===((T=s.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const K=(M=(L=_?.filter)===null||L===void 0?void 0:L.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return K==="*"||K===((U=s?.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===c}).map(_=>{if(typeof w=="object"&&"ids"in w){const x=w.data,{schema:C,table:T,commit_timestamp:L,type:M,errors:U}=x;w=Object.assign(Object.assign({},{schema:C,table:T,commit_timestamp:L,eventType:M,new:{},old:{},errors:U}),this._getPayloadRecords(x))}_.callback(w,a)})}_isClosed(){return this.state===St.closed}_isJoined(){return this.state===St.joined}_isJoining(){return this.state===St.joining}_isLeaving(){return this.state===St.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,a){const o=t.toLocaleLowerCase(),u={type:o,filter:s,callback:a};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(t,s){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===a&&si.isEqual(o.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const a in t)if(t[a]!==s[a])return!1;return!0}static isFilterValueEqual(t,s){return(t??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on($r.close,{},t)}_onError(t){this._on($r.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=St.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=Bh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=Bh(t.columns,t.old_record)),s}}const Hu=()=>{},To={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Nw=[1e3,2e3,5e3,1e4],Aw=1e4,Lw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Iw{constructor(t,s){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=tc,this.transport=null,this.heartbeatIntervalMs=To.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hu,this.ref=0,this.reconnectTimer=null,this.vsn=Fh,this.logger=Hu,this.conn=null,this.sendBuffer=[],this.serializer=new kw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...u)=>o(...u):(...u)=>fetch(...u),!(!((a=s?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${rc.websocket}`,this.httpEndpoint=Jp(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ww.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,a){this.logger(t,s,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Vn.connecting:return ps.Connecting;case Vn.open:return ps.Open;case Vn.closing:return ps.Closing;default:return ps.Closed}}isConnected(){return this.connectionState()===ps.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const a=`realtime:${t}`,o=this.getChannels().find(u=>u.topic===a);if(o)return o;{const u=new si(`realtime:${t}`,s,this);return this.channels.push(u),u}}push(t){const{topic:s,event:a,payload:o,ref:u}=t,c=()=>{this.encode(t,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${s} ${a} (${u})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Sw,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},To.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",m)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:o,payload:u,ref:c}=s,f=c?`(${c})`:"",p=u.status||"";this.log("receive",`${p} ${a} ${o} ${f}`.trim(),u),this.channels.filter(m=>m._isMember(a)).forEach(m=>m._trigger(o,u,c)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Vn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Vn.open||this.conn.readyState===Vn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.accessTokenValue&&(this.channels.forEach(s=>{s.updateJoinPayload({access_token:this.accessTokenValue})}),this.sendBuffer=[],this.channels.forEach(s=>{s._isJoining()&&(s.joinPush.sent=!1,s.joinPush.send())})),this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(s){this.log("error","error in heartbeat callback",s)}}_triggerChanError(){this.channels.forEach(t=>t._trigger($r.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const a=t.match(/\?/)?"&":"?",o=new URLSearchParams(s);return`${t}${a}${o}`}_workerObjectUrl(t){let s;if(t)s=t;else{const a=new Blob([Lw],{type:"application/javascript"});s=URL.createObjectURL(a)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s,a=!1;if(t)s=t,a=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),s=this.accessTokenValue}else s=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(o=>{const u={access_token:s,version:bw};s&&o.updateJoinPayload(u),o.joinedOnce&&o._isJoined()&&o._push($r.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(s)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Kp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},To.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,a,o,u,c,f,p,m,y,g,w,_;switch(this.transport=(s=t?.transport)!==null&&s!==void 0?s:null,this.timeout=(a=t?.timeout)!==null&&a!==void 0?a:tc,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:To.HEARTBEAT_INTERVAL,this.worker=(u=t?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=t?.heartbeatCallback)!==null&&f!==void 0?f:Hu,this.vsn=(p=t?.vsn)!==null&&p!==void 0?p:Fh,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=t?.reconnectAfterMs)!==null&&m!==void 0?m:(x=>Nw[x-1]||Aw),this.vsn){case xw:this.encode=(y=t?.encode)!==null&&y!==void 0?y:((x,C)=>C(JSON.stringify(x))),this.decode=(g=t?.decode)!==null&&g!==void 0?g:((x,C)=>C(JSON.parse(x)));break;case qp:this.encode=(w=t?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(_=t?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var oa=class extends Error{constructor(r,t){super(r),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Dw(r,t,s){const a=new URL(t,r);if(s)for(const[o,u]of Object.entries(s))u!==void 0&&a.searchParams.set(o,u);return a.toString()}async function $w(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function Uw(r){const t=r.fetchImpl??globalThis.fetch;return{async request({method:s,path:a,query:o,body:u,headers:c}){const f=Dw(r.baseUrl,a,o),p=await $w(r.auth),m=await t(f,{method:s,headers:{...u?{"Content-Type":"application/json"}:{},...p,...c},body:u?JSON.stringify(u):void 0}),y=await m.text(),g=(m.headers.get("content-type")||"").includes("application/json"),w=g&&y?JSON.parse(y):y;if(!m.ok){const _=g?w:void 0,x=_?.error;throw new oa(x?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:x?.type,icebergCode:x?.code,details:_})}return{status:m.status,headers:m.headers,data:w}}}}function Po(r){return r.join("")}var Mw=class{constructor(r,t=""){this.client=r,this.prefix=t}async listNamespaces(r){const t=r?{parent:Po(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(r,t){const s={namespace:r.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Po(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Po(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Po(r.namespace)}`}),!0}catch(t){if(t instanceof oa&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(r,t){try{return await this.createNamespace(r,t)}catch(s){if(s instanceof oa&&s.status===409)return;throw s}}};function Gs(r){return r.join("")}var zw=class{constructor(r,t="",s){this.client=r,this.prefix=t,this.accessDelegation=s}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gs(r.namespace)}/tables`})).data.identifiers}async createTable(r,t){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Gs(r.namespace)}/tables`,body:t,headers:s})).data.metadata}async updateTable(r,t){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Gs(r.namespace)}/tables/${r.name}`,body:t});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(r,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Gs(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(r){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gs(r.namespace)}/tables/${r.name}`,headers:t})).data.metadata}async tableExists(r){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Gs(r.namespace)}/tables/${r.name}`,headers:t}),!0}catch(s){if(s instanceof oa&&s.status===404)return!1;throw s}}async createTableIfNotExists(r,t){try{return await this.createTable(r,t)}catch(s){if(s instanceof oa&&s.status===409)return await this.loadTable({namespace:r.namespace,name:t.name});throw s}}},Fw=class{constructor(r){let t="v1";r.catalogName&&(t+=`/${r.catalogName}`);const s=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=Uw({baseUrl:s,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new Mw(this.client,t),this.tableOps=new zw(this.client,t,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,t){return this.namespaceOps.createNamespace(r,t)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,t){return this.tableOps.createTable(r,t)}async updateTable(r,t){return this.tableOps.updateTable(r,t)}async dropTable(r,t){await this.tableOps.dropTable(r,t)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,t){return this.namespaceOps.createNamespaceIfNotExists(r,t)}async createTableIfNotExists(r,t){return this.tableOps.createTableIfNotExists(r,t)}},qo=class extends Error{constructor(r,t="storage",s,a){super(r),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=s,this.statusCode=a}};function Ko(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var Oo=class extends qo{constructor(r,t,s,a="storage"){super(r,a,t,s),this.name=a==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Yp=class extends qo{constructor(r,t,s="storage"){super(r,s),this.name=s==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Bw=r=>r?(...t)=>r(...t):(...t)=>fetch(...t),Hw=r=>{if(typeof r!="object"||r===null)return!1;const t=Object.getPrototypeOf(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},sc=r=>{if(Array.isArray(r))return r.map(s=>sc(s));if(typeof r=="function"||r!==Object(r))return r;const t={};return Object.entries(r).forEach(([s,a])=>{const o=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[o]=sc(a)}),t},Ww=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function la(r){"@babel/helpers - typeof";return la=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},la(r)}function Vw(r,t){if(la(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var a=s.call(r,t);if(la(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function qw(r){var t=Vw(r,"string");return la(t)=="symbol"?t:t+""}function Kw(r,t,s){return(t=qw(t))in r?Object.defineProperty(r,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[t]=s,r}function Vh(r,t){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),s.push.apply(s,a)}return s}function Ce(r){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Vh(Object(s),!0).forEach(function(a){Kw(r,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):Vh(Object(s)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(s,a))})}return r}const qh=r=>{var t;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(t=r.error)===null||t===void 0?void 0:t.message)||JSON.stringify(r)},Gw=async(r,t,s,a)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!s?.noResolveJson){const o=r,u=o.status||500;if(typeof o.json=="function")o.json().then(c=>{const f=c?.statusCode||c?.code||u+"";t(new Oo(qh(c),u,f,a))}).catch(()=>{if(a==="vectors"){const c=u+"";t(new Oo(o.statusText||`HTTP ${u} error`,u,c,a))}else{const c=u+"";t(new Oo(o.statusText||`HTTP ${u} error`,u,c,a))}});else{const c=u+"";t(new Oo(o.statusText||`HTTP ${u} error`,u,c,a))}}else t(new Yp(qh(r),r,a))},Jw=(r,t,s,a)=>{const o={method:r,headers:t?.headers||{}};return r==="GET"||r==="HEAD"||!a?Ce(Ce({},o),s):(Hw(a)?(o.headers=Ce({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(a)):o.body=a,t?.duplex&&(o.duplex=t.duplex),Ce(Ce({},o),s))};async function Yi(r,t,s,a,o,u,c){return new Promise((f,p)=>{r(s,Jw(t,a,o,u)).then(m=>{if(!m.ok)throw m;if(a?.noResolveJson)return m;if(c==="vectors"){const y=m.headers.get("content-type");if(m.headers.get("content-length")==="0"||m.status===204)return{};if(!y||!y.includes("application/json"))return{}}return m.json()}).then(m=>f(m)).catch(m=>Gw(m,p,a,c))})}function Qp(r="storage"){return{get:async(t,s,a,o)=>Yi(t,"GET",s,a,o,void 0,r),post:async(t,s,a,o,u)=>Yi(t,"POST",s,o,u,a,r),put:async(t,s,a,o,u)=>Yi(t,"PUT",s,o,u,a,r),head:async(t,s,a,o)=>Yi(t,"HEAD",s,Ce(Ce({},a),{},{noResolveJson:!0}),o,void 0,r),remove:async(t,s,a,o,u)=>Yi(t,"DELETE",s,o,u,a,r)}}const Yw=Qp("storage"),{get:ua,post:Dr,put:ic,head:Qw,remove:Sc}=Yw,dr=Qp("vectors");var ci=class{constructor(r,t={},s,a="storage"){this.shouldThrowOnError=!1,this.url=r,this.headers=t,this.fetch=Bw(s),this.namespace=a}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,t){return this.headers=Ce(Ce({},this.headers),{},{[r]:t}),this}async handleOperation(r){var t=this;try{return{data:await r(),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ko(s))return{data:null,error:s};throw s}}},Xw=class{constructor(r,t){this.downloadFn=r,this.shouldThrowOnError=t}then(r,t){return this.execute().then(r,t)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(t){if(r.shouldThrowOnError)throw t;if(Ko(t))return{data:null,error:t};throw t}}};let Xp;Xp=Symbol.toStringTag;var Zw=class{constructor(r,t){this.downloadFn=r,this.shouldThrowOnError=t,this[Xp]="BlobDownloadBuilder",this.promise=null}asStream(){return new Xw(this.downloadFn,this.shouldThrowOnError)}then(r,t){return this.getPromise().then(r,t)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(t){if(r.shouldThrowOnError)throw t;if(Ko(t))return{data:null,error:t};throw t}}};const e_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Kh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var t_=class extends ci{constructor(r,t={},s,a){super(r,t,a,"storage"),this.bucketId=s}async uploadOrUpdate(r,t,s,a){var o=this;return o.handleOperation(async()=>{let u;const c=Ce(Ce({},Kh),a);let f=Ce(Ce({},o.headers),r==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&s instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),p&&u.append("metadata",o.encodeMetadata(p)),u.append("",s)):typeof FormData<"u"&&s instanceof FormData?(u=s,u.has("cacheControl")||u.append("cacheControl",c.cacheControl),p&&!u.has("metadata")&&u.append("metadata",o.encodeMetadata(p))):(u=s,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,p&&(f["x-metadata"]=o.toBase64(o.encodeMetadata(p))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!c.duplex&&(c.duplex="half")),a?.headers&&(f=Ce(Ce({},f),a.headers));const m=o._removeEmptyFolders(t),y=o._getFinalPath(m),g=await(r=="PUT"?ic:Dr)(o.fetch,`${o.url}/object/${y}`,u,Ce({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{path:m,id:g.Id,fullPath:g.Key}})}async upload(r,t,s){return this.uploadOrUpdate("POST",r,t,s)}async uploadToSignedUrl(r,t,s,a){var o=this;const u=o._removeEmptyFolders(r),c=o._getFinalPath(u),f=new URL(o.url+`/object/upload/sign/${c}`);return f.searchParams.set("token",t),o.handleOperation(async()=>{let p;const m=Ce({upsert:Kh.upsert},a),y=Ce(Ce({},o.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&s instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",s)):typeof FormData<"u"&&s instanceof FormData?(p=s,p.append("cacheControl",m.cacheControl)):(p=s,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType),{path:u,fullPath:(await ic(o.fetch,f.toString(),p,{headers:y})).Key}})}async createSignedUploadUrl(r,t){var s=this;return s.handleOperation(async()=>{let a=s._getFinalPath(r);const o=Ce({},s.headers);t?.upsert&&(o["x-upsert"]="true");const u=await Dr(s.fetch,`${s.url}/object/upload/sign/${a}`,{},{headers:o}),c=new URL(s.url+u.url),f=c.searchParams.get("token");if(!f)throw new qo("No token returned by API");return{signedUrl:c.toString(),path:r,token:f}})}async update(r,t,s){return this.uploadOrUpdate("PUT",r,t,s)}async move(r,t,s){var a=this;return a.handleOperation(async()=>await Dr(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:r,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:a.headers}))}async copy(r,t,s){var a=this;return a.handleOperation(async()=>({path:(await Dr(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:r,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:a.headers})).Key}))}async createSignedUrl(r,t,s){var a=this;return a.handleOperation(async()=>{let o=a._getFinalPath(r),u=await Dr(a.fetch,`${a.url}/object/sign/${o}`,Ce({expiresIn:t},s?.transform?{transform:s.transform}:{}),{headers:a.headers});const c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{signedUrl:encodeURI(`${a.url}${u.signedURL}${c}`)}})}async createSignedUrls(r,t,s){var a=this;return a.handleOperation(async()=>{const o=await Dr(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:t,paths:r},{headers:a.headers}),u=s?.download?`&download=${s.download===!0?"":s.download}`:"";return o.map(c=>Ce(Ce({},c),{},{signedUrl:c.signedURL?encodeURI(`${a.url}${c.signedURL}${u}`):null}))})}download(r,t,s){const a=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),u=o?`?${o}`:"",c=this._getFinalPath(r),f=()=>ua(this.fetch,`${this.url}/${a}/${c}${u}`,{headers:this.headers,noResolveJson:!0},s);return new Zw(f,this.shouldThrowOnError)}async info(r){var t=this;const s=t._getFinalPath(r);return t.handleOperation(async()=>sc(await ua(t.fetch,`${t.url}/object/info/${s}`,{headers:t.headers})))}async exists(r){var t=this;const s=t._getFinalPath(r);try{return await Qw(t.fetch,`${t.url}/object/${s}`,{headers:t.headers}),{data:!0,error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Ko(a)&&a instanceof Yp){const o=a.originalError;if([400,404].includes(o?.status))return{data:!1,error:a}}throw a}}getPublicUrl(r,t){const s=this._getFinalPath(r),a=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&a.push(o);const u=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&a.push(c);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${s}${f}`)}}}async remove(r){var t=this;return t.handleOperation(async()=>await Sc(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:r},{headers:t.headers}))}async list(r,t,s){var a=this;return a.handleOperation(async()=>{const o=Ce(Ce(Ce({},e_),t),{},{prefix:r||""});return await Dr(a.fetch,`${a.url}/object/list/${a.bucketId}`,o,{headers:a.headers},s)})}async listV2(r,t){var s=this;return s.handleOperation(async()=>{const a=Ce({},r);return await Dr(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,a,{headers:s.headers},t)})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const t=[];return r.width&&t.push(`width=${r.width}`),r.height&&t.push(`height=${r.height}`),r.resize&&t.push(`resize=${r.resize}`),r.format&&t.push(`format=${r.format}`),r.quality&&t.push(`quality=${r.quality}`),t.join("&")}};const r_="2.98.0",wa={"X-Client-Info":`storage-js/${r_}`};var n_=class extends ci{constructor(r,t={},s,a){const o=new URL(r);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const u=o.href.replace(/\/$/,""),c=Ce(Ce({},wa),t);super(u,c,s,"storage")}async listBuckets(r){var t=this;return t.handleOperation(async()=>{const s=t.listBucketOptionsToQueryString(r);return await ua(t.fetch,`${t.url}/bucket${s}`,{headers:t.headers})})}async getBucket(r){var t=this;return t.handleOperation(async()=>await ua(t.fetch,`${t.url}/bucket/${r}`,{headers:t.headers}))}async createBucket(r,t={public:!1}){var s=this;return s.handleOperation(async()=>await Dr(s.fetch,`${s.url}/bucket`,{id:r,name:r,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}))}async updateBucket(r,t){var s=this;return s.handleOperation(async()=>await ic(s.fetch,`${s.url}/bucket/${r}`,{id:r,name:r,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}))}async emptyBucket(r){var t=this;return t.handleOperation(async()=>await Dr(t.fetch,`${t.url}/bucket/${r}/empty`,{},{headers:t.headers}))}async deleteBucket(r){var t=this;return t.handleOperation(async()=>await Sc(t.fetch,`${t.url}/bucket/${r}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(r){const t={};return r&&("limit"in r&&(t.limit=String(r.limit)),"offset"in r&&(t.offset=String(r.offset)),r.search&&(t.search=r.search),r.sortColumn&&(t.sortColumn=r.sortColumn),r.sortOrder&&(t.sortOrder=r.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},s_=class extends ci{constructor(r,t={},s){const a=r.replace(/\/$/,""),o=Ce(Ce({},wa),t);super(a,o,s,"storage")}async createBucket(r){var t=this;return t.handleOperation(async()=>await Dr(t.fetch,`${t.url}/bucket`,{name:r},{headers:t.headers}))}async listBuckets(r){var t=this;return t.handleOperation(async()=>{const s=new URLSearchParams;r?.limit!==void 0&&s.set("limit",r.limit.toString()),r?.offset!==void 0&&s.set("offset",r.offset.toString()),r?.sortColumn&&s.set("sortColumn",r.sortColumn),r?.sortOrder&&s.set("sortOrder",r.sortOrder),r?.search&&s.set("search",r.search);const a=s.toString(),o=a?`${t.url}/bucket?${a}`:`${t.url}/bucket`;return await ua(t.fetch,o,{headers:t.headers})})}async deleteBucket(r){var t=this;return t.handleOperation(async()=>await Sc(t.fetch,`${t.url}/bucket/${r}`,{},{headers:t.headers}))}from(r){var t=this;if(!Ww(r))throw new qo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new Fw({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(s,{get(o,u){const c=o[u];return typeof c!="function"?c:async(...f)=>{try{return{data:await c.apply(o,f),error:null}}catch(p){if(a)throw p;return{data:null,error:p}}}}})}},i_=class extends ci{constructor(r,t={},s){const a=r.replace(/\/$/,""),o=Ce(Ce({},wa),{},{"Content-Type":"application/json"},t);super(a,o,s,"vectors")}async createIndex(r){var t=this;return t.handleOperation(async()=>await dr.post(t.fetch,`${t.url}/CreateIndex`,r,{headers:t.headers})||{})}async getIndex(r,t){var s=this;return s.handleOperation(async()=>await dr.post(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:r,indexName:t},{headers:s.headers}))}async listIndexes(r){var t=this;return t.handleOperation(async()=>await dr.post(t.fetch,`${t.url}/ListIndexes`,r,{headers:t.headers}))}async deleteIndex(r,t){var s=this;return s.handleOperation(async()=>await dr.post(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:r,indexName:t},{headers:s.headers})||{})}},a_=class extends ci{constructor(r,t={},s){const a=r.replace(/\/$/,""),o=Ce(Ce({},wa),{},{"Content-Type":"application/json"},t);super(a,o,s,"vectors")}async putVectors(r){var t=this;if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await dr.post(t.fetch,`${t.url}/PutVectors`,r,{headers:t.headers})||{})}async getVectors(r){var t=this;return t.handleOperation(async()=>await dr.post(t.fetch,`${t.url}/GetVectors`,r,{headers:t.headers}))}async listVectors(r){var t=this;if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return t.handleOperation(async()=>await dr.post(t.fetch,`${t.url}/ListVectors`,r,{headers:t.headers}))}async queryVectors(r){var t=this;return t.handleOperation(async()=>await dr.post(t.fetch,`${t.url}/QueryVectors`,r,{headers:t.headers}))}async deleteVectors(r){var t=this;if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await dr.post(t.fetch,`${t.url}/DeleteVectors`,r,{headers:t.headers})||{})}},o_=class extends ci{constructor(r,t={},s){const a=r.replace(/\/$/,""),o=Ce(Ce({},wa),{},{"Content-Type":"application/json"},t);super(a,o,s,"vectors")}async createBucket(r){var t=this;return t.handleOperation(async()=>await dr.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:t.headers})||{})}async getBucket(r){var t=this;return t.handleOperation(async()=>await dr.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:r},{headers:t.headers}))}async listBuckets(r={}){var t=this;return t.handleOperation(async()=>await dr.post(t.fetch,`${t.url}/ListVectorBuckets`,r,{headers:t.headers}))}async deleteBucket(r){var t=this;return t.handleOperation(async()=>await dr.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:t.headers})||{})}},l_=class extends o_{constructor(r,t={}){super(r,t.headers||{},t.fetch)}from(r){return new u_(this.url,this.headers,r,this.fetch)}async createBucket(r){var t=()=>super.createBucket,s=this;return t().call(s,r)}async getBucket(r){var t=()=>super.getBucket,s=this;return t().call(s,r)}async listBuckets(r={}){var t=()=>super.listBuckets,s=this;return t().call(s,r)}async deleteBucket(r){var t=()=>super.deleteBucket,s=this;return t().call(s,r)}},u_=class extends i_{constructor(r,t,s,a){super(r,t,a),this.vectorBucketName=s}async createIndex(r){var t=()=>super.createIndex,s=this;return t().call(s,Ce(Ce({},r),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(r={}){var t=()=>super.listIndexes,s=this;return t().call(s,Ce(Ce({},r),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(r){var t=()=>super.getIndex,s=this;return t().call(s,s.vectorBucketName,r)}async deleteIndex(r){var t=()=>super.deleteIndex,s=this;return t().call(s,s.vectorBucketName,r)}index(r){return new c_(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},c_=class extends a_{constructor(r,t,s,a,o){super(r,t,o),this.vectorBucketName=s,this.indexName=a}async putVectors(r){var t=()=>super.putVectors,s=this;return t().call(s,Ce(Ce({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(r){var t=()=>super.getVectors,s=this;return t().call(s,Ce(Ce({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(r={}){var t=()=>super.listVectors,s=this;return t().call(s,Ce(Ce({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(r){var t=()=>super.queryVectors,s=this;return t().call(s,Ce(Ce({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(r){var t=()=>super.deleteVectors,s=this;return t().call(s,Ce(Ce({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},d_=class extends n_{constructor(r,t={},s,a){super(r,t,s,a)}from(r){return new t_(this.url,this.headers,r,this.fetch)}get vectors(){return new l_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new s_(this.url+"/iceberg",this.headers,this.fetch)}};const Zp="2.98.0",ti=30*1e3,ac=3,Wu=ac*ti,f_="http://localhost:9999",h_="supabase.auth.token",p_={"X-Client-Info":`gotrue-js/${Zp}`},oc="X-Supabase-Api-Version",em={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},m_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,g_=600*1e3;class ca extends Error{constructor(t,s,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=a}}function ge(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class v_ extends ca{constructor(t,s,a){super(t,s,a),this.name="AuthApiError",this.status=s,this.code=a}}function y_(r){return ge(r)&&r.name==="AuthApiError"}class ms extends ca{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class yn extends ca{constructor(t,s,a,o){super(t,a,o),this.name=s,this.status=a}}class ur extends yn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Vu(r){return ge(r)&&r.name==="AuthSessionMissingError"}class Js extends yn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class jo extends yn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class No extends yn{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function w_(r){return ge(r)&&r.name==="AuthImplicitGrantRedirectError"}class Gh extends yn{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class __ extends yn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class lc extends yn{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function qu(r){return ge(r)&&r.name==="AuthRetryableFetchError"}class Jh extends yn{constructor(t,s,a){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=a}}class uc extends yn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Uo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Yh=` 	
\r=`.split(""),b_=(()=>{const r=new Array(128);for(let t=0;t<r.length;t+=1)r[t]=-1;for(let t=0;t<Yh.length;t+=1)r[Yh[t].charCodeAt(0)]=-2;for(let t=0;t<Uo.length;t+=1)r[Uo[t].charCodeAt(0)]=t;return r})();function Qh(r,t,s){if(r!==null)for(t.queue=t.queue<<8|r,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;s(Uo[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;s(Uo[a]),t.queuedBits-=6}}function tm(r,t,s){const a=b_[r];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Xh(r){const t=[],s=c=>{t.push(String.fromCodePoint(c))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=c=>{E_(c,a,s)};for(let c=0;c<r.length;c+=1)tm(r.charCodeAt(c),o,u);return t.join("")}function x_(r,t){if(r<=127){t(r);return}else if(r<=2047){t(192|r>>6),t(128|r&63);return}else if(r<=65535){t(224|r>>12),t(128|r>>6&63),t(128|r&63);return}else if(r<=1114111){t(240|r>>18),t(128|r>>12&63),t(128|r>>6&63),t(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function S_(r,t){for(let s=0;s<r.length;s+=1){let a=r.charCodeAt(s);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(r.charCodeAt(s+1)-56320&65535|o)+65536,s+=1}x_(a,t)}}function E_(r,t,s){if(t.utf8seq===0){if(r<=127){s(r);return}for(let a=1;a<6;a+=1)if((r>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=r&31;else if(t.utf8seq===3)t.codepoint=r&15;else if(t.utf8seq===4)t.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|r&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function ai(r){const t=[],s={queue:0,queuedBits:0},a=o=>{t.push(o)};for(let o=0;o<r.length;o+=1)tm(r.charCodeAt(o),s,a);return new Uint8Array(t)}function k_(r){const t=[];return S_(r,s=>t.push(s)),new Uint8Array(t)}function vs(r){const t=[],s={queue:0,queuedBits:0},a=o=>{t.push(o)};return r.forEach(o=>Qh(o,s,a)),Qh(null,s,a),t.join("")}function R_(r){return Math.round(Date.now()/1e3)+r}function C_(){return Symbol("auth-callback")}const Lt=()=>typeof window<"u"&&typeof document<"u",ds={tested:!1,writable:!1},rm=()=>{if(!Lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ds.tested)return ds.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),ds.tested=!0,ds.writable=!0}catch{ds.tested=!0,ds.writable=!1}return ds.writable};function T_(r){const t={},s=new URL(r);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((o,u)=>{t[u]=o})}catch{}return s.searchParams.forEach((a,o)=>{t[o]=a}),t}const nm=r=>r?(...t)=>r(...t):(...t)=>fetch(...t),P_=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",ri=async(r,t,s)=>{await r.setItem(t,JSON.stringify(s))},fs=async(r,t)=>{const s=await r.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},At=async(r,t)=>{await r.removeItem(t)};class Go{constructor(){this.promise=new Go.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Go.promiseConstructor=Promise;function Ao(r){const t=r.split(".");if(t.length!==3)throw new uc("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!m_.test(t[a]))throw new uc("JWT not in base64url format");return{header:JSON.parse(Xh(t[0])),payload:JSON.parse(Xh(t[1])),signature:ai(t[2]),raw:{header:t[0],payload:t[1]}}}async function O_(r){return await new Promise(t=>{setTimeout(()=>t(null),r)})}function j_(r,t){return new Promise((a,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await r(u);if(!t(u,null,c)){a(c);return}}catch(c){if(!t(u,c)){o(c);return}}})()})}function N_(r){return("0"+r.toString(16)).substr(-2)}function A_(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=s.length;let o="";for(let u=0;u<56;u++)o+=s.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(t),Array.from(t,N_).join("")}async function L_(r){const s=new TextEncoder().encode(r),a=await crypto.subtle.digest("SHA-256",s),o=new Uint8Array(a);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function I_(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const s=await L_(r);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ys(r,t,s=!1){const a=A_();let o=a;s&&(o+="/PASSWORD_RECOVERY"),await ri(r,`${t}-code-verifier`,o);const u=await I_(a);return[u,a===u?"plain":"s256"]}const D_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $_(r){const t=r.headers.get(oc);if(!t||!t.match(D_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function U_(r){if(!r)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(r<=t)throw new Error("JWT has expired")}function M_(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const z_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qs(r){if(!z_.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ku(){const r={};return new Proxy(r,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function F_(r,t){return new Proxy(r,{get:(s,a,o)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const u=a.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,a,o)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(s,a,o)}})}function Zh(r){return JSON.parse(JSON.stringify(r))}const hs=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),B_=[502,503,504];async function ep(r){var t;if(!P_(r))throw new lc(hs(r),0);if(B_.includes(r.status))throw new lc(hs(r),r.status);let s;try{s=await r.json()}catch(u){throw new ms(hs(u),u)}let a;const o=$_(r);if(o&&o.getTime()>=em["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?a=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(a=s.error_code),a){if(a==="weak_password")throw new Jh(hs(s),r.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new ur}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new Jh(hs(s),r.status,s.weak_password.reasons);throw new v_(hs(s),r.status||500,a)}const H_=(r,t,s,a)=>{const o={method:r,headers:t?.headers||{}};return r==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),s))};async function Pe(r,t,s,a){var o;const u=Object.assign({},a?.headers);u[oc]||(u[oc]=em["2024-01-01"].name),a?.jwt&&(u.Authorization=`Bearer ${a.jwt}`);const c=(o=a?.query)!==null&&o!==void 0?o:{};a?.redirectTo&&(c.redirect_to=a.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await W_(r,t,s+f,{headers:u,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(p):{data:Object.assign({},p),error:null}}async function W_(r,t,s,a,o,u){const c=H_(t,a,o,u);let f;try{f=await r(s,Object.assign({},c))}catch(p){throw console.error(p),new lc(hs(p),0)}if(f.ok||await ep(f),a?.noResolveJson)return f;try{return await f.json()}catch(p){await ep(p)}}function Ir(r){var t;let s=null;K_(r)&&(s=Object.assign({},r),r.expires_at||(s.expires_at=R_(r.expires_in)));const a=(t=r.user)!==null&&t!==void 0?t:r;return{data:{session:s,user:a},error:null}}function tp(r){const t=Ir(r);return!t.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0)&&(t.data.weak_password=r.weak_password),t}function Gn(r){var t;return{data:{user:(t=r.user)!==null&&t!==void 0?t:r},error:null}}function V_(r){return{data:r,error:null}}function q_(r){const{action_link:t,email_otp:s,hashed_token:a,redirect_to:o,verification_type:u}=r,c=Vo(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:s,hashed_token:a,redirect_to:o,verification_type:u},p=Object.assign({},c);return{data:{properties:f,user:p},error:null}}function rp(r){return r}function K_(r){return r.access_token&&r.refresh_token&&r.expires_in}const Gu=["global","local","others"];class G_{constructor({url:t="",headers:s={},fetch:a}){this.url=t,this.headers=s,this.fetch=nm(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,s=Gu[0]){if(Gu.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gu.join(", ")}`);try{return await Pe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ge(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,s={}){try{return await Pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Gn})}catch(a){if(ge(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:s}=t,a=Vo(t,["options"]),o=Object.assign(Object.assign({},a),s);return"newEmail"in a&&(o.new_email=a?.newEmail,delete o.newEmail),await Pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:q_,redirectTo:s?.redirectTo})}catch(s){if(ge(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await Pe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Gn})}catch(s){if(ge(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,a,o,u,c,f,p;try{const m={nextPage:null,lastPage:0,total:0},y=await Pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(u=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:rp});if(y.error)throw y.error;const g=await y.json(),w=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(p=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(x=>{const C=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(x.split(";")[1].split("=")[1]);m[`${T}Page`]=C}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},g),m),error:null}}catch(m){if(ge(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){Qs(t);try{return await Pe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Gn})}catch(s){if(ge(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){Qs(t);try{return await Pe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Gn})}catch(a){if(ge(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,s=!1){Qs(t);try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Gn})}catch(a){if(ge(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){Qs(t.userId);try{const{data:s,error:a}=await Pe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:s,error:a}}catch(s){if(ge(s))return{data:null,error:s};throw s}}async _deleteFactor(t){Qs(t.userId),Qs(t.id);try{return{data:await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}}async _listOAuthClients(t){var s,a,o,u,c,f,p;try{const m={nextPage:null,lastPage:0,total:0},y=await Pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(u=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:rp});if(y.error)throw y.error;const g=await y.json(),w=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(p=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(x=>{const C=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(x.split(";")[1].split("=")[1]);m[`${T}Page`]=C}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},g),m),error:null}}catch(m){if(ge(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await Pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ge(s))return{data:null,error:s};throw s}}async _getOAuthClient(t){try{return await Pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ge(s))return{data:null,error:s};throw s}}async _updateOAuthClient(t,s){try{return await Pe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:s,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(ge(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(t){try{return await Pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ge(s))return{data:null,error:s};throw s}}}function np(r={}){return{getItem:t=>r[t]||null,setItem:(t,s)=>{r[t]=s},removeItem:t=>{delete r[t]}}}const fn={debug:!!(globalThis&&rm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class J_ extends sm{}async function Y_(r,t,s){fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,t);const a=new globalThis.AbortController;t>0&&setTimeout(()=>{a.abort(),fn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(r,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,o.name);try{return await s()}finally{fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,o.name)}}else{if(t===0)throw fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new J_(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(fn.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}})}catch(o){if(o?.name==="AbortError"&&t>0)return fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire timeout, recovering by stealing lock",r),console.warn(`@supabase/gotrue-js: Lock "${r}" was not released within ${t}ms. This may indicate an orphaned lock from a component unmount (e.g., React Strict Mode). Forcefully acquiring the lock to recover.`),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,{mode:"exclusive",steal:!0},async u=>{if(u){fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: recovered (stolen)",r,u.name);try{return await s()}finally{fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released (stolen)",r,u.name)}}else return console.warn("@supabase/gotrue-js: Navigator LockManager returned null lock even with steal: true"),await s()}));throw o}}function Q_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function im(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function X_(r){return parseInt(r,16)}function Z_(r){const t=new TextEncoder().encode(r);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function eb(r){var t;const{chainId:s,domain:a,expirationTime:o,issuedAt:u=new Date,nonce:c,notBefore:f,requestId:p,resources:m,scheme:y,uri:g,version:w}=r;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((t=r.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const _=im(r.address),x=y?`${y}://${a}`:a,C=r.statement?`${r.statement}
`:"",T=`${x} wants you to sign in with your Ethereum account:
${_}

${C}`;let L=`URI: ${g}
Version: ${w}
Chain ID: ${s}${c?`
Nonce: ${c}`:""}
Issued At: ${u.toISOString()}`;if(o&&(L+=`
Expiration Time: ${o.toISOString()}`),f&&(L+=`
Not Before: ${f.toISOString()}`),p&&(L+=`
Request ID: ${p}`),m){let M=`
Resources:`;for(const U of m){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);M+=`
- ${U}`}L+=M}return`${T}
${L}`}class vt extends Error{constructor({message:t,code:s,cause:a,name:o}){var u;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(u=o??(a instanceof Error?a.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=s}}class Mo extends vt{constructor(t,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:t}),this.name="WebAuthnUnknownError",this.originalError=s}}function tb({error:r,options:t}){var s,a,o;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(t.signal instanceof AbortSignal)return new vt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((s=u.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new vt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(t.mediation==="conditional"&&((a=u.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new vt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new vt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new vt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new vt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return u.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new vt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new vt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const c=window.location.hostname;if(am(c)){if(u.rp.id!==c)return new vt({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new vt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new vt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function rb({error:r,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(t.signal instanceof AbortSignal)return new vt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new vt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const a=window.location.hostname;if(am(a)){if(s.rpId!==a)return new vt({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new vt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class nb{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const sb=new nb;function ib(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:t,user:s,excludeCredentials:a}=r,o=Vo(r,["challenge","user","excludeCredentials"]),u=ai(t).buffer,c=Object.assign(Object.assign({},s),{id:ai(s.id).buffer}),f=Object.assign(Object.assign({},o),{challenge:u,user:c});if(a&&a.length>0){f.excludeCredentials=new Array(a.length);for(let p=0;p<a.length;p++){const m=a[p];f.excludeCredentials[p]=Object.assign(Object.assign({},m),{id:ai(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function ab(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:t,allowCredentials:s}=r,a=Vo(r,["challenge","allowCredentials"]),o=ai(t).buffer,u=Object.assign(Object.assign({},a),{challenge:o});if(s&&s.length>0){u.allowCredentials=new Array(s.length);for(let c=0;c<s.length;c++){const f=s[c];u.allowCredentials[c]=Object.assign(Object.assign({},f),{id:ai(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function ob(r){var t;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r;return{id:r.id,rawId:r.id,response:{attestationObject:vs(new Uint8Array(r.response.attestationObject)),clientDataJSON:vs(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function lb(r){var t;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r,a=r.getClientExtensionResults(),o=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:vs(new Uint8Array(o.authenticatorData)),clientDataJSON:vs(new Uint8Array(o.clientDataJSON)),signature:vs(new Uint8Array(o.signature)),userHandle:o.userHandle?vs(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function am(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function sp(){var r,t;return!!(Lt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function ub(r){try{const t=await navigator.credentials.create(r);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Mo("Browser returned unexpected credential type",t)}:{data:null,error:new Mo("Empty credential response",t)}}catch(t){return{data:null,error:tb({error:t,options:r})}}}async function cb(r){try{const t=await navigator.credentials.get(r);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Mo("Browser returned unexpected credential type",t)}:{data:null,error:new Mo("Empty credential response",t)}}catch(t){return{data:null,error:rb({error:t,options:r})}}}const db={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},fb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function zo(...r){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),s=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),a={};for(const o of r)if(o)for(const u in o){const c=o[u];if(c!==void 0)if(Array.isArray(c))a[u]=c;else if(s(c))a[u]=c;else if(t(c)){const f=a[u];t(f)?a[u]=zo(f,c):a[u]=zo(c)}else a[u]=c}return a}function hb(r,t){return zo(db,r,t||{})}function pb(r,t){return zo(fb,r,t||{})}class mb{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:s,friendlyName:a,signal:o},u){var c;try{const{data:f,error:p}=await this.client.mfa.challenge({factorId:t,webauthn:s});if(!f)return{data:null,error:p};const m=o??sb.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:y}=f.webauthn.credential_options.publicKey;if(!y.name){const g=a;if(g)y.name=`${y.id}:${g}`;else{const _=(await this.client.getUser()).data.user,x=((c=_?.user_metadata)===null||c===void 0?void 0:c.name)||_?.email||_?.id||"User";y.name=`${y.id}:${x}`}}y.displayName||(y.displayName=y.name)}switch(f.webauthn.type){case"create":{const y=hb(f.webauthn.credential_options.publicKey,u?.create),{data:g,error:w}=await ub({publicKey:y,signal:m});return g?{data:{factorId:t,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:g}},error:null}:{data:null,error:w}}case"request":{const y=pb(f.webauthn.credential_options.publicKey,u?.request),{data:g,error:w}=await cb(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:y,signal:m}));return g?{data:{factorId:t,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:g}},error:null}:{data:null,error:w}}}}catch(f){return ge(f)?{data:null,error:f}:{data:null,error:new ms("Unexpected error in challenge",f)}}}async _verify({challengeId:t,factorId:s,webauthn:a}){return this.client.mfa.verify({factorId:s,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!s)return{data:null,error:new ca("rpId is required for WebAuthn authentication")};try{if(!sp())return{data:null,error:new ms("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:t,webauthn:{rpId:s,rpOrigins:a},signal:o},{request:u});if(!c)return{data:null,error:f};const{webauthn:p}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:p.type,rpId:s,rpOrigins:a,credential_response:p.credential_response}})}catch(c){return ge(c)?{data:null,error:c}:{data:null,error:new ms("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!s)return{data:null,error:new ca("rpId is required for WebAuthn registration")};try{if(!sp())return{data:null,error:new ms("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(y=>{var g;return(g=y.data)===null||g===void 0?void 0:g.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===t&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:f};const{data:p,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:s,rpOrigins:a},signal:o},{create:u});return p?this._verify({factorId:c.id,challengeId:p.challengeId,webauthn:{rpId:s,rpOrigins:a,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:m}}catch(c){return ge(c)?{data:null,error:c}:{data:null,error:new ms("Unexpected error in register",c)}}}}Q_();const gb={url:f_,storageKey:h_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:p_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:5e3,skipAutoInitialize:!1};async function ip(r,t,s){return await s()}const Xs={};class da{get jwks(){var t,s;return(s=(t=Xs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){Xs[this.storageKey]=Object.assign(Object.assign({},Xs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=Xs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Xs[this.storageKey]=Object.assign(Object.assign({},Xs[this.storageKey]),{cachedAt:t})}constructor(t){var s,a,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},gb),t);if(this.storageKey=u.storageKey,this.instanceID=(s=da.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,da.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&Lt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new G_({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=nm(u.fetch),this.lock=u.lock||ip,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&Lt()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=Y_:this.lock=ip,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new mb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:rm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=np(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=np(this.memoryStorage)),Lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c);try{await this._notifyAllSubscribers(c.data.event,c.data.session,!1)}catch(f){this._debug("#broadcastChannel","error",f)}})}u.skipAutoInitialize||this.initialize().catch(c=>{this._debug("#initialize()","error",c)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Zp}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let s={},a="none";if(Lt()&&(s=T_(window.location.href),this._isImplicitGrantCallback(s)?a="implicit":await this._isPKCECallback(s)&&(a="pkce")),Lt()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:u}=await this._getSessionFromURL(s,a);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),w_(u)){const p=(t=u.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:c,redirectType:f}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ge(s)?this._returnResult({error:s}):this._returnResult({error:new ms("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,a,o;try{const u=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(s=t?.options)===null||s===void 0?void 0:s.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ir}),{data:c,error:f}=u;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(u){if(ge(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var s,a,o;try{let u;if("email"in t){const{email:y,password:g,options:w}=t;let _=null,x=null;this.flowType==="pkce"&&([_,x]=await Ys(this.storage,this.storageKey)),u=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:y,password:g,data:(s=w?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:_,code_challenge_method:x},xform:Ir})}else if("phone"in t){const{phone:y,password:g,options:w}=t;u=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:g,data:(a=w?.data)!==null&&a!==void 0?a:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Ir})}else throw new jo("You must provide either an email or phone number and a password");const{data:c,error:f}=u;if(f||!c)return await At(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(u){if(await At(this.storage,`${this.storageKey}-code-verifier`),ge(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let s;if("email"in t){const{email:u,password:c,options:f}=t;s=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:tp})}else if("phone"in t){const{phone:u,password:c,options:f}=t;s=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:tp})}else throw new jo("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!a||!a.session||!a.user){const u=new Js;return this._returnResult({data:{user:null,session:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(s){if(ge(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(t){var s,a,o,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;switch(s){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(t){var s,a,o,u,c,f,p,m,y,g,w;let _,x;if("message"in t)_=t.message,x=t.signature;else{const{chain:C,wallet:T,statement:L,options:M}=t;let U;if(Lt())if(typeof T=="object")U=T;else{const ne=window;if("ethereum"in ne&&typeof ne.ethereum=="object"&&"request"in ne.ethereum&&typeof ne.ethereum.request=="function")U=ne.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=T}const K=new URL((s=M?.url)!==null&&s!==void 0?s:window.location.href),te=await U.request({method:"eth_requestAccounts"}).then(ne=>ne).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!te||te.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Z=im(te[0]);let V=(a=M?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!V){const ne=await U.request({method:"eth_chainId"});V=X_(ne)}const k={domain:K.host,address:Z,statement:L,uri:K.href,version:"1",chainId:V,nonce:(o=M?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(u=M?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=M?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=M?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(m=M?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(y=M?.signInWithEthereum)===null||y===void 0?void 0:y.resources};_=eb(k),x=await U.request({method:"personal_sign",params:[Z_(_),Z]})}try{const{data:C,error:T}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:x},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Ir});if(T)throw T;if(!C||!C.session||!C.user){const L=new Js;return this._returnResult({data:{user:null,session:null},error:L})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:T})}catch(C){if(ge(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async signInWithSolana(t){var s,a,o,u,c,f,p,m,y,g,w,_;let x,C;if("message"in t)x=t.message,C=t.signature;else{const{chain:T,wallet:L,statement:M,options:U}=t;let K;if(Lt())if(typeof L=="object")K=L;else{const Z=window;if("solana"in Z&&typeof Z.solana=="object"&&("signIn"in Z.solana&&typeof Z.solana.signIn=="function"||"signMessage"in Z.solana&&typeof Z.solana.signMessage=="function"))K=Z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");K=L}const te=new URL((s=U?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in K&&K.signIn){const Z=await K.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U?.signInWithSolana),{version:"1",domain:te.host,uri:te.href}),M?{statement:M}:null));let V;if(Array.isArray(Z)&&Z[0]&&typeof Z[0]=="object")V=Z[0];else if(Z&&typeof Z=="object"&&"signedMessage"in Z&&"signature"in Z)V=Z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)x=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),C=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in K)||typeof K.signMessage!="function"||!("publicKey"in K)||typeof K!="object"||!K.publicKey||!("toBase58"in K.publicKey)||typeof K.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${te.host} wants you to sign in with your Solana account:`,K.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${te.href}`,`Issued At: ${(o=(a=U?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=U?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((c=U?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((f=U?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((p=U?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((m=U?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((g=(y=U?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||g===void 0)&&g.length?["Resources",...U.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const Z=await K.signMessage(new TextEncoder().encode(x),"utf8");if(!Z||!(Z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=Z}}try{const{data:T,error:L}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:vs(C)},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Ir});if(L)throw L;if(!T||!T.session||!T.user){const M=new Js;return this._returnResult({data:{user:null,session:null},error:M})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:L})}catch(T){if(ge(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const s=await fs(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(s??"").split("/");try{if(!a&&this.flowType==="pkce")throw new __;const{data:u,error:c}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Ir});if(await At(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!u||!u.session||!u.user){const f=new Js;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:c})}catch(u){if(await At(this.storage,`${this.storageKey}-code-verifier`),ge(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:s,provider:a,token:o,access_token:u,nonce:c}=t,f=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Ir}),{data:p,error:m}=f;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p||!p.session||!p.user){const y=new Js;return this._returnResult({data:{user:null,session:null},error:y})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:m})}catch(s){if(ge(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(t){var s,a,o,u,c;try{if("email"in t){const{email:f,options:p}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Ys(this.storage,this.storageKey));const{error:g}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(s=p?.data)!==null&&s!==void 0?s:{},create_user:(a=p?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:f,options:p}=t,{data:m,error:y}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(o=p?.data)!==null&&o!==void 0?o:{},create_user:(u=p?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(c=p?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:y})}throw new jo("You must provide either an email or phone number.")}catch(f){if(await At(this.storage,`${this.storageKey}-code-verifier`),ge(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(t){var s,a;try{let o,u;"options"in t&&(o=(s=t.options)===null||s===void 0?void 0:s.redirectTo,u=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:c,error:f}=await Pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:Ir});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,m=c.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(o){if(ge(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var s,a,o,u,c;try{let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Ys(this.storage,this.storageKey));const m=await Pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:V_});return!((u=m.data)===null||u===void 0)&&u.url&&Lt()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(f){if(await At(this.storage,`${this.storageKey}-code-verifier`),ge(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:a}=t;if(a)throw a;if(!s)throw new ur;const{error:o}=await Pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(ge(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:a,type:o,options:u}=t,{error:c}=await Pe(this.fetch,"POST",s,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:a,type:o,options:u}=t,{data:c,error:f}=await Pe(this.fetch,"POST",s,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:f})}throw new jo("You must provide either an email or phone number and a type")}catch(s){if(ge(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await s()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=s();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await fs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Wu:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const c=await fs(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=Ku()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=F_(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(t){try{return t?await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Gn}):await this._useSession(async s=>{var a,o,u;const{data:c,error:f}=s;if(f)throw f;return!(!((a=c.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ur}:await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:Gn})})}catch(s){if(ge(s))return Vu(s)&&(await this._removeSession(),await At(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async a=>{const{data:o,error:u}=a;if(u)throw u;if(!o.session)throw new ur;const c=o.session;let f=null,p=null;this.flowType==="pkce"&&t.email!=null&&([f,p]=await Ys(this.storage,this.storageKey));const{data:m,error:y}=await Pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:p}),jwt:c.access_token,xform:Gn});if(y)throw y;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(a){if(await At(this.storage,`${this.storageKey}-code-verifier`),ge(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ur;const s=Date.now()/1e3;let a=s,o=!0,u=null;const{payload:c}=Ao(t.access_token);if(c.exp&&(a=c.exp,o=a<=s),o){const{data:f,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:p}=await this._getUser(t.access_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});u={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:a-s,expires_at:a},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(s){if(ge(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var a;if(!t){const{data:c,error:f}=s;if(f)throw f;t=(a=c.session)!==null&&a!==void 0?a:void 0}if(!t?.refresh_token)throw new ur;const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(ge(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(t,s){try{if(!Lt())throw new No("No browser detected.");if(t.error||t.error_description||t.error_code)throw new No(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Gh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new No("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Gh("No code detected.");const{data:M,error:U}=await this._exchangeCodeForSession(t.code);if(U)throw U;const K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:u,refresh_token:c,expires_in:f,expires_at:p,token_type:m}=t;if(!u||!f||!c||!m)throw new No("No session defined in URL");const y=Math.round(Date.now()/1e3),g=parseInt(f);let w=y+g;p&&(w=parseInt(p));const _=w-y;_*1e3<=ti&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${g}s`);const x=w-g;y-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,w,y):y-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,w,y);const{data:C,error:T}=await this._getUser(u);if(T)throw T;const L={provider_token:a,provider_refresh_token:o,access_token:u,expires_in:g,expires_at:w,refresh_token:c,token_type:m,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:L,redirectType:t.type},error:null})}catch(a){if(ge(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await fs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var a;const{data:o,error:u}=s;if(u&&!Vu(u))return this._returnResult({error:u});const c=(a=o.session)===null||a===void 0?void 0:a.access_token;if(c){const{error:f}=await this.admin.signOut(c,t);if(f&&!(y_(f)&&(f.status===404||f.status===401||f.status===403)||Vu(f)))return this._returnResult({error:f})}return t!=="others"&&(await this._removeSession(),await At(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const s=C_(),a={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async s=>{var a,o;try{const{data:{session:u},error:c}=s;if(c)throw c;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,s={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await Ys(this.storage,this.storageKey,!0));try{return await Pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(await At(this.storage,`${this.storageKey}-code-verifier`),ge(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:s,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(s){if(ge(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var s;try{const{data:a,error:o}=await this._useSession(async u=>{var c,f,p,m,y;const{data:g,error:w}=u;if(w)throw w;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Pe(this.fetch,"GET",_,{headers:this.headers,jwt:(y=(m=g.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return Lt()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:t.provider,url:a?.url},error:null})}catch(a){if(ge(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async s=>{var a;try{const{error:o,data:{session:u}}=s;if(o)throw o;const{options:c,provider:f,token:p,access_token:m,nonce:y}=t,g=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=u?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:f,id_token:p,access_token:m,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Ir}),{data:w,error:_}=g;return _?this._returnResult({data:{user:null,session:null},error:_}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Js}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:_}))}catch(o){if(await At(this.storage,`${this.storageKey}-code-verifier`),ge(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async s=>{var a,o;const{data:u,error:c}=s;if(c)throw c;return await Pe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(s){if(ge(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const a=Date.now();return await j_(async o=>(o>0&&await O_(200*Math.pow(2,o-1)),this._debug(s,"refreshing attempt",o),await Pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ir})),(o,u)=>{const c=200*Math.pow(2,o);return u&&qu(u)&&Date.now()+c-a<ti})}catch(a){if(this._debug(s,"error",a),ge(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",a),Lt()&&!s.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,s;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const o=await fs(this.storage,this.storageKey);if(o&&this.userStorage){let c=await fs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await ri(this.userStorage,this.storageKey+"-user",c)),o.user=(t=c?.user)!==null&&t!==void 0?t:Ku()}else if(o&&!o.user&&!o.user){const c=await fs(this.storage,this.storageKey+"-user");c&&c?.user?(o.user=c.user,await At(this.storage,this.storageKey+"-user"),await ri(this.storage,this.storageKey,o)):o.user=Ku()}if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&await this._removeSession();return}const u=((s=o.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Wu;if(this._debug(a,`session has${u?"":" not"} expired with margin of ${Wu}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),qu(c)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(o.access_token);!f&&c?.user?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(a,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var s,a;if(!t)throw new ur;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Go;const{data:u,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!u.session)throw new ur;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={data:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(o,"error",u),ge(u)){const c={data:null,error:u};return qu(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(c),c}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,s,a=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",s,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:s});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,s)}catch(p){u.push(p)}});if(await Promise.all(c),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await At(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},t),a=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&s.user&&await ri(this.userStorage,this.storageKey+"-user",{user:s.user});const o=Object.assign({},s);delete o.user;const u=Zh(o);await ri(this.storage,this.storageKey,u)}else{const o=Zh(s);await ri(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await At(this.storage,this.storageKey),await At(this.storage,this.storageKey+"-code-verifier"),await At(this.storage,this.storageKey+"-user"),this.userStorage&&await At(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Lt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ti);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:a}}=s;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-t)/ti);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ti}ms, refresh threshold is ${ac} ticks`),o<=ac&&await this._callRefreshToken(a.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof sm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,a){const o=[`provider=${encodeURIComponent(s)}`];if(a?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[u,c]=await Ys(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(f.toString())}if(a?.queryParams){const u=new URLSearchParams(a.queryParams);o.push(u.toString())}return a?.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var a;const{data:o,error:u}=s;return u?this._returnResult({data:null,error:u}):await Pe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(ge(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(t){try{return await this._useSession(async s=>{var a,o;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:p,error:m}=await Pe(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(t.factorType==="totp"&&p.type==="totp"&&(!((o=p?.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(s){if(ge(s))return this._returnResult({data:null,error:s});throw s}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var a;const{data:o,error:u}=s;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?ob(t.webauthn.credential_response):lb(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:p}=await Pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:p}))})}catch(s){if(ge(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var a;const{data:o,error:u}=s;if(u)return this._returnResult({data:null,error:u});const c=await Pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:ib(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:ab(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ge(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(t){const{data:s,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){var t;const{data:{user:s},error:a}=await this.getUser();if(a)return{data:null,error:a};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=s?.factors)!==null&&t!==void 0?t:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(t){var s,a,o,u;if(t)try{const{payload:_}=Ao(t);let x=null;_.aal&&(x=_.aal);let C=x;const{data:{user:T},error:L}=await this.getUser(t);if(L)return this._returnResult({data:null,error:L});((a=(s=T?.factors)===null||s===void 0?void 0:s.filter(K=>K.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(C="aal2");const U=_.amr||[];return{data:{currentLevel:x,nextLevel:C,currentAuthenticationMethods:U},error:null}}catch(_){if(ge(_))return this._returnResult({data:null,error:_});throw _}const{data:{session:c},error:f}=await this.getSession();if(f)return this._returnResult({data:null,error:f});if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:p}=Ao(c.access_token);let m=null;p.aal&&(m=p.aal);let y=m;((u=(o=c.user.factors)===null||o===void 0?void 0:o.filter(_=>_.status==="verified"))!==null&&u!==void 0?u:[]).length>0&&(y="aal2");const w=p.amr||[];return{data:{currentLevel:m,nextLevel:y,currentAuthenticationMethods:w},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async s=>{const{data:{session:a},error:o}=s;return o?this._returnResult({data:null,error:o}):a?await Pe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new ur})})}catch(s){if(ge(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(t,s){try{return await this._useSession(async a=>{const{data:{session:o},error:u}=a;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new ur});const c=await Pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&Lt()&&!s?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(ge(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,s){try{return await this._useSession(async a=>{const{data:{session:o},error:u}=a;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new ur});const c=await Pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&Lt()&&!s?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(ge(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:s},error:a}=t;return a?this._returnResult({data:null,error:a}):s?await Pe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new ur})})}catch(t){if(ge(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async s=>{const{data:{session:a},error:o}=s;return o?this._returnResult({data:null,error:o}):a?(await Pe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ur})})}catch(s){if(ge(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(t,s={keys:[]}){let a=s.keys.find(f=>f.kid===t);if(a)return a;const o=Date.now();if(a=this.jwks.keys.find(f=>f.kid===t),a&&this.jwks_cached_at+g_>o)return a;const{data:u,error:c}=await Pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,a=u.keys.find(f=>f.kid===t),!a)?null:a}async getClaims(t,s={}){try{let a=t;if(!a){const{data:_,error:x}=await this.getSession();if(x||!_.session)return this._returnResult({data:null,error:x});a=_.session.access_token}const{header:o,payload:u,signature:c,raw:{header:f,payload:p}}=Ao(a);s?.allowExpired||U_(u.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!m){const{error:_}=await this.getUser(a);if(_)throw _;return{data:{claims:u,header:o,signature:c},error:null}}const y=M_(o.alg),g=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,g,c,k_(`${f}.${p}`)))throw new uc("Invalid JWT signature");return{data:{claims:u,header:o,signature:c},error:null}}catch(a){if(ge(a))return this._returnResult({data:null,error:a});throw a}}}da.nextInstanceID={};const vb=da,yb="2.98.0";let Zi="";typeof Deno<"u"?Zi="deno":typeof document<"u"?Zi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zi="react-native":Zi="node";const wb={"X-Client-Info":`supabase-js-${Zi}/${yb}`},_b={headers:wb},bb={schema:"public"},xb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Sb={};function fa(r){"@babel/helpers - typeof";return fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fa(r)}function Eb(r,t){if(fa(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var a=s.call(r,t);if(fa(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function kb(r){var t=Eb(r,"string");return fa(t)=="symbol"?t:t+""}function Rb(r,t,s){return(t=kb(t))in r?Object.defineProperty(r,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[t]=s,r}function ap(r,t){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),s.push.apply(s,a)}return s}function ct(r){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?ap(Object(s),!0).forEach(function(a){Rb(r,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):ap(Object(s)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(s,a))})}return r}const Cb=r=>r?(...t)=>r(...t):(...t)=>fetch(...t),Tb=()=>Headers,Pb=(r,t,s)=>{const a=Cb(s),o=Tb();return async(u,c)=>{var f;const p=(f=await t())!==null&&f!==void 0?f:r;let m=new o(c?.headers);return m.has("apikey")||m.set("apikey",r),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),a(u,ct(ct({},c),{},{headers:m}))}};function Ob(r){return r.endsWith("/")?r:r+"/"}function jb(r,t){var s,a;const{db:o,auth:u,realtime:c,global:f}=r,{db:p,auth:m,realtime:y,global:g}=t,w={db:ct(ct({},p),o),auth:ct(ct({},m),u),realtime:ct(ct({},y),c),storage:{},global:ct(ct(ct({},g),f),{},{headers:ct(ct({},(s=g?.headers)!==null&&s!==void 0?s:{}),(a=f?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return r.accessToken?w.accessToken=r.accessToken:delete w.accessToken,w}function Nb(r){const t=r?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ob(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Ab=class extends vb{constructor(r){super(r)}},Lb=class{constructor(r,t,s){var a,o;this.supabaseUrl=r,this.supabaseKey=t;const u=Nb(r);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:bb,realtime:Sb,auth:ct(ct({},xb),{},{storageKey:c}),global:_b},p=jb(s??{},f);if(this.storageKey=(a=p.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=p.auth)!==null&&m!==void 0?m:{},this.headers,p.global.fetch)}this.fetch=Pb(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(ct({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new yw(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch,timeout:p.db.timeout,urlLengthLimit:p.db.urlLengthLimit}),this.storage=new d_(this.storageUrl.href,this.headers,this.fetch,s?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new cw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,t,s)}channel(r,t={config:{}}){return this.realtime.channel(r,t)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,t,s;if(r.accessToken)return await r.accessToken();const{data:a}=await r.auth.getSession();return(t=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&t!==void 0?t:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:t,detectSessionInUrl:s,storage:a,userStorage:o,storageKey:u,flowType:c,lock:f,debug:p,throwOnError:m},y,g){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ab({url:this.authUrl.href,headers:ct(ct({},w),y),storageKey:u,autoRefreshToken:r,persistSession:t,detectSessionInUrl:s,storage:a,userStorage:o,flowType:c,lock:f,debug:p,throwOnError:m,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new Iw(this.realtimeUrl.href,ct(ct({},r),{},{params:ct(ct({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,t)=>{this._handleTokenChanged(r,"CLIENT",t?.access_token)})}_handleTokenChanged(r,t,s){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Ib=(r,t,s)=>new Lb(r,t,s);function Db(){if(typeof window<"u")return!1;const r=globalThis.process;if(!r)return!1;const t=r.version;if(t==null)return!1;const s=t.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}Db()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const $b="https://ethtiiyoxnsvirtpzjbc.supabase.co",Ub="sb_publishable_LioEhkQ-dnE1s5WeHWqZLQ_6rsija7h",Et=Ib($b,Ub),di="users";function fi(r,t){if(r)throw new Error(`${t}: ${r.message}`)}function _a(r){return r?{id:r.id,authUserId:r.auth_user_id??null,name:r.name,email:r.email,role:r.role??"user",createdAt:r.created_at??r.createdAt??null}:null}async function Mb(){const{data:r,error:t}=await Et.from(di).select("id,auth_user_id,name,email,role,created_at").order("id",{ascending:!0});return fi(t,"Error al consultar usuarios"),(r??[]).map(_a)}async function om(r){const t=r.trim().toLowerCase(),{data:s,error:a}=await Et.from(di).select("id,auth_user_id,name,email,role,created_at").eq("email",t).maybeSingle();return fi(a,"Error al consultar usuario por correo"),_a(s)}async function zb(r){const{data:t,error:s}=await Et.from(di).select("id,auth_user_id,name,email,role,created_at").eq("auth_user_id",r).maybeSingle();return fi(s,"Error al consultar usuario por auth id"),_a(t)}async function Fb({name:r,email:t,role:s="user",authUserId:a=null}){const o=t.trim().toLowerCase(),{data:u,error:c}=await Et.from(di).insert({name:r,email:o,role:s,auth_user_id:a}).select("id,auth_user_id,name,email,role,created_at").maybeSingle();return fi(c,"Error al crear usuario"),_a(u)}async function Bb({authUserId:r,name:t,email:s,role:a="user"}){const o=s.trim().toLowerCase(),{data:u,error:c}=await Et.from(di).upsert({auth_user_id:r,name:t,email:o,role:a},{onConflict:"email"}).select("id,auth_user_id,name,email,role,created_at").maybeSingle();return fi(c,"Error al sincronizar perfil de usuario"),_a(u)}async function Hb(r){const t=r.trim().toLowerCase(),{data:s,error:a}=await Et.from(di).delete().eq("email",t).select("id");return fi(a,"Error al eliminar usuario"),(s?.length??0)>0}const lm=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,Wb="Si el correo existe, enviamos instrucciones.",Vb="Credenciales invalidas. Verifique sus datos.";function op(r){return r?{id:r.id,authUserId:r.authUserId??null,name:r.name,email:r.email,role:r.role??"user",createdAt:r.createdAt??null}:null}function li(r,t){return r instanceof Error&&r.message?r.message:t}function qb({providedName:r,authMetadataName:t,email:s}){return r?.trim()?r.trim():t?.trim()?t.trim():s.includes("@")?s.split("@")[0]:"Usuario"}async function Jo(r,t){const s=r?.email?.trim().toLowerCase();if(!r?.id||!s)throw new Error("No se pudo obtener informacion de la cuenta autenticada.");const a=await zb(r.id);if(a)return op(a);const o=await om(s),u=await Bb({authUserId:r.id,name:qb({providedName:o?.name??t,authMetadataName:r.user_metadata?.name,email:s}),email:s,role:o?.role??"user"});return op(u)}async function Kb(){const{data:r,error:t}=await Et.auth.getSession();if(t)throw new Error(`No fue posible validar la sesion: ${t.message}`);const s=r.session?.user;return s?Jo(s):null}function Gb(r){const{data:{subscription:t}}=Et.auth.onAuthStateChange((s,a)=>{r(a?.user??null)});return()=>{t.unsubscribe()}}async function Jb({email:r,password:t}){if(!r||!t)return{success:!1,message:"Campo obligatorio"};try{const s=r.trim().toLowerCase(),{data:a,error:o}=await Et.auth.signInWithPassword({email:s,password:t});return o?o.message.includes("Invalid login credentials")||o.message.includes("invalid_credentials")?{success:!1,message:Vb}:{success:!1,message:li(o,"No fue posible iniciar sesion.")}:{success:!0,message:"Inicio de sesion exitoso.",user:await Jo(a.user)}}catch(s){return{success:!1,message:li(s,"No fue posible iniciar sesion.")}}}async function Yb({name:r,email:t,password:s,confirmPassword:a}){if(!r||!t||!s||!a)return{success:!1,message:"Campo obligatorio"};const o=t.trim().toLowerCase();if(!lm.test(o))return{success:!1,message:"Correo invalido."};if(s.length<6)return{success:!1,message:"La contrasena debe tener al menos 6 caracteres."};if(s!==a)return{success:!1,message:"Las contrasenas no coinciden."};try{const{data:u,error:c}=await Et.auth.signUp({email:o,password:s,options:{data:{name:r.trim()}}});if(c)return c.message.includes("already registered")||c.message.includes("already exists")?{success:!1,message:"Ya existe una cuenta con ese correo."}:{success:!1,message:li(c,"No fue posible registrar la cuenta.")};const f=u.user;if(!f)return{success:!0,message:"Cuenta creada. Revise su correo para continuar."};const p=await Jo(f,r.trim());return u.session?{success:!0,message:"Cuenta creada correctamente.",user:p}:{success:!0,message:"Cuenta creada. Revise su correo para confirmar el acceso."}}catch(u){return{success:!1,message:li(u,"No fue posible registrar la cuenta.")}}}async function Qb(){const{error:r}=await Et.auth.signOut();return r?{success:!1,message:li(r,"No fue posible cerrar sesion.")}:{success:!0,message:"Sesion cerrada correctamente."}}async function Xb({email:r,redirectTo:t}){const s=r.trim().toLowerCase();if(!lm.test(s))return{success:!1,message:"Correo invalido"};try{await Et.auth.resetPasswordForEmail(s,{redirectTo:t})}catch(a){console.error(a)}return{success:!0,message:Wb}}async function Zb(r){const{error:t}=await Et.auth.updateUser({password:r});return t?{success:!1,message:li(t,"No fue posible actualizar la contrasena. Solicite un nuevo enlace.")}:{success:!0,message:"Contrasena actualizada correctamente."}}const ex=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,um=r=>new Promise(t=>setTimeout(t,r)),cm=r=>({id:r.id,authUserId:r.authUserId??null,name:r.name,email:r.email,role:r.role??"user",createdAt:r.createdAt});function dm(r,t){return r instanceof Error&&r.message?r.message:t}async function tx(){try{return(await Mb()).map(cm)}catch(r){return console.error(r),[]}}async function rx({name:r,email:t,role:s="user"}){if(await um(500),!r||!t)return{success:!1,message:"Campo obligatorio"};const a=t.trim().toLowerCase();if(!ex.test(a))return{success:!1,message:"Correo invalido."};try{if(await om(a))return{success:!1,message:"Ya existe un perfil con ese correo."};const u=await Fb({name:r.trim(),email:a,role:s,authUserId:null});return{success:!0,message:"Perfil creado correctamente.",user:cm(u)}}catch(o){return{success:!1,message:dm(o,"No fue posible crear el perfil.")}}}async function nx({email:r,currentUserEmail:t}){await um(300);const s=r.trim().toLowerCase(),a=t?.trim().toLowerCase();if(s===a)return{success:!1,message:"No puede eliminar su propia sesion activa."};try{return await Hb(s)?{success:!0,message:"Perfil eliminado correctamente."}:{success:!1,message:"No fue posible eliminar el perfil."}}catch(o){return{success:!1,message:dm(o,"No fue posible eliminar el perfil.")}}}const Yo="data_records";function Qo(r,t){if(r)throw new Error(`${t}: ${r.message}`)}function Ec(r){return r?{id:r.id,key:r.key,value:r.value,updatedAt:r.updated_at??r.updatedAt??null}:null}async function sx(){const{data:r,error:t}=await Et.from(Yo).select("id,key,value,updated_at").order("id",{ascending:!0});return Qo(t,"Error al consultar datos"),(r??[]).map(Ec)}async function ix({key:r,value:t}){const{data:s,error:a}=await Et.from(Yo).insert({key:r,value:t,updated_at:new Date().toISOString()}).select("id,key,value,updated_at").maybeSingle();return Qo(a,"Error al crear dato"),Ec(s)}async function ax({id:r,key:t,value:s}){const{data:a,error:o}=await Et.from(Yo).update({key:t,value:s,updated_at:new Date().toISOString()}).eq("id",r).select("id,key,value,updated_at").maybeSingle();return Qo(o,"Error al actualizar dato"),Ec(a)}async function ox(r){const{data:t,error:s}=await Et.from(Yo).delete().eq("id",r).select("id");return Qo(s,"Error al eliminar dato"),(t?.length??0)>0}const kc=r=>new Promise(t=>setTimeout(t,r));function Rc(r,t){return r instanceof Error&&r.message?r.message:t}async function lx(){try{return await sx()}catch(r){return console.error(r),[]}}async function ux({key:r,value:t}){if(await kc(350),!r||!t)return{success:!1,message:"Campo obligatorio"};try{return{success:!0,message:"Dato registrado correctamente.",record:await ix({key:r.trim(),value:t.trim()})}}catch(s){return{success:!1,message:Rc(s,"No fue posible registrar el dato.")}}}async function cx({id:r,key:t,value:s}){if(await kc(350),!t||!s)return{success:!1,message:"Campo obligatorio"};try{const a=await ax({id:r,key:t.trim(),value:s.trim()});return a?{success:!0,message:"Dato actualizado correctamente.",record:a}:{success:!1,message:"No fue posible actualizar el dato."}}catch(a){return{success:!1,message:Rc(a,"No fue posible actualizar el dato.")}}}async function dx(r){await kc(250);try{return await ox(r)?{success:!0,message:"Dato eliminado correctamente."}:{success:!1,message:"No fue posible eliminar el dato."}}catch(t){return{success:!1,message:Rc(t,"No fue posible eliminar el dato.")}}}const fm=O.createContext(void 0);function fx({children:r}){const[t,s]=O.useState(null),[a,o]=O.useState([]),[u,c]=O.useState([]),[f,p]=O.useState(!0),m=O.useCallback(async()=>{const V=await tx();return o(V),V},[]),y=O.useCallback(async()=>{const V=await lx();return c(V),V},[]),g=O.useCallback(async(V=null)=>{try{const k=V?await Jo(V):await Kb();s(k),k&&await m()}catch(k){console.error(k),s(null)}},[m]);O.useEffect(()=>{let V=!0;const k=async()=>{await Promise.all([m(),y()]),await g(),V&&p(!1)},ne=Gb(we=>{V&&g(we)});return k(),()=>{V=!1,ne()}},[y,m,g]);const w=O.useCallback(async(V,k)=>{const ne=await Jb({email:V,password:k});return ne.success&&ne.user&&s(ne.user),ne},[]),_=O.useCallback(async({name:V,email:k,password:ne,confirmPassword:we})=>{const Me=await Yb({name:V,email:k,password:ne,confirmPassword:we});return Me.success&&await m(),Me.success&&Me.user&&s(Me.user),Me},[m]),x=O.useCallback(async()=>{const V=await Qb();return V.success&&s(null),V},[]),C=O.useCallback(async(V,k)=>Xb({email:V,redirectTo:k}),[]),T=O.useCallback(async V=>Zb(V),[]),L=O.useCallback(async({name:V,email:k,role:ne})=>{const we=await rx({name:V,email:k,role:ne});return we.success&&await m(),we},[m]),M=O.useCallback(async V=>{const k=await nx({email:V,currentUserEmail:t?.email??""});return k.success&&await m(),k},[m,t?.email]),U=O.useCallback(async({key:V,value:k})=>{const ne=await ux({key:V,value:k});return ne.success&&await y(),ne},[y]),K=O.useCallback(async({id:V,key:k,value:ne})=>{const we=await cx({id:V,key:k,value:ne});return we.success&&await y(),we},[y]),te=O.useCallback(async V=>{const k=await dx(V);return k.success&&await y(),k},[y]),Z=O.useMemo(()=>({user:t,users:a,dataItems:u,isBootstrapping:f,isAuthenticated:!!t,login:w,register:_,logout:x,requestPasswordReset:C,updatePassword:T,createUserAccount:L,deleteUserAccount:M,createDataItem:U,updateDataItem:K,deleteDataItem:te}),[t,a,u,f,w,_,x,C,T,L,M,U,K,te]);return R.jsx(fm.Provider,{value:Z,children:r})}function bs(){const r=O.useContext(fm);if(!r)throw new Error("useAuth debe usarse dentro de AuthProvider.");return r}function hx({children:r}){const{isAuthenticated:t,isBootstrapping:s}=bs();return s?R.jsx("div",{className:"min-h-screen bg-[#f3f3f3]"}):t?r:R.jsx(wc,{to:"/login",replace:!0})}function ha({title:r,subtitle:t,children:s}){return R.jsx("div",{className:"flex min-h-screen items-center justify-center bg-white p-4",children:R.jsxs("div",{className:"w-full max-w-md rounded-[2px] border border-[#e1e1e1] bg-white p-8",children:[R.jsx("h1",{className:"mb-1 text-[24px] font-semibold text-[#323130]",children:r}),t?R.jsx("p",{className:"mb-6 text-[14px] text-[#605e5c]",children:t}):null,s]})})}const hm=(...r)=>r.filter((t,s,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===s).join(" ").trim();const px=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const mx=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,a)=>a?a.toUpperCase():s.toLowerCase());const lp=r=>{const t=mx(r);return t.charAt(0).toUpperCase()+t.slice(1)};var gx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const vx=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const yx=O.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:c,...f},p)=>O.createElement("svg",{ref:p,...gx,width:t,height:t,stroke:r,strokeWidth:a?Number(s)*24/Number(t):s,className:hm("lucide",o),...!u&&!vx(f)&&{"aria-hidden":"true"},...f},[...c.map(([m,y])=>O.createElement(m,y)),...Array.isArray(u)?u:[u]]));const Er=(r,t)=>{const s=O.forwardRef(({className:a,...o},u)=>O.createElement(yx,{ref:u,iconNode:t,className:hm(`lucide-${px(lp(r))}`,`lucide-${r}`,a),...o}));return s.displayName=lp(r),s};const wx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_x=Er("chevron-right",wx);const bx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xx=Er("circle-alert",bx);const Sx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ex=Er("circle-check",Sx);const kx=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],pm=Er("database",kx);const Rx=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Cx=Er("layers",Rx);const Tx=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Px=Er("mail",Tx);const Ox=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],jx=Er("pencil-line",Ox);const Nx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ju=Er("shield",Nx);const Ax=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],mm=Er("stethoscope",Ax);const Lx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gm=Er("trash-2",Lx);const Ix=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],vm=Er("user-plus",Ix);const Dx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ym=Er("user",Dx),$x="h-10 w-full rounded-[2px] border px-3 text-[14px] text-[#323130] placeholder:text-[#605e5c] outline-none transition focus:border-[#0078D4] focus:ring-1 focus:ring-[#0078D4] disabled:bg-[#f3f3f3]";function mn({id:r,name:t,label:s,type:a="text",value:o,onChange:u,error:c,disabled:f,autoComplete:p,placeholder:m}){return R.jsxs("div",{children:[R.jsx("label",{htmlFor:r,className:"mb-1 block text-[14px] font-medium text-[#323130]",children:s}),R.jsx("input",{id:r,name:t,type:a,value:o,onChange:u,disabled:f,autoComplete:p,placeholder:m,className:`${$x} ${c?"border-[#a4262c]":"border-[#e1e1e1]"}`}),c?R.jsxs("p",{className:"mt-1 flex items-center gap-1 text-[12px] text-[#a4262c]",children:[R.jsx(xx,{size:14}),c]}):null]})}const Ux=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;function Mx(){const r=_s(),{login:t}=bs(),[s,a]=O.useState({email:"",password:""}),[o,u]=O.useState({email:"",password:""}),[c,f]=O.useState(!1),p=g=>{const{name:w,value:_}=g.target;a(x=>({...x,[w]:_})),u(x=>({...x,[w]:""}))},m=()=>{const g={email:"",password:""};return s.email.trim()?Ux.test(s.email.trim())||(g.email="Correo invalido"):g.email="Campo obligatorio",s.password.trim()||(g.password="Campo obligatorio"),g},y=async g=>{g.preventDefault();const w=m();if(u(w),Object.values(w).some(Boolean)){rt.error("Revise los campos marcados.");return}f(!0);const _=await t(s.email.trim(),s.password);if(f(!1),!_.success){rt.error(_.message);return}rt.success(_.message),setTimeout(()=>r("/dashboard"),300)};return R.jsxs(ha,{title:"Iniciar sesion",subtitle:"Acceda con su cuenta para continuar.",children:[R.jsxs("form",{className:"space-y-4",onSubmit:y,noValidate:!0,children:[R.jsx(mn,{id:"email",name:"email",type:"email",label:"Correo electronico",value:s.email,onChange:p,error:o.email,disabled:c,autoComplete:"email"}),R.jsx(mn,{id:"password",name:"password",type:"password",label:"Contrasena",value:s.password,onChange:p,error:o.password,disabled:c,autoComplete:"current-password"}),R.jsx("div",{className:"text-right",children:R.jsx(oi,{to:"/forgot-password",className:"text-[14px] text-[#0078D4]",children:"Olvido su contrasena?"})}),R.jsx("button",{type:"submit",disabled:c,className:"h-10 w-full rounded-[2px] bg-[#0078D4] px-4 text-[14px] font-medium text-white transition hover:bg-[#106ebe] disabled:cursor-not-allowed disabled:opacity-70",children:c?"Iniciando sesion...":"Iniciar sesion"})]}),R.jsxs("div",{className:"mt-6 border-t border-[#e1e1e1] pt-4 text-center text-[14px] text-[#605e5c]",children:["No tiene cuenta?"," ",R.jsx(oi,{to:"/register",className:"text-[#0078D4]",children:"Registrarse"})]})]})}const zx=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;function Fx(){const r=_s(),{register:t}=bs(),[s,a]=O.useState({name:"",email:"",password:"",confirmPassword:""}),[o,u]=O.useState({name:"",email:"",password:"",confirmPassword:""}),[c,f]=O.useState(!1),p=()=>{const g={name:"",email:"",password:"",confirmPassword:""};return s.name.trim()||(g.name="Campo obligatorio"),s.email.trim()?zx.test(s.email.trim())||(g.email="Correo invalido"):g.email="Campo obligatorio",s.password.trim()?s.password.length<6&&(g.password="Minimo 6 caracteres"):g.password="Campo obligatorio",s.confirmPassword.trim()?s.password!==s.confirmPassword&&(g.confirmPassword="Las contrasenas no coinciden"):g.confirmPassword="Campo obligatorio",g},m=g=>{const{name:w,value:_}=g.target;a(x=>({...x,[w]:_})),u(x=>({...x,[w]:""}))},y=async g=>{g.preventDefault();const w=p();if(u(w),Object.values(w).some(Boolean)){rt.error("Revise los campos marcados.");return}f(!0);const _=await t(s);if(f(!1),!_.success){rt.error(_.message);return}if(rt.success(_.message),_.user){setTimeout(()=>r("/dashboard"),300);return}setTimeout(()=>r("/login"),300)};return R.jsxs(ha,{title:"Crear cuenta",subtitle:"Registre un usuario para acceder al sistema.",children:[R.jsxs("form",{className:"space-y-4",onSubmit:y,noValidate:!0,children:[R.jsx(mn,{id:"name",name:"name",type:"text",label:"Nombre completo",value:s.name,onChange:m,error:o.name,disabled:c,autoComplete:"name"}),R.jsx(mn,{id:"email",name:"email",type:"email",label:"Correo electronico",value:s.email,onChange:m,error:o.email,disabled:c,autoComplete:"email"}),R.jsx(mn,{id:"password",name:"password",type:"password",label:"Contrasena",value:s.password,onChange:m,error:o.password,disabled:c,autoComplete:"new-password"}),R.jsx(mn,{id:"confirmPassword",name:"confirmPassword",type:"password",label:"Confirmar contrasena",value:s.confirmPassword,onChange:m,error:o.confirmPassword,disabled:c,autoComplete:"new-password"}),R.jsx("button",{type:"submit",disabled:c,className:"h-10 w-full rounded-[2px] bg-[#0078D4] px-4 text-[14px] font-medium text-white transition hover:bg-[#106ebe] disabled:cursor-not-allowed disabled:opacity-70",children:c?"Creando cuenta...":"Registrarse"}),R.jsx(oi,{to:"/",className:`flex h-10 w-full items-center justify-center rounded-[2px] border border-[#e1e1e1] bg-white px-4 text-[14px] font-medium text-[#323130] transition hover:bg-[#f3f3f3] ${c?"pointer-events-none opacity-60":""}`,children:"Volver a la pagina principal"})]}),R.jsxs("div",{className:"mt-6 border-t border-[#e1e1e1] pt-4 text-center text-[14px] text-[#605e5c]",children:["Ya tiene cuenta?"," ",R.jsx(oi,{to:"/login",className:"text-[#0078D4]",children:"Iniciar sesion"})]})]})}const Bx=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,up="Si el correo existe, enviamos instrucciones.";function Hx(){const r=_s(),{requestPasswordReset:t}=bs(),[s,a]=O.useState(""),[o,u]=O.useState(""),[c,f]=O.useState(!1),[p,m]=O.useState(!1),y=O.useMemo(()=>{const x="/Caso-1/",C=x.endsWith("/")?x:`${x}/`;return`${window.location.origin}${C}reset-password`},[]),g=x=>x.trim()?Bx.test(x.trim())?"":"Correo invalido":"Campo obligatorio",w=async x=>{x.preventDefault();const C=g(s);if(u(C),C){rt.error("Revise el correo ingresado.");return}f(!0),await t(s.trim(),y),f(!1),m(!0),rt.success(up)},_=()=>{a(""),u(""),m(!1)};return p?R.jsxs(ha,{title:"Revise su correo",children:[R.jsx("div",{className:"mb-4 flex justify-center",children:R.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-[2px] bg-[#107c10] text-white",children:R.jsx(Ex,{size:24})})}),R.jsx("p",{className:"mb-6 text-center text-[14px] text-[#605e5c]",children:up}),R.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[R.jsx("button",{type:"button",onClick:_,className:"h-10 flex-1 rounded-[2px] border border-[#e1e1e1] bg-white px-4 text-[14px] font-medium text-[#323130] transition hover:bg-[#f3f3f3]",children:"Usar otro correo"}),R.jsx("button",{type:"button",onClick:()=>r("/"),className:"h-10 flex-1 rounded-[2px] bg-[#0078D4] px-4 text-[14px] font-medium text-white transition hover:bg-[#106ebe]",children:"Volver"})]})]}):R.jsxs(ha,{title:"Recuperar contrasena",subtitle:"Ingrese su correo para recibir instrucciones.",children:[R.jsx("div",{className:"mb-5 rounded-[2px] border border-[#e1e1e1] bg-[#f3f3f3] p-3 text-[13px] text-[#605e5c]",children:"Se enviara un enlace para restablecer su contrasena."}),R.jsxs("form",{className:"space-y-4",onSubmit:w,noValidate:!0,children:[R.jsx(mn,{id:"email",name:"email",type:"email",label:"Correo electronico",value:s,onChange:x=>{a(x.target.value),u("")},error:o,disabled:c,autoComplete:"email"}),R.jsx("button",{type:"submit",disabled:c,className:"h-10 w-full rounded-[2px] bg-[#0078D4] px-4 text-[14px] font-medium text-white transition hover:bg-[#106ebe] disabled:cursor-not-allowed disabled:opacity-70",children:c?"Enviando...":"Enviar enlace"}),R.jsx("button",{type:"button",onClick:()=>r("/"),disabled:c,className:"h-10 w-full rounded-[2px] border border-[#e1e1e1] bg-white px-4 text-[14px] font-medium text-[#323130] transition hover:bg-[#f3f3f3] disabled:cursor-not-allowed disabled:opacity-60",children:"Volver a la pagina principal"})]})]})}function Wx(){const r=_s(),{updatePassword:t}=bs(),[s,a]=O.useState({password:"",confirmPassword:""}),[o,u]=O.useState({password:"",confirmPassword:""}),[c,f]=O.useState(!1),[p,m]=O.useState(!1),y=_=>{const{name:x,value:C}=_.target;a(T=>({...T,[x]:C})),u(T=>({...T,[x]:""}))},g=()=>{const _={password:"",confirmPassword:""};return s.password.trim()?s.password.trim().length<6&&(_.password="Minimo 6 caracteres"):_.password="Campo obligatorio",s.confirmPassword.trim()?s.password!==s.confirmPassword&&(_.confirmPassword="Las contrasenas no coinciden"):_.confirmPassword="Campo obligatorio",_},w=async _=>{_.preventDefault();const x=g();if(u(x),Object.values(x).some(Boolean)){rt.error("Revise los campos marcados.");return}f(!0);const C=await t(s.password.trim());if(f(!1),!C.success){rt.error(C.message);return}m(!0),rt.success(C.message)};return R.jsx(ha,{title:"Definir nueva contrasena",subtitle:"Ingrese una nueva contrasena para su cuenta.",children:p?R.jsxs("div",{className:"space-y-4",children:[R.jsx("p",{className:"rounded-[2px] border border-[#e1e1e1] bg-[#f3f3f3] p-3 text-[14px] text-[#323130]",children:"Su contrasena se actualizo correctamente."}),R.jsx("button",{type:"button",onClick:()=>r("/login",{replace:!0}),className:"h-10 w-full rounded-[2px] bg-[#0078D4] px-4 text-[14px] font-medium text-white transition hover:bg-[#106ebe]",children:"Ir a iniciar sesion"})]}):R.jsxs("form",{className:"space-y-4",onSubmit:w,noValidate:!0,children:[R.jsx(mn,{id:"password",name:"password",type:"password",label:"Nueva contrasena",value:s.password,onChange:y,error:o.password,disabled:c,autoComplete:"new-password"}),R.jsx(mn,{id:"confirmPassword",name:"confirmPassword",type:"password",label:"Confirmar nueva contrasena",value:s.confirmPassword,onChange:y,error:o.confirmPassword,disabled:c,autoComplete:"new-password"}),R.jsx("button",{type:"submit",disabled:c,className:"h-10 w-full rounded-[2px] bg-[#0078D4] px-4 text-[14px] font-medium text-white transition hover:bg-[#106ebe] disabled:cursor-not-allowed disabled:opacity-70",children:c?"Actualizando...":"Actualizar contrasena"}),R.jsx("button",{type:"button",onClick:()=>r("/login"),disabled:c,className:"h-10 w-full rounded-[2px] border border-[#e1e1e1] bg-white px-4 text-[14px] font-medium text-[#323130] transition hover:bg-[#f3f3f3] disabled:cursor-not-allowed disabled:opacity-60",children:"Volver a iniciar sesion"})]})})}const Vx="users",qx="data_records";async function Kx(){const[r,t]=await Promise.all([Et.from(Vx).select("id",{count:"exact",head:!0}),Et.from(qx).select("id",{count:"exact",head:!0})]);return{usersPing:r,dataPing:t}}const cp=()=>typeof performance<"u"&&performance.now?performance.now():Date.now();async function Gx(){const r=cp(),{usersPing:t,dataPing:s}=await Kx(),a=Math.round(cp()-r),o=new Date().toISOString(),u=t.error,c=s.error;return u||c?{success:!1,checkedAt:o,latencyMs:a,message:"Fallo el ping a la base de datos.",detail:u?.message??c?.message??"Sin detalle."}:{success:!0,checkedAt:o,latencyMs:a,message:"Base de datos operativa.",stats:{users:t.count??0,dataRecords:s.count??0}}}const ys="rounded-[2px] border border-[#e1e1e1] bg-white p-6",Fo="h-10 w-full rounded-[2px] border border-[#e1e1e1] px-3 text-[14px] text-[#323130] outline-none transition focus:border-[#0078D4] focus:ring-1 focus:ring-[#0078D4] disabled:bg-[#f3f3f3]";function Jx({user:r,isAdmin:t}){return R.jsxs("div",{className:"space-y-6",children:[R.jsxs("section",{className:ys,children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-[2px] bg-[#0078D4]",children:R.jsx(Ju,{size:18,className:"text-white"})}),R.jsxs("div",{children:[R.jsxs("h2",{className:"text-[20px] font-semibold text-[#323130]",children:["Bienvenido, ",r?.name]}),R.jsx("p",{className:"text-[14px] text-[#605e5c]",children:"Panel principal del sistema"})]})]}),R.jsx("div",{className:"my-6 border-t border-[#e1e1e1]"}),R.jsxs("div",{className:"space-y-3",children:[R.jsxs("div",{className:"flex items-center gap-3 text-[14px] text-[#323130]",children:[R.jsx(ym,{size:16,className:"text-[#605e5c]"}),R.jsx("span",{className:"w-24 text-[#605e5c]",children:"Nombre"}),R.jsx("span",{children:r?.name})]}),R.jsxs("div",{className:"flex items-center gap-3 text-[14px] text-[#323130]",children:[R.jsx(Px,{size:16,className:"text-[#605e5c]"}),R.jsx("span",{className:"w-24 text-[#605e5c]",children:"Email"}),R.jsx("span",{children:r?.email})]}),R.jsxs("div",{className:"flex items-center gap-3 text-[14px] text-[#323130]",children:[R.jsx(Ju,{size:16,className:"text-[#107c10]"}),R.jsx("span",{className:"w-24 text-[#605e5c]",children:"Estado"}),R.jsx("span",{className:"text-[#107c10]",children:"Sesion activa"})]}),R.jsxs("div",{className:"flex items-center gap-3 text-[14px] text-[#323130]",children:[R.jsx(Ju,{size:16,className:"text-[#605e5c]"}),R.jsx("span",{className:"w-24 text-[#605e5c]",children:"Rol"}),R.jsx("span",{className:"capitalize",children:r?.role??"user"})]})]})]}),t?R.jsxs("section",{className:ys,children:[R.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[R.jsx(Cx,{size:16,className:"text-[#0078D4]"}),R.jsx("h3",{className:"text-[16px] font-semibold text-[#323130]",children:"Arquitectura en 3 capas"})]}),R.jsxs("div",{className:"space-y-3 text-[14px] text-[#323130]",children:[R.jsxs("p",{children:["El sistema se organiza en ",R.jsx("strong",{children:"Presentacion"}),", ",R.jsx("strong",{children:"Negocio"})," y ",R.jsx("strong",{children:"Datos"}),". Esta division separa responsabilidades y reduce acoplamiento entre interfaz, reglas y persistencia."]}),R.jsxs("div",{className:"rounded-[2px] border border-[#e1e1e1] bg-[#f3f3f3] p-3",children:[R.jsx("p",{className:"font-medium text-[#323130]",children:"Proposito"}),R.jsx("p",{className:"mt-1 text-[13px] text-[#605e5c]",children:"Facilitar mantenimiento, pruebas y escalabilidad sin mezclar logica de UI con acceso a base de datos."})]}),R.jsxs("div",{className:"rounded-[2px] border border-[#e1e1e1] bg-[#f3f3f3] p-3",children:[R.jsx("p",{className:"font-medium text-[#323130]",children:"Eleccion"}),R.jsx("p",{className:"mt-1 text-[13px] text-[#605e5c]",children:"Se eligio este modelo para permitir evolucion independiente de React (presentacion), servicios (negocio) y repositorios con Supabase (datos)."})]})]})]}):null]})}function Yx({user:r,navItems:t,activeSection:s,onSelect:a}){const o=(r?.name??"U").trim().charAt(0).toUpperCase()||"U";return R.jsxs("aside",{className:"space-y-4",children:[R.jsx("section",{className:ys,children:R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-[#d2b9a6] text-[22px] font-semibold text-[#323130]",children:o}),R.jsxs("div",{children:[R.jsx("p",{className:"text-[22px] font-semibold leading-none text-[#323130]",children:r?.name}),R.jsx("p",{className:"mt-1 text-[14px] text-[#605e5c]",children:r?.email})]})]})}),R.jsxs("section",{className:ys,children:[R.jsx("h2",{className:"mb-3 text-[14px] font-semibold text-[#323130]",children:"Navegacion"}),R.jsx("div",{className:"space-y-1",children:t.map(u=>{const c=u.icon,f=u.id===s;return R.jsxs("button",{type:"button",onClick:()=>a(u.id),className:`flex w-full items-center justify-between rounded-[2px] border px-3 py-2 text-left text-[14px] transition ${f?"border-[#0078D4] bg-[#eef6fc] text-[#323130]":"border-[#e1e1e1] bg-white text-[#323130] hover:bg-[#f3f3f3]"}`,children:[R.jsxs("span",{className:"flex items-center gap-2",children:[R.jsx(c,{size:15,className:"text-[#605e5c]"}),u.label]}),R.jsx(_x,{size:14,className:"text-[#605e5c]"})]},u.id)})})]})]})}function Qx({user:r,users:t,userForm:s,userErrors:a,isSavingUser:o,onUserChange:u,onCreateUser:c,onDeleteUser:f}){return R.jsxs("section",{className:ys,children:[R.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[R.jsx(vm,{size:16,className:"text-[#0078D4]"}),R.jsx("h3",{className:"text-[16px] font-semibold text-[#323130]",children:"Gestion de usuarios"})]}),R.jsxs("form",{className:"space-y-3",onSubmit:c,noValidate:!0,children:[R.jsxs("div",{children:[R.jsx("input",{type:"text",placeholder:"Nombre",value:s.name,onChange:p=>u("name",p.target.value),disabled:o,className:`${Fo} ${a.name?"border-[#a4262c]":"border-[#e1e1e1]"}`}),a.name?R.jsx("p",{className:"mt-1 text-[12px] text-[#a4262c]",children:a.name}):null]}),R.jsxs("div",{children:[R.jsx("input",{type:"email",placeholder:"Correo",value:s.email,onChange:p=>u("email",p.target.value),disabled:o,className:`${Fo} ${a.email?"border-[#a4262c]":"border-[#e1e1e1]"}`}),a.email?R.jsx("p",{className:"mt-1 text-[12px] text-[#a4262c]",children:a.email}):null]}),R.jsx("button",{type:"submit",disabled:o,className:"h-10 w-full rounded-[2px] bg-[#0078D4] px-4 text-[14px] font-medium text-white transition hover:bg-[#106ebe] disabled:cursor-not-allowed disabled:opacity-70",children:o?"Guardando...":"Agregar perfil"})]}),R.jsxs("div",{className:"mt-5 border-t border-[#e1e1e1] pt-4",children:[R.jsxs("p",{className:"mb-3 text-[13px] text-[#605e5c]",children:["Usuarios registrados: ",t.length]}),R.jsx("div",{className:"space-y-2",children:t.map(p=>{const m=p.email===r?.email;return R.jsxs("div",{className:"flex items-center justify-between rounded-[2px] border border-[#e1e1e1] bg-white p-3",children:[R.jsxs("div",{children:[R.jsx("p",{className:"text-[14px] font-medium text-[#323130]",children:p.name}),R.jsx("p",{className:"text-[13px] text-[#605e5c]",children:p.email}),R.jsxs("p",{className:"text-[12px] text-[#605e5c]",children:["Rol: ",p.role]})]}),R.jsxs("button",{type:"button",onClick:()=>f(p.email),disabled:m,className:"flex h-8 items-center gap-1 rounded-[2px] border border-[#e1e1e1] bg-white px-3 text-[12px] text-[#323130] transition hover:bg-[#f3f3f3] disabled:cursor-not-allowed disabled:opacity-50",children:[R.jsx(gm,{size:13}),m?"Activo":"Eliminar"]})]},p.id)})})]})]})}function Xx({dataItems:r,dataForm:t,dataErrors:s,editingDataId:a,isSavingData:o,onDataChange:u,onSaveData:c,onCancelEditData:f,onEditData:p,onDeleteData:m}){return R.jsxs("section",{className:ys,children:[R.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[R.jsx(pm,{size:16,className:"text-[#0078D4]"}),R.jsx("h3",{className:"text-[16px] font-semibold text-[#323130]",children:"Gestion de datos"})]}),R.jsxs("form",{className:"space-y-3",onSubmit:c,noValidate:!0,children:[R.jsxs("div",{children:[R.jsx("input",{type:"text",placeholder:"Clave",value:t.key,onChange:y=>u("key",y.target.value),disabled:o,className:`${Fo} ${s.key?"border-[#a4262c]":"border-[#e1e1e1]"}`}),s.key?R.jsx("p",{className:"mt-1 text-[12px] text-[#a4262c]",children:s.key}):null]}),R.jsxs("div",{children:[R.jsx("input",{type:"text",placeholder:"Valor",value:t.value,onChange:y=>u("value",y.target.value),disabled:o,className:`${Fo} ${s.value?"border-[#a4262c]":"border-[#e1e1e1]"}`}),s.value?R.jsx("p",{className:"mt-1 text-[12px] text-[#a4262c]",children:s.value}):null]}),R.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[R.jsx("button",{type:"submit",disabled:o,className:"h-10 rounded-[2px] bg-[#0078D4] px-4 text-[14px] font-medium text-white transition hover:bg-[#106ebe] disabled:cursor-not-allowed disabled:opacity-70",children:o?"Guardando...":a?"Actualizar dato":"Agregar dato"}),a?R.jsx("button",{type:"button",onClick:f,className:"h-10 rounded-[2px] border border-[#e1e1e1] bg-white px-4 text-[14px] font-medium text-[#323130] transition hover:bg-[#f3f3f3]",children:"Cancelar edicion"}):null]})]}),R.jsxs("div",{className:"mt-5 border-t border-[#e1e1e1] pt-4",children:[R.jsxs("p",{className:"mb-3 text-[13px] text-[#605e5c]",children:["Registros: ",r.length]}),R.jsx("div",{className:"space-y-2",children:r.map(y=>R.jsx("div",{className:"rounded-[2px] border border-[#e1e1e1] bg-white p-3",children:R.jsxs("div",{className:"flex items-start justify-between gap-3",children:[R.jsxs("div",{children:[R.jsx("p",{className:"text-[14px] font-medium text-[#323130]",children:y.key}),R.jsx("p",{className:"text-[13px] text-[#605e5c]",children:y.value}),R.jsxs("p",{className:"mt-1 text-[12px] text-[#605e5c]",children:["Actualizado: ",new Date(y.updatedAt).toLocaleString("es-CR")]})]}),R.jsxs("div",{className:"flex gap-2",children:[R.jsxs("button",{type:"button",onClick:()=>p(y),className:"flex h-8 items-center gap-1 rounded-[2px] border border-[#e1e1e1] bg-white px-3 text-[12px] text-[#323130] transition hover:bg-[#f3f3f3]",children:[R.jsx(jx,{size:13}),"Editar"]}),R.jsxs("button",{type:"button",onClick:()=>m(y.id),className:"flex h-8 items-center gap-1 rounded-[2px] border border-[#e1e1e1] bg-white px-3 text-[12px] text-[#323130] transition hover:bg-[#f3f3f3]",children:[R.jsx(gm,{size:13}),"Eliminar"]})]})]})},y.id))})]})]})}function Zx({healthResult:r,isCheckingHealth:t,onCheckHealth:s}){return R.jsxs("section",{className:ys,children:[R.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[R.jsx(mm,{size:16,className:"text-[#0078D4]"}),R.jsx("h3",{className:"text-[16px] font-semibold text-[#323130]",children:"Salud del sistema"})]}),R.jsx("p",{className:"mb-4 text-[13px] text-[#605e5c]",children:"Ping a la base de datos para verificar operacion de Supabase."}),R.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[R.jsxs("div",{className:"rounded-[2px] border border-[#e1e1e1] bg-[#f3f3f3] p-3",children:[R.jsx("p",{className:"text-[12px] text-[#605e5c]",children:"Estado"}),R.jsx("p",{className:`text-[14px] font-medium ${r?r.success?"text-[#107c10]":"text-[#a4262c]":"text-[#605e5c]"}`,children:r?r.success?"Operativo":"Falla":"Sin verificar"})]}),R.jsxs("div",{className:"rounded-[2px] border border-[#e1e1e1] bg-[#f3f3f3] p-3",children:[R.jsx("p",{className:"text-[12px] text-[#605e5c]",children:"Latencia"}),R.jsx("p",{className:"text-[14px] font-medium text-[#323130]",children:r?`${r.latencyMs} ms`:"No disponible"})]}),R.jsxs("div",{className:"rounded-[2px] border border-[#e1e1e1] bg-[#f3f3f3] p-3",children:[R.jsx("p",{className:"text-[12px] text-[#605e5c]",children:"Ultima verificacion"}),R.jsx("p",{className:"text-[14px] font-medium text-[#323130]",children:r?new Date(r.checkedAt).toLocaleString("es-CR"):"Sin verificar"})]})]}),R.jsxs("div",{className:"mt-4 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[R.jsx("button",{type:"button",onClick:s,disabled:t,className:"h-10 rounded-[2px] bg-[#0078D4] px-4 text-[14px] font-medium text-white transition hover:bg-[#106ebe] disabled:cursor-not-allowed disabled:opacity-70",children:t?"Verificando...":"Hacer ping a base de datos"}),R.jsx("p",{className:"text-[13px] text-[#605e5c]",children:r?.stats?`users: ${r.stats.users} | data_records: ${r.stats.dataRecords}`:"Sin metricas de registros"})]}),!r?.success&&r?.detail?R.jsx("p",{className:"mt-3 text-[12px] text-[#a4262c]",children:r.detail}):null]})}const eS=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;function tS(){const r=_s(),{user:t,users:s,dataItems:a,logout:o,createUserAccount:u,deleteUserAccount:c,createDataItem:f,updateDataItem:p,deleteDataItem:m}=bs(),y=t?.role==="admin",g=O.useMemo(()=>{const de=[{id:"account",label:"Mi cuenta",icon:ym}];return y?[...de,{id:"users",label:"Gestion de usuarios",icon:vm},{id:"data",label:"Gestion de datos",icon:pm},{id:"health",label:"Salud del sistema",icon:mm}]:de},[y]),[w,_]=O.useState("account"),x=g.some(de=>de.id===w)?w:"account",[C,T]=O.useState({name:"",email:""}),[L,M]=O.useState({name:"",email:""}),[U,K]=O.useState(!1),[te,Z]=O.useState({key:"",value:""}),[V,k]=O.useState({key:"",value:""}),[ne,we]=O.useState(null),[Me,Te]=O.useState(!1),[Ie,Ne]=O.useState(!1),[Ee,ue]=O.useState(null),ve=async()=>{const de=await o();if(!de.success){rt.error(de.message);return}rt.success(de.message),r("/login",{replace:!0})},W=(de,qe)=>{T(Ge=>({...Ge,[de]:qe})),M(Ge=>({...Ge,[de]:""}))},J=()=>{const de={name:"",email:""};return C.name.trim()||(de.name="Campo obligatorio"),C.email.trim()?eS.test(C.email.trim())||(de.email="Correo invalido"):de.email="Campo obligatorio",de},G=async de=>{de.preventDefault();const qe=J();if(M(qe),Object.values(qe).some(Boolean)){rt.error("Revise los datos del usuario.");return}K(!0);const Ge=await u(C);if(K(!1),!Ge.success){rt.error(Ge.message);return}rt.success(Ge.message),T({name:"",email:""}),M({name:"",email:""})},j=async de=>{const qe=await c(de);if(!qe.success){rt.error(qe.message);return}rt.success(qe.message)},z=(de,qe)=>{Z(Ge=>({...Ge,[de]:qe})),k(Ge=>({...Ge,[de]:""}))},Y=()=>{const de={key:"",value:""};return te.key.trim()||(de.key="Campo obligatorio"),te.value.trim()||(de.value="Campo obligatorio"),de},re=async de=>{de.preventDefault();const qe=Y();if(k(qe),Object.values(qe).some(Boolean)){rt.error("Revise los datos del registro.");return}Te(!0);const Ge=ne?await p({id:ne,...te}):await f(te);if(Te(!1),!Ge.success){rt.error(Ge.message);return}rt.success(Ge.message),Z({key:"",value:""}),k({key:"",value:""}),we(null)},oe=de=>{we(de.id),Z({key:de.key,value:de.value}),k({key:"",value:""}),_("data")},me=()=>{we(null),Z({key:"",value:""}),k({key:"",value:""})},Le=async de=>{const qe=await m(de);if(!qe.success){rt.error(qe.message);return}rt.success(qe.message),ne===de&&me()},he=async()=>{Ne(!0);const de=await Gx();if(Ne(!1),ue(de),!de.success){rt.error(de.message);return}rt.success(`${de.message} Latencia: ${de.latencyMs} ms.`)},De=()=>x==="users"&&y?R.jsx(Qx,{user:t,users:s,userForm:C,userErrors:L,isSavingUser:U,onUserChange:W,onCreateUser:G,onDeleteUser:j}):x==="data"&&y?R.jsx(Xx,{dataItems:a,dataForm:te,dataErrors:V,editingDataId:ne,isSavingData:Me,onDataChange:z,onSaveData:re,onCancelEditData:me,onEditData:oe,onDeleteData:Le}):x==="health"&&y?R.jsx(Zx,{healthResult:Ee,isCheckingHealth:Ie,onCheckHealth:he}):R.jsx(Jx,{user:t,isAdmin:y});return R.jsxs("div",{className:"min-h-screen bg-[#f3f3f3]",children:[R.jsx("header",{className:"h-14 border-b border-[#e1e1e1] bg-white",children:R.jsxs("div",{className:"mx-auto flex h-full w-full max-w-7xl items-center justify-between px-6",children:[R.jsx("h1",{className:"text-[18px] font-semibold text-[#323130]",children:"Sistema Autenticador"}),R.jsx("button",{type:"button",onClick:ve,className:"h-8 rounded-[2px] border border-[#e1e1e1] bg-white px-3 text-[13px] font-medium text-[#323130] transition hover:bg-[#f3f3f3]",children:"Cerrar sesion"})]})}),R.jsx("main",{className:"mx-auto w-full max-w-7xl px-6 py-8",children:R.jsxs("div",{className:"grid gap-6 lg:grid-cols-[280px_1fr]",children:[R.jsx(Yx,{user:t,navItems:g,activeSection:x,onSelect:_}),R.jsx("section",{children:De()})]})})]})}function rS(){const{isAuthenticated:r,isBootstrapping:t}=bs();return t?R.jsx("div",{className:"min-h-screen bg-white"}):R.jsx(wc,{to:r?"/dashboard":"/login",replace:!0})}const nS=_0([{path:"/",element:R.jsx(rS,{})},{path:"/login",element:R.jsx(Mx,{})},{path:"/register",element:R.jsx(Fx,{})},{path:"/forgot-password",element:R.jsx(Hx,{})},{path:"/reset-password",element:R.jsx(Wx,{})},{path:"/dashboard",element:R.jsx(hx,{children:R.jsx(tS,{})})},{path:"*",element:R.jsx(wc,{to:"/",replace:!0})}],{basename:"/Caso-1/"});function sS(){return R.jsxs(fx,{children:[R.jsx(A0,{router:nS}),R.jsx(aw,{position:"top-right",richColors:!0})]})}uv.createRoot(document.getElementById("root")).render(R.jsx(O.StrictMode,{children:R.jsx(sS,{})}));
